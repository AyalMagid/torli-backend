{"version":3,"sources":["cmps/TabsApp/TabsApp.jsx","cmps/StepperApp/StepperApp.jsx","cmps/AppHeader/AppHeader.jsx","history.js","services/HttpService.js","services/UtilsService.js","services/TreatmentService.js","actions/treatmentActions.js","cmps/SwitchApp/SwitchApp.jsx","cmps/TreatmentPreview/TreatmentPreview.jsx","cmps/TreatmentList/TreatmentList.jsx","actions/stepperActions.js","cmps/NavBtns/NavBtns.jsx","pages/TreatmentApp/TreatmentApp.jsx","cmps/LoaderApp/LoaderApp.jsx","cmps/DailySlots/DailySlots.jsx","cmps/TimeslotList/TimeslotList.jsx","services/EmailService.js","services/CalendarService.js","actions/calendarActions.js","pages/CalendarApp/CalendarApp.jsx","reducers/TreatmentReducer.js","reducers/StepperReducer.js","reducers/CalendarReducer.js","store.js","services/StoreService.js","pages/SubmitForm/SubmitForm.jsx","pages/CancelAppointment/CancelAppointment.jsx","App.js","serviceWorker.js","index.js"],"names":["TabsApp","withRouter","props","React","useState","value","setValue","location","useLocation","useEffect","pathname","style","width","boxShadow","color","AppBar","position","Tabs","onChange","event","newValue","history","push","className","Tab","label","theme","createMuiTheme","palette","primary","main","useStyles","makeStyles","root","StepperApp","connect","state","steps","StepperReducer","activeStep","step","classes","Stepper","map","index","labelProps","Step","key","StepLabel","AppHeader","id","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","englishToHebrew","word","convertedWord","getIsosDate","daysAfterOrBefore","date","Date","dateCopy","getTime","setDate","getDate","toISOString","slice","getTimeSlotsForPreview","getDailySlotsForPreview","slotsRanges","duration","timeslotsByConstraints","sr","concat","apply","changeTimeForDisplay","time","diff","hours","minutes","checkDigitsAndAddZerosIfNeeded","idGen","Math","random","toString","substr","calculateEndTime","floor","arrayToString","pickedTreatments","treatmentsType","forEach","tr","idx","length","name","convertDateToIsraelisDisplay","dateParts","split","getDayByHebrewWord","timeslot","slotsToRender","year","start","month","day","min","startTime","end","endTime","nextTimeSlot","getHours","getMinutes","slotToRender","digit","getTreatments","HttpService","getById","treatmentId","remove","update","treatment","_id","updateTreatments","treatments","updatedTreatment","findIndex","getMarkedTreatmentsStr","filter","marked","UtilsService","setTreatments","type","_setTreatment","_updateTreatments","_updateDuration","direction","jss","plugins","jssPreset","rtl","SwitchApp","checked","setChecked","StylesProvider","ThemeProvider","Switch","updateDuration","updatePickedTreatments","target","inputProps","_TreatmentPreview","treatmentsToUpdate","isMarked","setState","TreatmentService","this","price","UtilService","Component","mapDispatchToProps","dispatch","TreatmentPreview","TreatmentReducer","TreatmentList","getTreatmentsToUpdate","updateActiveStep","_updateActiveStep","NavBtns","hideBtn","setHideBtn","activeNextBtn","setActiveNextBtn","activeBackBtn","setActiveBackBtn","changeStep","setAppointment","handleOpen","toggleBtnsStyle","disabled","onClick","pageVariants","in","opacity","x","out","pageTransition","stiffness","loadTreatments","TreatmentApp","div","initial","exit","animate","variants","transition","LoaderApp","height","timeout","setTreatment","DailySlots","timeSlots","ts","onAppointmentChoice","TimeslotList","Object","keys","slotsForPreview","getDay","sendEmail","email","isConfirmation","phone","businessName","bodyText","emailObj","getCalendar","getAvailbleDailySlots","saveConfirmedEvent","getEventByPhone","removeEventFromDB","CALENDAR_ID","TOKEN","headers","Authorization","calendar","objects","endtTime","JSON","stringify","time_windows","eventName","creatorName","creatorEmail","fetch","body","then","json","eventId","confirmedEvent","EmailService","setTimeSlots","textAlign","materialTheme","overrides","MuiPickersToolbar","toolbar","backgroundColor","MuiPickersDay","daySelected","dayDisabled","current","loadTimeSlots","pickedDate","firstDay","secondDay","thirdDay","CalendarService","firstDaySlots","secondDaySlots","thirdDaySlots","CalendarApp","CalendarReducer","selectedDate","handleDateChange","loader","setLoader","utils","DateFnsUtils","locale","heLocale","disableToolbar","variant","okLabel","cancelLabel","format","margin","KeyboardButtonProps","INITIAL_STATE","confirmedEventId","rootReducer","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","initApp","modal","display","alignItems","justifyContent","paper","background","border","shadows","padding","spacing","input","SubmitForm","open","setOpen","markedTreatmetns","setmarkedTreatmetns","credentials","setCredentials","dateIsraeliDisplay","init","StoreService","handleChange","field","noValidate","autoComplete","TextField","autoFocus","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","CancelAppointment","setPhone","eventToCancel","setEventToCancel","events","eventToRmove","ev","App","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9f695901.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './TabsApp.scss';\n\nexport function _TabsApp(props) {\n  const [value, setValue] = React.useState(0);\n  const location = useLocation()\n  useEffect(() => {(location.pathname !== '/cancelAppointment')? setValue(0): setValue(1)});\n\n  // tabs style\n  const style = {\n    width:'50%',\n    boxShadow:'none',\n    color:'#172b4d'\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    if (newValue === 1) {\n      props.history.push('/cancelAppointment')\n    } else {\n      props.history.push('/')\n    }\n  };\n\n  return (\n\n    <AppBar position=\"static\" style={{boxShadow:'none'}} >\n      <Tabs value={value} onChange={handleChange} className=\"tabs\">\n        <Tab label=\"זימון\" style={style}/>\n        <Tab label=\"ביטול\" style={style}/>\n      </Tabs>\n    </AppBar>\n  );\n}\n\nexport const TabsApp = withRouter(_TabsApp)","import React from 'react';\nimport { connect } from 'react-redux';\nimport {MuiThemeProvider,createMuiTheme,makeStyles} from \"@material-ui/core/styles\";\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport './StepperApp.scss'\n\n// StepperApp style\nconst theme = createMuiTheme({\n// add margin left from the circules\n  palette: {\n    primary: {\n      main: '#e91e63'\n    }\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  }\n}));\n\n\nexport function _StepperApp(props) {\n\n  const classes = useStyles();\n\n\n\n  return (\n    <div className={classes.root}>\n\n  <MuiThemeProvider theme={theme}>\n      <Stepper activeStep={props.activeStep}>\n        {props.steps.map((label, index) => {\n          const stepProps = {};\n          const labelProps = {};\n          return (\n            <Step  key={label} {...stepProps}>\n              <StepLabel  {...labelProps}>{label}  </StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n    </MuiThemeProvider>\n    </div>\n  );\n}\n\n\nfunction mapStateProps(state) {\n  return {\n    steps: state.StepperReducer.steps,\n    activeStep:state.StepperReducer.step\n  }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const StepperApp = connect(mapStateProps, mapDispatchToProps)(_StepperApp)","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { TabsApp } from '../TabsApp/TabsApp.jsx';\nimport { StepperApp } from '../StepperApp/StepperApp.jsx';\nimport './AppHeader.scss';\n\n\nexport function AppHeader(props) {\n\n    const location = useLocation()\n\n    return (\n        <>\n            <div className=\"app-header\">\n                <header className=\"flex upper-header align-center\">\n                    <h2 id=\"text\" className=\"logo\"> Tor-Li<i  className=\"fas fa-tasks\"></i></h2>\n                </header>\n                <TabsApp />\n                {(location.pathname === '/cancelAppointment')? '': <StepperApp />}\n            </div>\n\n        </>\n    )\n}\n\n\n\n\n\n","import { createBrowserHistory } from \"history\";\nconst history = createBrowserHistory();\n\nexport default history;","import history from '../history';\nimport Axios from 'axios';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n});\n\nexport default {\n    get(endpoint, data){\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data){\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data){\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data){\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\n\nasync function ajax(endpoint, method='get', data=null) {\n\n    // let h = new Headers()\n    // h.append('Authorization','Bearer mFzYTSGauAA4QGdG6rI9MtfvvfEZHo')\n    \n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            // headers:h,\n            data\n        })\n        // console.log(`${BASE_URL}${endpoint}`)\n        return res.data;\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\n        console.dir(err);\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n        throw err;\n    }\n}","export default {\n  englishToHebrew,\n  getIsosDate,\n  getTimeSlotsForPreview,\n  getDailySlotsForPreview,\n  changeTimeForDisplay,\n  idGen,\n  calculateEndTime,\n  arrayToString,\n  convertDateToIsraelisDisplay,\n  getDayByHebrewWord\n}\n\nfunction englishToHebrew(word) {\n  let convertedWord\n  switch (word) {\n    case ('minutes'):\n      convertedWord = 'דק׳';\n      break;\n    case ('build'):\n      convertedWord = 'בנייה';\n      break;\n    case ('filling'):\n      convertedWord = 'מילוי';\n      break;\n    case ('medical-manicure'):\n      convertedWord = 'מניקור רפואי';\n      break;\n    case ('gel'):\n      convertedWord = 'לק ג׳ל';\n      break;\n    case ('medical-pedicure'):\n      convertedWord = 'פדיקור';\n      break;\n    case ('medical-pedicure-gel'):\n      convertedWord = 'פדיקור רפואי עם לק ג׳ל';\n      break;\n    case ('half-pedicure'):\n      convertedWord = 'חצי פדיקור';\n      break;\n    case ('half-pedicure-gel'):\n      convertedWord = 'חצי פדיקור עם ג׳ל';\n      break;\n    case ('eyebrows-mustache'):\n      convertedWord = 'גבות ושפם';\n      break;\n    default:\n      convertedWord = \"ברירת מחדל\"\n  }\n\n  return ' ' + convertedWord\n}\n//get a date and how many days before/after and returns only the date part by isos convention\nfunction getIsosDate(daysAfterOrBefore, date = new Date()) {\n  var dateCopy = new Date(date.getTime())\n  dateCopy.setDate(dateCopy.getDate() + daysAfterOrBefore)\n  dateCopy = dateCopy.toISOString().slice(0, 10)\n  return dateCopy\n}\n\nfunction getDailySlotsForPreview(slotsRanges, duration) {\n  const timeslotsByConstraints = slotsRanges.map(sr => getTimeSlotsForPreview(sr, duration))\n  const mergedTimeSlotsToRender = [].concat.apply([], timeslotsByConstraints);\n  return mergedTimeSlotsToRender\n}\n\nfunction getTimeSlotsForPreview(timeslot, duration) {\n  let slotsToRender = [];\n  let year = timeslot.start.slice(0, 4)\n  let month = timeslot.start.slice(5, 7)\n  let day = timeslot.start.slice(8, 10)\n  let hours = +timeslot.start.slice(11, 13)\n  let min = timeslot.start.slice(14, 16)\n  const startTime = new Date(year, month - 1, day, hours + 3, min, 0, 0);\n  year = timeslot.end.slice(0, 4)\n  month = timeslot.end.slice(5, 7)\n  day = timeslot.end.slice(8, 10)\n  hours = +timeslot.end.slice(11, 13)\n  min = timeslot.end.slice(14, 16)\n  const endTime = new Date(year, month - 1, day, hours + 3, min, 0, 0);\n  let nextTimeSlot = startTime//maby need copy\n  hours = nextTimeSlot.getHours()\n  min = nextTimeSlot.getMinutes()\n  let slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n  if ((nextTimeSlot.getTime() + (duration * 60 * 1000)) < endTime.getTime()) { slotsToRender.push(slotToRender) }\n  while ((nextTimeSlot.getTime() + (duration * 60 * 1000)) < endTime.getTime()) {\n    nextTimeSlot = new Date(nextTimeSlot.getTime() + ((60 * 60 * 1000) / 2));//adding half an hour\n    hours = nextTimeSlot.getHours()\n    min = nextTimeSlot.getMinutes()\n    slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n    slotsToRender.push(slotToRender)\n  }\n  return slotsToRender\n}\n\n//get an hour and returns full isos date (including the time)\nfunction changeTimeForDisplay(time, diff) {\n  let hours = +time.slice(0, 2) - diff\n  let minutes = time.slice(3, 5)\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + (minutes)\n}\n\nfunction calculateEndTime(time, duration) {\n  let hours = +time.slice(0, 2)\n  let minutes = +time.slice(3, 5)\n\n  if (duration % 60 === 30) {\n    if (minutes === 30) {\n      hours += Math.floor(duration / 60) + 1\n      minutes = '00'\n    }\n    else {\n      hours += Math.floor(duration / 60)\n      minutes = '30'\n    }\n  }\n  else {\n    hours += (duration / 60)\n    minutes = '00'\n  }\n\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + minutes\n}\n\nfunction checkDigitsAndAddZerosIfNeeded(digit) {\n  digit = (digit < 10) ? '0' + digit : digit\n  return digit\n}\n\n\nfunction idGen() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n};\n\n\nfunction arrayToString(pickedTreatments) {\n  let treatmentsType = ''\n  pickedTreatments.forEach((tr, idx) => {\n    if (pickedTreatments.length !== idx + 1) treatmentsType += tr.name + ', '\n    else treatmentsType += tr.name\n  })\n  return treatmentsType\n}\n\nfunction convertDateToIsraelisDisplay(date) {\n  const dateParts = (date).split('-')\n  return `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`\n}\nfunction getDayByHebrewWord(idx) {\n  console.log(idx);\n  const days = [\"ראשון\",\"שני\",\"שלישי\",\"רביעי\",\"חמישי\",\"שישי\",\"שבת\"]\n  return days[idx]\n}\n\n","import HttpService from './HttpService'\nimport UtilsService from \"../services/UtilsService\";\n\nexport default {\n    getTreatments,\n    getById,\n    remove,\n    update,\n    updateTreatments,\n    getMarkedTreatmentsStr\n}\n\n// update only the store not mongo DB\nfunction updateTreatments(treatments, updatedTreatment){\n    const idx = treatments.findIndex(tr => tr._id === updatedTreatment._id)\n    treatments[idx] = updatedTreatment\nreturn treatments\n}\n\nfunction getMarkedTreatmentsStr(treatments) {\n    treatments = (treatments.filter(tr => tr.marked))\n    return UtilsService.arrayToString(treatments)\n}\n\n// comunicate with backend\nfunction getTreatments() {\n    return HttpService.get('treatment')\n}\n\nfunction getById(treatmentId) {\n    return HttpService.get(`treatment/${treatmentId}`)\n}\nfunction remove(treatmentId) {\n    return HttpService.delete(`treatment/${treatmentId}`)\n}\n\nfunction update(treatment) {\n    return HttpService.put(`treatment/${treatment._id}`, treatment)\n}","import TreatmentService from '../services/TreatmentService';\n\n\nexport function loadTreatments() {\n  \n  return async dispatch => {\n    try {\n      const treatments = await TreatmentService.getTreatments();\n      dispatch(setTreatments(treatments));\n   \n    } catch (err) {\n      console.log('TreatmentActions: err in loadTreatments', err);\n    };\n  }\n}\n\nexport function setTreatments(treatments) {\n  return {\n    type: 'SET_TREATMENTS',\n    treatments\n  };\n}\n\nexport function setTreatment(treatment) {\n  return async dispatch => {\n    try {\n      await \n      dispatch((_setTreatment(treatment)));\n    } catch (err) {\n      console.log('TreatmentActions: err in setTreatment', err);\n    }\n  };\n}\n\nexport function _setTreatment(treatment) {\n  return {\n    type: 'SET_TREATMENT',\n    treatment\n  };\n}\n\nexport function removeTreatment(treatmentId) {\n  return async dispatch => {\n    try {\n      await TreatmentService.remove(treatmentId);\n      dispatch(_removeTreatment(treatmentId));\n    } catch (err) {\n      console.log('TreatmentActions: err in removeTreatment', err);\n    }\n  };\n}\n\nfunction _removeTreatment(treatmentId) {\n  return {\n    type: 'REMOVE_TREATMENT',\n    treatmentId\n  };\n}\n\nexport function updateTreatments(treatments) {\n  console.log(treatments)\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateTreatments(treatments));\n    } catch (err) {\n      console.log('TreatmentActions: err in updateTreatments', err);\n    }\n  };\n}\n\nexport function _updateTreatments(treatments) {\n  return {\n    type: 'UPDATE_TREATMENTS',\n    treatments\n  };\n}\n\n\n\nexport function updateDuration(duration) {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateDuration(duration));\n    } catch (err) {\n      console.log('TreatmentActions: err in addDuration', err);\n    }\n  };\n}\n\nexport function _updateDuration(duration) {\n    return {\n      type: 'UPDATE_DURATION',\n      duration\n    };\n}\n\nexport function initDuration() {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_initDuration());\n    } catch (err) {\n      console.log('ERR WITH initDuration', err);\n    }\n  };\n}\n\nfunction _initDuration() {\n  return {\n    type: 'INIT_DURATION'\n  };\n}\n","import React, { useState, useEffect } from 'react';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { StylesProvider, jssPreset,createMuiTheme,ThemeProvider } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\n\nconst theme = createMuiTheme({\n  direction: 'rtl',\n});\n\n// Configure JSS\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\nexport function SwitchApp(props) {\n\n  const [checked, setChecked] = useState(props.marked);\n\n  const handleChange = (event) => {\n    if (!checked) {\n      props.updateDuration(true)\n      props.updatePickedTreatments(true)\n      console.log('1')\n    }\n    else {\n      // props.setIsActive(false)\n      props.updateDuration(false)\n      props.updatePickedTreatments(false)\n      console.log('2')\n    }\n    setChecked(event.target.checked)\n  };\n\n  return (\n    <StylesProvider jss={jss}>\n      <ThemeProvider theme={theme}>\n        <div dir=\"rtl\">\n          <Switch\n            checked={checked}\n            onChange={handleChange}\n            name=\"checked\"\n            inputProps={{ 'aria-label': 'secondary checkbox' }}\n          />\n        </div>\n      </ThemeProvider>\n    </StylesProvider>\n  );\n}","import React , { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { updateDuration, updateTreatments} from '../../actions/treatmentActions';\nimport { SwitchApp } from '../SwitchApp/SwitchApp';\nimport UtilService from '../../services/UtilsService'\nimport TreatmentService from '../../services/TreatmentService';\nimport './TreatmentPreview.scss';\n\n\nclass _TreatmentPreview extends Component {\n\n    state = {\n        updatedTreatment: this.props.treatment,\n        // treatmentsToUpdate: [...this.props.treatments]\n        treatmentsToUpdate: this.props.treatments\n    }\n\n    updateDuration = (isMarked) => {\n        if (isMarked) {\n            this.props.updateDuration(+this.props.treatment.duration)\n        } else {\n            this.props.updateDuration((+this.props.treatment.duration) * -1)\n        }\n    }\n\n    // mark the treatment\n    updatePickedTreatments = (isMarked) => {\n            this.setState({updatedTreatment:{...this.state.updatedTreatment,marked:isMarked}}, ()=>{\n            const treatments = TreatmentService.updateTreatments(this.state.treatmentsToUpdate,this.state.updatedTreatment)\n            this.setState({treatmentsToUpdate:treatments})\n            //     ()=>{\n            //     this.props.updateTreatments(this.state.treatmentsToUpdate)\n            // }) \n        })\n    }\n\n    render() {\n        const {updatedTreatment} = this.state\n        return (\n            <div className={`treatment-preview ${(updatedTreatment.marked)?'marked-by-switch':\"\"}`}>\n                {updatedTreatment &&\n                    <div className=\" preview-container flex align-center space-between\">\n                        <div className=\"align-col-name\">\n                            {updatedTreatment.name}\n                        </div>\n                        <div className=\"align-col\">{'₪' + updatedTreatment.price}</div>\n                        <div className=\"align-col\">{updatedTreatment.duration + UtilService.englishToHebrew('minutes')}</div>\n                        <SwitchApp className=\"align-col\" marked={updatedTreatment.marked} updateDuration={this.updateDuration} updatePickedTreatments={this.updatePickedTreatments} />\n                    </div>\n                }\n            </div>\n        )\n      }\n}\n    \nfunction mapStateProps(state) {\n    return {\n        duration: state.TreatmentReducer.duration,\n        treatments: state.TreatmentReducer.treatments\n    }\n}\n\nconst mapDispatchToProps = {\n    updateDuration,\n    updateTreatments\n}\n\nexport const TreatmentPreview = connect(mapStateProps, mapDispatchToProps)(_TreatmentPreview)","import React from 'react';\nimport { TreatmentPreview } from '../TreatmentPreview/TreatmentPreview';\nimport UtilsService from '../../services/UtilsService';\nimport './TreatmentList.scss';\n\nexport function TreatmentList(props) {\n    return (\n        <div className=\"treatment-list main-container flex column\">\n            {\n                props.treatments.map(treatment => {\n                    let id=UtilsService.idGen()\n                    return (\n                        <div key={id}>\n                            <TreatmentPreview treatment={treatment} getTreatmentsToUpdate={props.getTreatmentsToUpdate} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","\n\nexport function updateActiveStep(step) {\n    return async dispatch => {\n      try {\n        await \n        dispatch(_updateActiveStep(step));\n      } catch (err) {\n        console.log('StepperActions: err in updateActiveStep', err);\n      }\n    };\n  }\n  \n  export function _updateActiveStep(step) {\n      return {\n        type: 'UPDATE_ACTIVE_STEP',\n        step\n        }\n  };\n\n\n","import React, {useState, useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter } from 'react-router-dom';\nimport './NavBtns.scss';\nfunction _NavBtns(props) {\n\n    const [hideBtn, setHideBtn] = useState('');\n    const [activeNextBtn, setActiveNextBtn] = useState('');\n    const [activeBackBtn, setActiveBackBtn] = useState('');\n\n    useEffect(() => {toggleBtnsStyle()});\n\n    function toggleBtnsStyle() {\n        if (props.activeStep !== 1) {setHideBtn('')}\n        else {setHideBtn(\"hide-btn\")}\n        if (props.activeStep) {setActiveBackBtn('active-btn')}\n        else {setActiveBackBtn('')}\n        if ((props.activeStep === 2 && !props.treatment) || (props.duration) ){setActiveNextBtn('active-btn') \n        } else {setActiveNextBtn('')} \n    }\n\n    function isNextBtnDisable() {\n        if (!props.duration) return true\n        if (props.activeStep === 2 && !props.treatment) return true\n    }\n\n    function changeStep(diff) {\n\n        if (props.activeStep + diff === 3) {\n            props.setAppointment()\n            props.handleOpen()\n        }\n        props.updateActiveStep(props.activeStep + diff)\n        if (!props.activeStep && diff > 0){\n            props.history.push('/calendar')\n        }    \n        else if (props.activeStep === 1 && diff > 0) props.history.push('/form')\n        else if (props.activeStep === 2 && diff < 0) props.history.push('/calendar')\n        else if (props.activeStep === 1 && diff < 0) props.history.push('/')\n    }\n\n    return (\n\n        <div className={`StepperApp-btns-container flex align-center space-around `}>\n          <div className=\"StepperApp-btn-wrraper StepperApp-btn-wrraper-back\"> \n            <button className={`StepperApp-btn ${activeBackBtn}`} disabled={props.activeStep === 0} onClick={() => changeStep(-1)} >\n                חזור\n            </button>\n          </div>\n          <div className={`StepperApp-btn-wrraper StepperApp-btn-wrraper-next ${hideBtn} `}>\n            <button className={`StepperApp-btn ${activeNextBtn}`} onClick={() => changeStep(1)} disabled={isNextBtnDisable()}>\n                    {(props.activeStep === 2) ? 'אשר' : 'הבא'}\n            </button>\n          </div>\n        </div>\n\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        steps: state.StepperReducer.steps,\n        activeStep: state.StepperReducer.step,\n        duration: state.TreatmentReducer.duration,\n        treatment: state.TreatmentReducer.treatment,\n\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep\n}\n\nexport const NavBtns = withRouter(connect(mapStateProps, mapDispatchToProps)(_NavBtns))\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTreatments } from '../../actions/treatmentActions.js';\nimport { TreatmentList } from '../../cmps/TreatmentList/TreatmentList';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { motion } from 'framer-motion'\nimport './TreatmentApp.scss';\nimport '../../styles/style.scss';\n\n// style motion div\nconst pageVariants={\n    in:{\n        opacity: 1 ,\n        x:\"0\"\n    },\n    out:{\n        opacity: 0,\n        x:\"50%\"\n    }\n}\n\nconst pageTransition={\n    duration:1.3,\n    type:\"spring\",\n    stiffness:50\n}\n\nexport function _TreatmentApp(props) {\n    const { loadTreatments,treatments } = props\n    useEffect(() => {\n        if (!treatments) loadTreatments()\n    },[loadTreatments,treatments]);\n\n    if (!treatments) return 'loading...'\n    return (\n    <>\n        <motion.div\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <TreatmentList treatments={treatments}  />\n        </motion.div>\n    <NavBtns />\n    </>\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTreatments\n}\n\nexport const TreatmentApp = connect(mapStateProps, mapDispatchToProps)(_TreatmentApp)\n","import React from 'react';\nimport Loader from 'react-loader-spinner'\nexport class LoaderApp extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#e91e63\"\n        height={75}\n        width={75}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}","import './DailySlots.scss';\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {setTreatment} from '../../actions/treatmentActions';\nimport {updateActiveStep} from '../../actions/stepperActions';\nimport UtilsService from '../../services/UtilsService';\n\n function _DailySlots(props) {\n\n    function onAppointmentChoice(ts, date, diff) {\n        props.updateActiveStep(props.activeStep + diff)\n        let treatment = {\n            time: ts,\n            date\n        }\n        props.setTreatment(treatment)\n        props.history.push('/form')\n    }\n\n    return (\n\n        <div className=\"daily-slots flex column align-center space-between\">\n            {props.timeSlots.map(ts => <button onClick={() => onAppointmentChoice(ts, props.date, 1)}\n                className=\"timeslot-btn\" key={UtilsService.idGen()}>{ts}</button>)}\n        </div>\n    )\n}\n\n\nfunction mapStateProps(state) {\n    return {\n        treatment: state.TreatmentReducer.treatment,\n        activeStep: state.StepperReducer.step\n    }\n}\n\nconst mapDispatchToProps = {\n    setTreatment,\n    updateActiveStep\n}\n\nexport const DailySlots = withRouter(connect(mapStateProps, mapDispatchToProps)(_DailySlots))\n","import React from \"react\";\nimport { DailySlots } from '../DailySlots/DailySlots';\nimport UtilsService from '../../services/UtilsService';\nimport './TimeslotList.scss';\n\nexport function TimeslotList(props) {\n    console.log(props.timeSlots);\n    return (\n        <div className=\"timeslot-list flex\">\n            {\n                Object.keys(props.timeSlots).map(day => {\n                    const date = (props.timeSlots[day])[0].start.slice(0, 10)\n                    // running on each day\n                    const slotsForPreview = UtilsService.getDailySlotsForPreview(props.timeSlots[day], 30)\n                    return (\n                        <div key={UtilsService.idGen()}>\n                            <div className=\"date-container\">\n                                <div>\n                                    {UtilsService.getDayByHebrewWord(new Date((props.timeSlots[day])[0].start).getDay())}\n                                </div>\n                                {UtilsService.convertDateToIsraelisDisplay(date)}\n                            </div>\n                            <DailySlots timeSlots={slotsForPreview} date={date} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import HttpService from './HttpService'\n\nexport default {\n    sendEmail\n}\n\nfunction sendEmail(name, date, email='', isConfirmation, phone='', duration='', time='', treatments='') {\n    const businessName='נייל סלון'\n    let bodyText = ''\n    if (isConfirmation) {\n        bodyText =`        שלום ${name} ,\n\n        שמחים שבחרת ${businessName} !\n        נקבע לך תור ל${treatments}  \n        בתאריך ${date}\n        בשעה ${time}\n        משך זמן הטיפול מוערך כ- ${duration} דקות\n        הטלפון שהתקבל ליצירת קשר הוא - ${phone}\n        \n        תודה`\n    } else {\n        bodyText = `\n        שלום,\n         ${name}\n        התור שנקבע לתאריך ${date} בוטל \n        תודה על העדכון `\n    }\n    let emailObj = {\n        email,\n        bodyText\n    }\n    return HttpService.post('email',emailObj)\n}","import HttpService from './HttpService'\nimport UtilsService from \"../services/UtilsService\";\nimport EmailService from '../services/EmailService'\nimport axios from 'axios';\n\n// const url = process.env.NODE_ENV === 'production'\n//     ? '/api/calendar'\n//     : '//localhost:3030/api/calendar'\n\nexport default {\n    getCalendar,\n    getAvailbleDailySlots,\n    update,\n    remove,\n    saveConfirmedEvent,\n    getEventByPhone,\n    removeEventFromDB,\n    setAppointment\n}\n\n// // AYAL'S CALENDAR\n// const ACCOUNT_ID = '413361439'\n// const CALENDAR_ID = 'calendar_YXlhbG1pc2huQGdtYWlsLmNvbQ'\n// const TOKEN = \"Bearer mFzYTSGauAA4QGdG6rI9MtfvvfEZHo\"\n\n// BAR\nconst ACCOUNT_ID = '416457905'\nconst CALENDAR_ID = 'calendar_YmFydmFydGVzdEBnbWFpbC5jb20'\nconst TOKEN = \"Bearer gVTIuU0seE73kvJqfCyLS8uFYV3cwm\"\n// BAR new\n// const ACCOUNT_ID = '416830154'\n// const CALENDAR_ID = \"calendar_YmFydmFyZm1hbjNAZ21haWwuY29t\"\n// const TOKEN = \"Bearer Zz1lcWHR2WjThDJhiLrJ4fgJ8ZzoxU\"\n\nasync function getCalendar() {\n    const res = await axios ({\n        method: 'get',\n        url: 'https://api.kloudless.com/v1/accounts?enabled=True',\n        headers: {Authorization: TOKEN}\n    })\n    const calendar = res.data.objects[0]\n    return calendar\n}\n\nasync function getAvailbleDailySlots (startTime,endtTime,duration){ \n  const timeSlots = await axios({\n    method: 'post',\n    url: `https://api.kloudless.com/v1/accounts/${ACCOUNT_ID}/cal/availability`,\n    headers: {Authorization: TOKEN, 'Content-Type': 'application/json'},\n    data: JSON.stringify( {\n        \"meeting_duration\": `PT${duration}`,\n            \"time_windows\": [\n                {\n                    \"start\": startTime,\n                    \"end\": endtTime\n                }\n            ] \n    })\n  })\n  return timeSlots.data.time_windows\n}\n\n// should be put/patch\nfunction update (startTime, endtTime, eventName, creatorName, creatorEmail){\n    const url = `https://api.kloudless.com/v1/accounts/${ACCOUNT_ID}/cal/calendars/primary/events`\nreturn fetch(url, {\n    method: 'post',\n    headers: {Authorization: TOKEN, 'Content-Type': 'application/json'}\n,\nbody: JSON.stringify( \n    {\n        \"name\": `${creatorName} - ${eventName}`,\n        \"description\" : eventName,\n        \"start\": startTime,\n        \"end\": endtTime,\n        // \"creator\": {\n        //     \"name\": creatorName,\n        //     \"email\": creatorEmail\n        // }\n    })\n}).then(res=> res.json())\n  .then(json => { return json});\n}\n\nfunction saveConfirmedEvent(event){\n    return HttpService.post('calendar',event)\n}\n\nfunction getEventByPhone (phone) {\n    return HttpService.get(`calendar/${phone}`)\n}\n\nasync function remove (eventId){\n    const url = `https://api.kloudless.com/v1/accounts/${ACCOUNT_ID}/cal/calendars/${CALENDAR_ID}/events/${eventId}`\n    const res = await axios (url, {\n    method: 'delete',\n    headers: {Authorization: TOKEN}\n})\n    console.log(res.data)\n}\n\nfunction removeEventFromDB (_id) {\n    console.log(_id)\n    return HttpService.delete(`calendar/${_id}`)\n}\n\n// async function update  (startTime, endtTime, eventName, creatorName, creatorEmail){\n//   const updatedCalendar = await axios ({\n//       maethod: 'post',\n//       url: `https://api.kloudless.com/v1/accounts/${ACCOUNT_ID}/cal/calendars/primary/events`,\n//       headers: {Authorization: TOKEN, 'Content-Type': 'application/json'},\n//       body: JSON.stringify ( \n//         {\n//             \"name\": eventName,\n//             \"start\": startTime,\n//             \"end\": endtTime,\n//             \"creator\": {\n//                 \"name\": creatorName,\n//                 \"email\": creatorEmail\n//             }\n//         })\n//   })\n//   console.log('updated',updatedCalendar.data)\n// }\n    \n\n\n// function update(calendar) {\n//     return HttpService.put('calendar', calendar)\n// }\n\nasync function setAppointment(treatments, duration, phone, email, name, treatment) {\n    let time = UtilsService.changeTimeForDisplay(treatment.time, 3)\n    const startTime = `${treatment.date}T${time}:00Z`\n    time = UtilsService.calculateEndTime(time, duration)\n    const endTime = `${treatment.date}T${time}:00Z`\n    const confirmedEvent = await update(startTime, endTime, treatments, name, 'ayal@gmail.com')\n    const event = {\n        name,\n        email,\n        phone,\n        eventId: confirmedEvent.id,\n        treatments,\n        duration,\n        startTime: startTime.slice(11, 20),\n        endTime: endTime.slice(11, 20),\n        date: startTime.slice(0, 10)\n    }\n    saveConfirmedEvent(event)\n    console.log(event);\n    EmailService.sendEmail(name, treatment.date, email, true, phone, duration, treatment.time , treatments ) \n}\n\n","import CalendarService from '../services/CalendarService';\nimport UtilsService from '../services/UtilsService';\n\n// THUNK\nexport function loadCalendar() {\n  \n  return async dispatch => {\n    try {\n      const calendar = await CalendarService.getCalendar();\n      dispatch(setCalendar(calendar));\n    } catch (err) {\n      console.log('calendarActions: err in loadCalendars', err);\n  };\n}\n}\n\nexport function setCalendar(calendar) {\n    return {\n      type: 'SET_CALENDAR',\n      calendar\n     };\n}\n\n\nexport function loadTimeSlots(pickedDate = null){\n    if (!pickedDate) {\n      var firstDay = UtilsService.getIsosDate (0)\n      var secondDay = UtilsService.getIsosDate (1)\n      var thirdDay = UtilsService.getIsosDate (2)\n    } else {\n      firstDay = UtilsService.getIsosDate (-1, pickedDate)\n      secondDay = UtilsService.getIsosDate (0,  pickedDate)\n      thirdDay = UtilsService.getIsosDate (1, pickedDate ) \n    }\n  return async dispatch => {\n    try {\n      const timeSlots = {\n      firstDaySlots: await CalendarService.getAvailbleDailySlots(`${firstDay}T05:00:00`, `${firstDay}T17:00:00`, '1H'),\n      secondDaySlots: await CalendarService.getAvailbleDailySlots(`${secondDay}T05:00:00`, `${secondDay}T17:00:00`, '1H'),\n      thirdDaySlots : await CalendarService.getAvailbleDailySlots(`${thirdDay}T05:00:00`, `${thirdDay}T17:00:00`, '1H')\n      }\n      dispatch(setTimeSlots(timeSlots));\n    } catch (err) {\n      console.log('Err getting timeslots', err);\n    }\n  }\n}\n\nexport function setTimeSlots(timeSlots) {\n  return {\n    type: 'SET_TIMESLOTS',\n    timeSlots\n   };\n}\n\n// export async function loadTimeSlots(pickedDate = null){\n//   if (!pickedDate) {\n//       var firstDay = getIsosDate (0)\n//       var secondDay = getIsosDate (1)\n//       var thirdDay = getIsosDate (2)\n//   } else {\n//       firstDay = getIsosDate (-1, pickedDate)\n//       secondDay = getIsosDate (0,  pickedDate)\n//       thirdDay = getIsosDate (1, pickedDate ) \n//   }\n//   const firstDaySlots = await CalendarService.getAvailbleDailySlots(`${firstDay}T05:00:00`, `${firstDay}T17:00:00`, '1H')\n//   const secondDaySlots = await CalendarService.getAvailbleDailySlots(`${secondDay}T05:00:00`, `${secondDay}T17:00:00`, '1H')\n//   const thirdDaySlots = await CalendarService.getAvailbleDailySlots(`${thirdDay}T05:00:00`, `${thirdDay}T17:00:00`, '1H')\n//   const timeSlots = {\n//       first:firstDaySlots,\n//       second:secondDaySlots,\n//       third:thirdDaySlots\n//   }\n//   return timeSlots\n// }\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport DateFnsUtils from '@date-io/date-fns';\nimport heLocale from \"date-fns/locale/he\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { motion } from 'framer-motion'\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport { TimeslotList } from '../../cmps/TimeslotList/TimeslotList';\nimport { loadTimeSlots } from '../../actions/calendarActions.js';\nimport './CalendarApp.scss';\n\n// motion div style\nconst pageVariants={\n    in:{\n        opacity: 1 ,\n        x:0,\n        textAlign: 'center'\n    },\n    out:{\n        opacity: 0,\n        x:\"50%\"\n    }\n}\n\nconst pageTransition={\n    duration:1.3,\n    type:\"spring\",\n    stiffness:50\n}\n\n// material ui - date picker style\nconst materialTheme = createMuiTheme({\n    overrides: {\n        MuiPickersToolbar: {\n            toolbar: {\n                backgroundColor: '#e91e63',\n            },\n        },\n\n        MuiPickersDay: {\n            day: {\n                color: 'black',\n            },\n            daySelected: {\n                backgroundColor: '#e91e63',\n            },\n            dayDisabled: {\n                color: '#e91e63',\n            },\n            current: {\n                color: '#e91e63',\n            },\n        },\n    },\n});\n\nexport function _CalendarApp(props) {\n\n    const [selectedDate, handleDateChange] = useState(new Date());\n    const [loader, setLoader] = useState(true);\n\n    const { loadTimeSlots } = props\n    useEffect(() => { loadTimeSlots() }, [loadTimeSlots]);\n\n    async function handleChange(date) {\n        setLoader(false)\n        handleDateChange(date)\n        await props.loadTimeSlots(date)\n        setLoader(true)\n    }\n\n    return (\n       <>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n            >\n                <div className=\"calendar-picker-container\">\n                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={heLocale} >\n                    <ThemeProvider theme={materialTheme}>\n                        <KeyboardDatePicker\n                            disableToolbar\n                            variant=\"dialog\"\n                            okLabel=\"אישור\"\n                            cancelLabel=\"ביטול\"\n                            format=\"MM/dd/yyyy\"\n                            margin=\"normal\"\n                            id=\"date-picker-inline\"\n                            value={selectedDate}\n                            onChange={handleChange}\n                            KeyboardButtonProps={{\n                                'aria-label': 'change date',\n                            }}\n                        />\n                    </ThemeProvider>\n                </MuiPickersUtilsProvider>\n                </div>\n                <div className=\"main-container time-slot-lists-container\">\n                    {(props.timeSlots && loader) ? <TimeslotList timeSlots={props.timeSlots} />\n                        :<div className=\"loaderContainer flex  justify-center\"><LoaderApp/></div>}\n                </div>\n            </motion.div>\n         <NavBtns />\n        </>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        timeSlots: state.CalendarReducer.timeSlots\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTimeSlots\n}\n\nexport const CalendarApp = connect(mapStateProps, mapDispatchToProps)(_CalendarApp)\n","const INITIAL_STATE = {\n    treatment: null,\n    treatments: null,\n    duration:0\n}\n\nexport function TreatmentReducer(state = INITIAL_STATE, action) {\n\n    switch (action.type) {\n\n        case 'SET_TREATMENTS':\n            return {\n                ...state,\n                treatments: action.treatments\n            }            \n        case 'SET_TREATMENT':\n            return {\n                ...state,\n                treatment: action.treatment\n            }    \n        case 'REMOVE_TREATMENT':\n        return {\n          ...state,\n          treatments: state.treatments.filter(treatment => treatment._id !== action.treatmentId)\n        };     \n        case 'UPDATE_TREATMENTS':\n          console.log('re',action.treatments)\n        return {\n          ...state,\n          treatments:action.treatments \n        };   \n        case 'UPDATE_DURATION':\n        return {\n          ...state,\n          duration: state.duration+(action.duration)\n        };              \n        case 'INIT_DURATION':\n        return {\n          ...state,\n          duration:0\n        };           \n      \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n  step:0,\n  steps:['טיפול', 'תאריך', 'סיום']\n}\n\nexport function StepperReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'UPDATE_ACTIVE_STEP':\n            return {\n                ...state,\n                step:action.step\n            }       \n       \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n    calendar: null,\n    timeSlots: null,\n    confirmedEventId:null\n}\n\nexport function CalendarReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'SET_CALENDAR':\n            return {\n                ...state,\n                calendar: action.calendar\n            }          \n        case 'SET_TIMESLOTS':\n            return {\n                ...state,\n                timeSlots: action.timeSlots\n            }          \n\n        default:\n            return state;\n    }\n}\n\n\n","import { TreatmentReducer } from './reducers/TreatmentReducer';\nimport { StepperReducer } from './reducers/StepperReducer';\nimport { CalendarReducer } from './reducers/CalendarReducer';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst rootReducer = combineReducers({\n    TreatmentReducer,\n    CalendarReducer,\n    StepperReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","import {store} from \"../store.js\";\n\nexport default {\n    initApp\n}\n\nfunction initApp() {\n    store.dispatch({type: 'UPDATE_ACTIVE_STEP',step:0})\n    store.dispatch({type: 'SET_TREATMENT', treatment:null})\n    store.dispatch({type: 'SET_TREATMENTS', treatments:null})\n    store.dispatch({type: 'SET_TIMESLOTS',timeSlots:null})\n    store.dispatch({type: 'INIT_DURATION'})\n}","import React, {useEffect} from \"react\";\nimport { connect } from 'react-redux';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport StoreService from '../../services/StoreService';\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport TextField from '@material-ui/core/TextField';\nimport { motion } from 'framer-motion'\nimport './SubmitForm.scss';\nimport TreatmentService from \"../../services/TreatmentService\";\n\n// style for motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 1.3,\n    type: \"spring\",\n    stiffness: 50\n}\n// style for modal + input material ui\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        border: '2px solid #000',\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(2, 4, 3),\n        color: 'form-title'\n    },\n    input: {\n        '& > *': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        }\n    }\n}));\n\n\nexport function _SubmitForm(props) {\n    \n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [markedTreatmetns, setmarkedTreatmetns] = React.useState('');\n    const [credentials, setCredentials] = React.useState({name:'',phone:'',email:''})\n    const dateIsraeliDisplay = UtilsService.convertDateToIsraelisDisplay(props.treatment.date)\n    const endTime = UtilsService.calculateEndTime(props.treatment.time,props.duration)\n\n    useEffect(() => {\n        setmarkedTreatmetns(TreatmentService.getMarkedTreatmentsStr(props.treatments))\n    }, [props.treatments])\n    \n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n    };\n\n    function init() {\n        StoreService.initApp()\n        props.history.push('/')\n    }\n\n    function setAppointment () {\n        const {name,phone,email} = credentials\n        CalendarService.setAppointment(markedTreatmetns, props.duration, phone, email, name, props.treatment)\n    }\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'name':\n            setCredentials({...credentials,name:value})\n            break;\n            case 'phone':\n            setCredentials({...credentials,phone:value})\n            break;\n            case 'email':\n            setCredentials({...credentials,email:value})\n            break;\n            default:\n            console.log('Err updating name/phone/email')\n        }\n    }\n    \n\n    const {name, phone, email} = credentials\n    return (\n        <>\n            <button className=\"restart-btn\" onClick={init}>אתחול  <i className=\"fas fa-redo-alt\"></i></button>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{ textAlign: 'center' }}\n            >\n                <div>\n                    <form className={`${classes.input} submit-form flex column align-center`} noValidate autoComplete=\"off\">\n                        <div>\n                            <div className=\"form-title\">שם מלא :</div>\n                            <TextField autoFocus={true} name=\"name\" id=\"outlined-basic\" variant=\"outlined\" value={name} onChange={handleChange} />\n                        </div>\n                        <div>\n                            <div className=\"form-title\">טלפון :</div>\n                            <TextField name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n                        </div>\n                        <div>\n                            <div className=\"form-title\">מייל :</div>\n                            <TextField name=\"email\" id=\"outlined-basic\" variant=\"outlined\" value={email} onChange={handleChange} />\n                        </div>\n                    </form>\n\n                    <Modal\n                        aria-labelledby=\"transition-modal-title\"\n                        aria-describedby=\"transition-modal-description\"\n                        className={classes.modal}\n                        open={open}\n                        onClose={handleClose}\n                        closeAfterTransition\n                        BackdropComponent={Backdrop}\n                        BackdropProps={{\n                            timeout: 500,\n                        }}\n                    >\n                        <Fade in={open}>\n                            <div className={classes.paper}>\n                                <h2 id=\"transition-modal-title\">התור נקבע בהצלחה</h2>\n                                <div> נקבע לך תור ל: {markedTreatmetns}  </div>\n                                <div> בתאריך {dateIsraeliDisplay}</div>\n                                <div> בין השעות: {endTime} - {props.treatment.time}</div>\n                                \n                            </div>\n                        </Fade>\n                    </Modal>\n                </div>\n            </motion.div>\n            <NavBtns handleOpen={handleOpen} setAppointment={setAppointment} />\n        </>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments,\n        treatment: state.TreatmentReducer.treatment,\n        duration: state.TreatmentReducer.duration,\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const SubmitForm = withRouter(connect(mapStateProps, mapDispatchToProps)(_SubmitForm))\n","import React, { useState } from \"react\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { motion } from 'framer-motion'\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport EmailService from '../../services/EmailService';\nimport StoreService from '../../services/StoreService';\nimport './CancelAppointment.scss';\n\n// style motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 1.3,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function _CancelAppointment(props) {\n\n\n// style material ui modal\n    const useStyles = makeStyles((theme) => ({\n\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            color: 'form-title'\n        },\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n                width: '25ch',\n                color: '#172b4d'\n            }\n        },\n    }));\n\n\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const [phone, setPhone] =  React.useState('');\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n        props.history.push('/')\n    };\n\n    const [eventToCancel, setEventToCancel] = useState(null)\n\n    function init() {\n        StoreService.initApp()\n      }\n\n    async function cancelAppointment() {\n        const events = await CalendarService.getEventByPhone(phone)\n        const eventToRmove = events[0]\n        // delete from Calendar\n        CalendarService.remove(eventToRmove.eventId)\n        // delete from mongo data base\n        CalendarService.removeEventFromDB(eventToRmove._id)\n        EmailService.sendEmail(eventToCancel.name, eventToCancel.date, eventToCancel.email, false)\n        setEventToCancel(null)\n        handleOpen()\n    }\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'phone':\n                setPhone(value)\n                if (value.length >= 9 && value.length <= 10) {\n                    CalendarService.getEventByPhone(value)\n                        .then(ev => {\n                            if (!ev[0]) return\n                            const dateIsraeliDisplay = UtilsService.convertDateToIsraelisDisplay(ev[0].date)\n                            setEventToCancel({\n                                treatments: ev[0].treatments,\n                                startTime: UtilsService.changeTimeForDisplay(ev[0].startTime, -3),\n                                endTime: UtilsService.changeTimeForDisplay(ev[0].endTime, -3),\n                                date: dateIsraeliDisplay,\n                                email:ev[0].email,\n                                name:ev[0].name,\n                            })\n                        })\n                }\n                break;\n            default:\n                console.log(\"err in phone switch case - cancel appoinment\");\n        }\n    }\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"main-container cancel-appointment flex column align-center space-around \">\n                <div className=\"flex align-center column\">\n                    <div className=\"cancel-form-title\">נא להזין מספר טלפון לביטול התור  :</div>\n                    <TextField autoFocus={true} className={classes.root} name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n                </div>\n                <div className=\"table-wrapper\">\n                    {(eventToCancel) && <div className=\"table-title\"> פרטי התור :</div>}\n                    {(eventToCancel) ?\n                        <div className=\"apointment-details\">\n                            <div className=\"table-cell\"> <span>סוג הטיפול</span> : {eventToCancel.treatments}</div>\n                            <div className=\"table-cell\"> בתאריך : {eventToCancel.date}</div>\n                            <div className=\"last-cell\"> בין השעות : {`${eventToCancel.endTime} - ${eventToCancel.startTime}`}</div>\n                        </div>\n                        :\n                        <div className=\"space\"></div>\n                    }\n                </div>\n                <div className=\"space\"></div>\n                {(eventToCancel) && <button onClick={cancelAppointment} className=\"trash-btn\"> מחק תור <i className=\"fas fa-trash\" ></i></button>}\n\n                <Modal\n                    aria-labelledby=\"transition-modal-title\"\n                    aria-describedby=\"transition-modal-description\"\n                    className={classes.modal}\n                    open={open}\n                    onClose={handleClose}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{\n                        timeout: 500,\n                    }}\n                >\n                    <Fade in={open}>\n                        <div className={classes.paper}>\n                            <h2 id=\"transition-modal-title\">התור בוטל</h2>\n                            <p id=\"transition-modal-description\"></p>\n                        </div>\n                    </Fade>\n                </Modal>\n            </main>\n        </motion.div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const CancelAppointment = withRouter(connect(mapStateProps, mapDispatchToProps)(_CancelAppointment))\n\n\n","import React from 'react';\nimport './App.scss';\nimport { Switch, Route } from 'react-router-dom';\nimport { AppHeader } from './cmps/AppHeader/AppHeader';\nimport { TreatmentApp } from './pages/TreatmentApp/TreatmentApp.jsx'\nimport { CalendarApp } from './pages/CalendarApp/CalendarApp.jsx'\nimport { SubmitForm } from './pages/SubmitForm/SubmitForm.jsx'\nimport { CancelAppointment } from './pages/CancelAppointment/CancelAppointment.jsx'\nimport { HashRouter as Router} from 'react-router-dom';\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <AppHeader/>\n          <Switch >\n            <Route path=\"/calendar\" component={CalendarApp} />\n            <Route path=\"/cancelAppointment\" component={CancelAppointment} />\n            <Route path=\"/form\" component={SubmitForm} />\n            <Route path=\"/\" component={TreatmentApp} />\n          </Switch>\n      </div>\n      </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/style.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}