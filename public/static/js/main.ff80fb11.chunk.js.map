{"version":3,"sources":["styles/img/oo.png","cmps/TabsApp/TabsApp.jsx","cmps/StepperApp/StepperApp.jsx","cmps/AppHeader/AppHeader.jsx","history.js","services/HttpService.js","services/UtilsService.js","services/TreatmentService.js","actions/treatmentActions.js","cmps/SwitchApp/SwitchApp.jsx","cmps/TreatmentPreview/TreatmentPreview.jsx","cmps/TreatmentList/TreatmentList.jsx","cmps/TreatmentTitle/TreatmentTitle.jsx","actions/stepperActions.js","cmps/NavBtns/NavBtns.jsx","cmps/LoaderApp/LoaderApp.jsx","pages/TreatmentApp/TreatmentApp.jsx","cmps/DailySlots/DailySlots.jsx","cmps/TimeslotList/TimeslotList.jsx","services/EventService.js","services/EmailService.js","services/CalendarService.js","actions/calendarActions.js","pages/CalendarApp/CalendarApp.jsx","reducers/TreatmentReducer.js","reducers/StepperReducer.js","reducers/CalendarReducer.js","reducers/UserReducer.js","store.js","services/StoreService.js","services/StorageService.js","pages/SubmitForm/SubmitForm.jsx","pages/CancelAppointment/CancelAppointment.jsx","pages/SignupOrLogin/SignupOrLogin.jsx","services/UserService.js","pages/Login/Login.jsx","pages/Signup/Signup.jsx","pages/HomePage/HomePage.jsx","cmps/EditUser/EditUser.jsx","pages/UserPage/UserPage.jsx","pages/AdminPage/AdminPage.jsx","actions/userAction.js","pages/Contacts/Contacts.jsx","pages/CalendarAdmin/CalendarAdmin.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","TabsApp","withRouter","props","React","useState","value","setValue","location","useLocation","useEffect","pathname","style","width","boxShadow","color","AppBar","position","Tabs","onChange","event","newValue","history","push","className","Tab","label","onClick","id","theme","createMuiTheme","palette","primary","main","useStyles","makeStyles","root","StepperApp","connect","state","steps","StepperReducer","activeStep","step","classes","Stepper","map","index","labelProps","Step","key","StepLabel","AppHeader","includes","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","console","log","ajax","a","method","url","res","dir","response","status","englishToHebrew","word","convertedWord","getIsosDate","getTimeSlotsForPreview","getDailySlotsForPreview","changeTimeForDisplay","idGen","Math","random","toString","substr","calculateEndTime","time","duration","hours","slice","minutes","floor","checkDigitsAndAddZerosIfNeeded","arrayToString","pickedTreatments","treatmentsType","forEach","tr","idx","length","name","convertDateToIsraelisDisplay","getDayByHebrewWord","getEventReadyForDisplay","filteredEvents","_id","treatments","startTime","endTime","date","email","convertNumberToWords","validateEmail","test","String","toLowerCase","getWeekIsosDatesForCalendar","dayByNum","weeklyDates","i","isosDate","start","end","checkIfTsInRange","tsToCompare","tsToCompareWithAddedHours","timeRangeBySlots","occupied","rowspan","getMonthByIdx","daysAfterOrBefore","Date","dateCopy","getTime","setDate","getDate","toISOString","slotsRanges","timeslotsByConstraints","sr","concat","apply","timeslot","slotsToRender","year","month","day","min","nextTimeSlot","getHours","getMinutes","slotToRender","diff","digit","dateParts","split","getTreatments","HttpService","getById","treatmentId","remove","update","treatment","updateTreatments","updatedTreatment","findIndex","getMarkedTreatmentsStr","filter","marked","UtilsService","setTreatments","type","_setTreatment","_updateTreatmentsCount","count","_updateTreatments","_updateDuration","direction","jss","plugins","jssPreset","rtl","SwitchApp","checked","setChecked","StylesProvider","ThemeProvider","Switch","updateDuration","updatePickedTreatments","target","inputProps","_TreatmentPreview","treatmentsToUpdate","isMarked","setState","updateTreatmentsCount","TreatmentService","this","price","UtilService","Component","mapDispatchToProps","dispatch","TreatmentPreview","TreatmentReducer","TreatmentList","getTreatmentsToUpdate","TreatmentTitle","pickedTreatmentsCount","isClicked","updateActiveStep","_updateActiveStep","NavBtns","activeBtn","setActiveBtn","isNextBtnDisable","changeStep","setAppointment","handleOpen","updateTitleProp","disabled","LoaderApp","height","timeout","pageVariants","in","opacity","x","out","pageTransition","stiffness","loadTreatments","TreatmentApp","setIsClicked","div","initial","exit","animate","variants","transition","setTreatment","DailySlots","timeSlots","ts","onAppointmentChoice","TimeslotList","Object","keys","isDateFullyBooked","slotsForPreview","getDay","saveConfirmedEvent","getEventByPhone","phone","removeEventFromDB","sendEmail","isConfirmation","businessName","bodyText","emailObj","getCalendar","getAvailbleDailySlots","addEventToCalendar","removeEventFromCalendar","getEventsFromCalendar","timeRange","eventName","creatorName","creatorEmail","eventId","endtTime","dailySlots","confirmedEvent","EventService","EmailService","setTimeSlots","textAlign","materialTheme","overrides","MuiPickersToolbar","toolbar","backgroundColor","MuiPickersDay","daySelected","dayDisabled","current","loadTimeSlots","pickedDate","firstDay","secondDay","thirdDay","CalendarService","firstDaySlots","secondDaySlots","thirdDaySlots","CalendarApp","CalendarReducer","selectedDate","handleDateChange","loader","setLoader","calendarTitle","seTcalendarTitle","pickerRedTitle","setPickerRedTitle","handleChange","utils","DateFnsUtils","locale","heLocale","disableToolbar","variant","okLabel","cancelLabel","format","margin","KeyboardButtonProps","onSwiped","eventData","setTimeout","INITIAL_STATE","calendar","confirmedEventId","users","rootReducer","combineReducers","action","UserReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","initApp","saveToStorage","str","JSON","stringify","localStorage","setItem","loadFromStorage","getItem","parse","modal","display","alignItems","justifyContent","paper","background","border","shadows","padding","spacing","input","SubmitForm","open","setOpen","markedTreatmetns","setMarkedTreatmetns","credentials","setCredentials","dateIsraeliDisplay","init","StoreService","StorageService","user","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","CancelAppointment","then","events","now","setEventsToCancel","eventsToCancel","pageCount","setPageCount","eventToRmove","find","cancelAppointment","SignupOrLogin","to","getUsers","getUser","addUser","removeUser","_sortUsers","sort","b","localeCompare","Login","setPhone","password","setPassword","togglePhoneValidation","setTogglePhoneValidation","phoneIsValid","setPhoneIsValid","field","UserService","handleClickOpen","handleModalClickOpen","dialogTitle","setDialogTitle","handleClose","close","openModal","setOpenModal","handleModalClose","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","fullWidth","DialogActions","Button","Transition","forwardRef","ref","Slide","Signup","toggleNameValidation","setToggleNameValidation","toggleEmailValidation","setToggleEmailValidation","isValid","setIsValid","emailIsValid","checkValidation","TransitionComponent","keepMounted","HomePage","changeRoute","route","src","require","href","class","EditUser","isNameEditing","setIsNameEditing","isNameDisabled","setIsNameDisabled","nameBorderBottom","setNameBorderBottom","nameFocus","useRef","setIsPhoneEditing","setIsPhoneDisabled","setPhoneBorderBottom","setIsEmailEditing","setIsEmailDisabled","setEmailBorderBottom","focus","isPhoneEditing","isPhoneDisabled","phoneBorderBottom","phoneFocus","isEmailEditing","isEmailDisabled","emailBorderBottom","emailFocus","toggleEditing","UserPage","AdminPage","setUsers","_updateUsers","loadUsers","updateUsers","err","Contacts","searchTerm","setSearchTerm","placeholder","clickedUser","markClickedUser","CalendarAdmin","constrains","tableCells","setTableCells","getMonth","setMonth","getWeeklyEvents","eventsToDisplay","setEventsToDisplay","getDailyDates","daysForDisplay","setDaysForDisplay","eventsIds","Promise","all","weeklyEvents","dailyEvents","dailyIdx","counter","cellIsRendered","ev","eventIdx","evenOrOdd","range","isOpen","setIsOpen","eventToRmoveId","setEventToRmove","evId","isApproved","setAppointmentsModalIsOpen","weeklyRange","days","lastDay","getDatesWeeklyRange","appointmentsModalIsOpen","DatePicker","onOpen","InputProps","disableUnderline","path","component","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ff80fb11.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/oo.bb4ea92a.png\";","import React, {useEffect} from 'react';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './TabsApp.scss';\n\nexport function _TabsApp(props) {\n  const [value, setValue] = React.useState(0);\n  const location = useLocation()\n  useEffect(() => {(location.pathname !== '/cancelAppointment')? setValue(0): setValue(1)},[value,location]);\n\n  // tabs style\n  const style = {\n    width:'25%',\n    boxShadow:'none',\n    color:'white'\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    if (newValue === 1) {\n      props.history.push('/cancelAppointment')\n    } else {\n      props.history.push('/treatments')\n    }\n  };\n\n  return (\n\n    <AppBar position=\"static\" style={{boxShadow:'none'}} >\n      <Tabs value={value} onChange={handleChange} className=\"tabs flex space-between\">\n        <Tab label=\"זימון\" style={style}/>\n        <Tab label=\"ניהול תורים\" style={style}/>\n        <h2 onClick={()=>props.history.push('/')} id=\"text\" className=\"logo\"> Tori<i  className=\"fas fa-tasks\"></i></h2>\n      </Tabs>\n    </AppBar>\n  );\n}\n\nexport const TabsApp = withRouter(_TabsApp)","import React from 'react';\nimport { connect } from 'react-redux';\nimport {MuiThemeProvider,createMuiTheme,makeStyles} from \"@material-ui/core/styles\";\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport './StepperApp.scss'\n\n// StepperApp style\nconst theme = createMuiTheme({\n// add margin left from the circules\n  palette: {\n    primary: {\n      main: '#273650'\n    }\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  }\n}));\n\n\nexport function _StepperApp(props) {\n\n  const classes = useStyles();\n\n\n\n  return (\n    <div className={classes.root}>\n\n  <MuiThemeProvider theme={theme}>\n      <Stepper activeStep={props.activeStep}>\n        {props.steps.map((label, index) => {\n          const stepProps = {};\n          const labelProps = {};\n          return (\n            <Step  key={label} {...stepProps}>\n              <StepLabel  {...labelProps}>{label}  </StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n    </MuiThemeProvider>\n    </div>\n  );\n}\n\n\nfunction mapStateProps(state) {\n  return {\n    steps: state.StepperReducer.steps,\n    activeStep:state.StepperReducer.step\n  }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const StepperApp = connect(mapStateProps, mapDispatchToProps)(_StepperApp)","import React, { useEffect, useState } from 'react';\nimport { useLocation, withRouter } from 'react-router-dom';\nimport { TabsApp } from '../TabsApp/TabsApp.jsx';\nimport { StepperApp } from '../StepperApp/StepperApp.jsx';\nimport './AppHeader.scss';\n\n\nfunction _AppHeader(props) {\n    const location = useLocation()\n    return (\n        <>\n            {\n               ((location.pathname !== '/') && (!location.pathname.includes('/calendarAdmin'))) &&\n                <div className={(location.pathname === '/signupOrLogin')?'app-header-no-margin':'app-header'}>\n                    {\n                        ((location.pathname !== '/treatments') && (location.pathname !== '/cancelAppointment')) &&\n                        <header className=\"flex upper-header align-center\">\n                            <h2 onClick={() => props.history.push('/')} id=\"text\" className=\"logo\"> Tori<i className=\"fas fa-tasks\"></i></h2>\n                        </header>\n                    }\n                    {((location.pathname === '/treatments') || (location.pathname === '/cancelAppointment')) ? <TabsApp /> : ''}\n                    {(location.pathname === '/cancelAppointment') || (location.pathname === '/signup')||(location.pathname === '/login')\n                        || (location.pathname === '/adminpage') || (location.pathname === '/userpage') || (location.pathname === '/signupOrLogin') ? '' : <StepperApp />}\n                </div>\n            }\n        </>\n    )\n}\n\nexport const AppHeader = withRouter(_AppHeader)\n\n\n\n","import { createBrowserHistory } from \"history\";\nconst history = createBrowserHistory();\n\nexport default history;","import history from '../history';\nimport Axios from 'axios';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n});\n\nexport default {\n    get(endpoint, data){\n        console.log(endpoint);\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data){\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data){\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data){\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\n\nasync function ajax(endpoint, method='get', data=null) {\n    // let h = new Headers()\n    // h.append('Authorization','Bearer mFzYTSGauAA4QGdG6rI9MtfvvfEZHo')\n    console.log(`${BASE_URL}${endpoint}`)\n    \n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            // headers:h,\n            data\n        })\n        return res.data;\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\n        console.dir(err);\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n        throw err;\n    }\n}","import { func } from \"prop-types\";\n\nexport default {\n  englishToHebrew,\n  getIsosDate,\n  getTimeSlotsForPreview,\n  getDailySlotsForPreview,\n  changeTimeForDisplay,\n  idGen,\n  calculateEndTime,\n  arrayToString,\n  convertDateToIsraelisDisplay,\n  getDayByHebrewWord,\n  getEventReadyForDisplay,\n  convertNumberToWords,\n  validateEmail,\n  getWeekIsosDatesForCalendar,\n  checkIfTsInRange,\n  getMonthByIdx\n}\n\nfunction englishToHebrew(word) {\n  let convertedWord\n  switch (word) {\n    case ('minutes'):\n      convertedWord = 'דק׳';\n      break;\n    case ('build'):\n      convertedWord = 'בנייה';\n      break;\n    case ('filling'):\n      convertedWord = 'מילוי';\n      break;\n    case ('medical-manicure'):\n      convertedWord = 'מניקור רפואי';\n      break;\n    case ('gel'):\n      convertedWord = 'לק ג׳ל';\n      break;\n    case ('medical-pedicure'):\n      convertedWord = 'פדיקור';\n      break;\n    case ('medical-pedicure-gel'):\n      convertedWord = 'פדיקור רפואי עם לק ג׳ל';\n      break;\n    case ('half-pedicure'):\n      convertedWord = 'חצי פדיקור';\n      break;\n    case ('half-pedicure-gel'):\n      convertedWord = 'חצי פדיקור עם ג׳ל';\n      break;\n    case ('eyebrows-mustache'):\n      convertedWord = 'גבות ושפם';\n      break;\n    default:\n      convertedWord = \"ברירת מחדל\"\n  }\n\n  return ' ' + convertedWord\n}\n//get a date and how many days before/after and returns only the date part by isos convention\nfunction getIsosDate(daysAfterOrBefore, date = new Date()) {\n  var dateCopy = new Date(date.getTime())\n  dateCopy.setDate(dateCopy.getDate() + daysAfterOrBefore)\n  dateCopy = dateCopy.toISOString().slice(0, 10)\n  return dateCopy\n}\n\nfunction getWeekIsosDatesForCalendar(dayByNum, date) {\n  let weeklyDates =[]\n  switch (dayByNum) {\n    case 1:\n      for (var i = 0; i < 6; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 2:\n      for (var i = -1; i < 5; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 3:\n      for (var i = -2; i < 4; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 4:\n      for (var i = -3; i < 3; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 5:\n      for (var i = -4; i < 2; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 6:\n      for (var i = -5; i < 1; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    default:\n      console.log('Err with getting week dates')\n  }\n  return weeklyDates.map(isosDate => {\n    return { start: `${isosDate}T05:00:00Z`, end: `${isosDate}T17:00:00Z` }\n  })\n}\n\nfunction getDailySlotsForPreview(slotsRanges, duration) {\n  // console.log(slotsRanges, duration);\n  const timeslotsByConstraints = slotsRanges.map(sr => getTimeSlotsForPreview(sr, duration))\n  const mergedTimeSlotsToRender = [].concat.apply([], timeslotsByConstraints);\n  return mergedTimeSlotsToRender\n}\n\nfunction getTimeSlotsForPreview(timeslot, duration) {\n  let slotsToRender = [];\n  let year = timeslot.start.slice(0, 4)\n  let month = timeslot.start.slice(5, 7)\n  let day = timeslot.start.slice(8, 10)\n  let hours = +timeslot.start.slice(11, 13)\n  let min = timeslot.start.slice(14, 16)\n  const startTime = new Date(year, month - 1, day, hours + 3, min, 0, 0);\n  year = timeslot.end.slice(0, 4)\n  month = timeslot.end.slice(5, 7)\n  day = timeslot.end.slice(8, 10)\n  hours = +timeslot.end.slice(11, 13)\n  min = timeslot.end.slice(14, 16)\n  const endTime = new Date(year, month - 1, day, hours + 3, min, 0, 0);\n  let nextTimeSlot = startTime//maby need copy\n  hours = nextTimeSlot.getHours()\n  min = nextTimeSlot.getMinutes()\n  let slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n  if ((nextTimeSlot.getTime() + (duration * 60 * 1000)) < endTime.getTime()) { slotsToRender.push(slotToRender) }\n  while ((nextTimeSlot.getTime() + (duration * 60 * 1000)) < endTime.getTime()) {\n    nextTimeSlot = new Date(nextTimeSlot.getTime() + ((60 * 60 * 1000) / 2));//adding half an hour\n    hours = nextTimeSlot.getHours()\n    min = nextTimeSlot.getMinutes()\n    slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n    slotsToRender.push(slotToRender)\n  }\n  return slotsToRender\n}\n\n//get an hour and returns full isos date (including the time) reducing the diff from the hours\nfunction changeTimeForDisplay(time, diff) {\n  let hours = +time.slice(0, 2) - diff\n  let minutes = time.slice(3, 5)\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + (minutes)\n}\n\nfunction calculateEndTime(time, duration) {\n  let hours = +time.slice(0, 2)\n  let minutes = +time.slice(3, 5)\n\n  if (duration % 60 === 30) {\n    if (minutes === 30) {\n      hours += Math.floor(duration / 60) + 1\n      minutes = '00'\n    }\n    else {\n      hours += Math.floor(duration / 60)\n      minutes = '30'\n    }\n  }\n  else {\n    hours += (duration / 60)\n    minutes = '00'\n  }\n\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + minutes\n}\n\nfunction checkDigitsAndAddZerosIfNeeded(digit) {\n  digit = (digit < 10) ? '0' + digit : digit\n  return digit\n}\n\n\nfunction idGen() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n};\n\n\nfunction arrayToString(pickedTreatments) {\n  let treatmentsType = ''\n  pickedTreatments.forEach((tr, idx) => {\n    if (pickedTreatments.length !== idx + 1) treatmentsType += tr.name + ', '\n    else treatmentsType += tr.name\n  })\n  return treatmentsType\n}\n\nfunction convertDateToIsraelisDisplay(date) {\n  const dateParts = (date).split('-')\n  return `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`\n}\nfunction getDayByHebrewWord(idx) {\n  const days = [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"]\n  return days[idx]\n}\n\n\nfunction getEventReadyForDisplay(filteredEvents) {\n  return filteredEvents.map(event => {\n    return {\n      id: event._id,\n      treatments: event.treatments,\n      startTime: changeTimeForDisplay(event.startTime, -3),\n      endTime: changeTimeForDisplay(event.endTime, -3),\n      date: convertDateToIsraelisDisplay(event.date),\n      email: event.email,\n      name: event.name,\n    }\n  })\n}\n//returns an object with boolean if time slot match the range and the amount of time slots\nfunction checkIfTsInRange(tsToCompare, startTime, endTime, duration) {\n\n  //adding 3 hours to match the time differnce\n  const tsToCompareWithAddedHours = changeTimeForDisplay(tsToCompare, -3)\n  const timeRangeBySlots = getDailySlotsForPreview([{ start: startTime, end: endTime }], duration)\n  if (timeRangeBySlots.length) {\n    return { occupied: timeRangeBySlots.includes(tsToCompareWithAddedHours), rowspan: timeRangeBySlots.length }\n  }\n  else {\n    if (startTime.slice(11, 16) === tsToCompare) {\n      return { occupied: true, rowspan: 1 }\n    } else {\n      return { occupied: false, rowspan: 1 }\n    }\n  }\n}\n\nfunction convertNumberToWords(idx) {\n  const words = ['אחד', 'שני', 'שלושה', 'ארבעה', 'חמשה', 'ששה', 'שבעה', 'שמונה', 'תשעה', 'עשרה', 'אחד עשר']\n  return words[idx - 1]\n}\n\nfunction getMonthByIdx(idx) {\n  const months = ['ינואר', 'פברואר', 'מרץ', 'אפריל', 'מאי', 'יוני', 'יולי', 'אוגוסט', 'ספטמבר', 'אוקטובר', 'נובמבר', 'דצמבר']\n  return months[idx - 1]\n}\n\nfunction validateEmail(email) {\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}","import HttpService from './HttpService'\nimport UtilsService from \"../services/UtilsService\";\n\nexport default {\n    getTreatments,\n    getById,\n    remove,\n    update,\n    updateTreatments,\n    getMarkedTreatmentsStr\n}\n\n// update only the store not mongo DB\nfunction updateTreatments(treatments, updatedTreatment){\n    const idx = treatments.findIndex(tr => tr._id === updatedTreatment._id)\n    treatments[idx] = updatedTreatment\nreturn treatments\n}\n\nfunction getMarkedTreatmentsStr(treatments) {\n    treatments = (treatments.filter(tr => tr.marked))\n    return UtilsService.arrayToString(treatments)\n}\n\n// comunicate with backend\nfunction getTreatments() {\n    return HttpService.get('treatment')\n}\n\nfunction getById(treatmentId) {\n    return HttpService.get(`treatment/${treatmentId}`)\n}\nfunction remove(treatmentId) {\n    return HttpService.delete(`treatment/${treatmentId}`)\n}\n\nfunction update(treatment) {\n    return HttpService.put(`treatment/${treatment._id}`, treatment)\n}","import TreatmentService from '../services/TreatmentService';\n\n\nexport function loadTreatments() {\n  \n  return async dispatch => {\n    try {\n      const treatments = await TreatmentService.getTreatments();\n      dispatch(setTreatments(treatments));\n   \n    } catch (err) {\n      console.log('TreatmentActions: err in loadTreatments', err);\n    };\n  }\n}\n\nexport function setTreatments(treatments) {\n  return {\n    type: 'SET_TREATMENTS',\n    treatments\n  };\n}\n\nexport function setTreatment(treatment) {\n  return async dispatch => {\n    try {\n      await \n      dispatch((_setTreatment(treatment)));\n    } catch (err) {\n      console.log('TreatmentActions: err in setTreatment', err);\n    }\n  };\n}\n\nexport function _setTreatment(treatment) {\n  return {\n    type: 'SET_TREATMENT',\n    treatment\n  };\n}\n\n\nexport function updateTreatmentsCount(count) {\n  return async dispatch => {\n    try {\n      await \n      dispatch((_updateTreatmentsCount(count)));\n    } catch (err) {\n      console.log('TreatmentActions: err in setTreatment', err);\n    }\n  };\n}\n\n\nexport function _updateTreatmentsCount(count) {\n  return {\n    type: 'UPDATE_PICKED_TREATMENTS_COUNT',\n    count\n  };\n}\n\n\n\nexport function removeTreatment(treatmentId) {\n  return async dispatch => {\n    try {\n      await TreatmentService.remove(treatmentId);\n      dispatch(_removeTreatment(treatmentId));\n    } catch (err) {\n      console.log('TreatmentActions: err in removeTreatment', err);\n    }\n  };\n}\n\nfunction _removeTreatment(treatmentId) {\n  return {\n    type: 'REMOVE_TREATMENT',\n    treatmentId\n  };\n}\n\nexport function updateTreatments(treatments) {\n  console.log(treatments)\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateTreatments(treatments));\n    } catch (err) {\n      console.log('TreatmentActions: err in updateTreatments', err);\n    }\n  };\n}\n\nexport function _updateTreatments(treatments) {\n  return {\n    type: 'UPDATE_TREATMENTS',\n    treatments\n  };\n}\n\n\n\nexport function updateDuration(duration) {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateDuration(duration));\n    } catch (err) {\n      console.log('TreatmentActions: err in addDuration', err);\n    }\n  };\n}\n\nexport function _updateDuration(duration) {\n    return {\n      type: 'UPDATE_DURATION',\n      duration\n    };\n}\n\nexport function initDuration() {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_initDuration());\n    } catch (err) {\n      console.log('ERR WITH initDuration', err);\n    }\n  };\n}\n\nfunction _initDuration() {\n  return {\n    type: 'INIT_DURATION'\n  };\n}\n","import React, { useState } from 'react';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { StylesProvider, jssPreset,createMuiTheme,ThemeProvider } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\nimport './SwitchApp.scss'\n\nconst theme = createMuiTheme({\n  direction: 'rtl',\n});\n\n// Configure JSS\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\nexport function SwitchApp(props) {\n\n  const [checked, setChecked] = useState(props.marked);\n\n  const handleChange = (event) => {\n    if (!checked) {\n      props.updateDuration(true)\n      props.updatePickedTreatments(true)\n    }\n    else {\n      // props.setIsActive(false)\n      props.updateDuration(false)\n      props.updatePickedTreatments(false)\n    }\n    setChecked(event.target.checked)\n  };\n\n  return (\n    <StylesProvider jss={jss}>\n      <ThemeProvider theme={theme}>\n        <div dir=\"rtl\">\n          <Switch\n            checked={checked}\n            onChange={handleChange}\n            name=\"checked\"\n            inputProps={{ 'aria-label': 'secondary checkbox' }}\n          />\n        </div>\n      </ThemeProvider>\n    </StylesProvider>\n  );\n}","import React , { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { updateDuration, updateTreatments,updateTreatmentsCount} from '../../actions/treatmentActions';\nimport { SwitchApp } from '../SwitchApp/SwitchApp';\nimport UtilService from '../../services/UtilsService'\nimport TreatmentService from '../../services/TreatmentService';\nimport './TreatmentPreview.scss';\n\n\nclass _TreatmentPreview extends Component {\n\n    state = {\n        updatedTreatment: this.props.treatment,\n        // treatmentsToUpdate: [...this.props.treatments]\n        treatmentsToUpdate: this.props.treatments\n    }\n\n    updateDuration = (isMarked) => {\n        if (isMarked) {\n            this.props.updateDuration(+this.props.treatment.duration)\n        } else {\n            this.props.updateDuration((+this.props.treatment.duration) * -1)\n        }\n    }\n\n    // mark the treatment\n   updatePickedTreatments = (isMarked) => {\n    \n            this.setState({updatedTreatment:{...this.state.updatedTreatment,marked:isMarked}}, ()=>{\n                if(isMarked){\n                    this.props.updateTreatmentsCount(1)\n                }\n                else{\n                  this.props.updateTreatmentsCount(-1)\n                }\n            const treatments = TreatmentService.updateTreatments(this.state.treatmentsToUpdate,this.state.updatedTreatment)\n            this.setState({treatmentsToUpdate:treatments})\n            //     ()=>{\n            //     this.props.updateTreatments(this.state.treatmentsToUpdate)\n            // }) \n        })\n    }\n\n    render() {\n        const {updatedTreatment} = this.state\n        return (\n            <div className={`treatment-preview ${(updatedTreatment.marked)?'marked-by-switch':\"\"}`}>\n                {updatedTreatment &&\n                    <div className=\" preview-container flex align-center space-between\">\n                        <div className=\"align-col-name\">\n                            {updatedTreatment.name}\n                        </div>\n                        <div className=\"align-col\">{'₪' + updatedTreatment.price}</div>\n                        <div className=\"align-col\">{updatedTreatment.duration + UtilService.englishToHebrew('minutes')}</div>\n                        <SwitchApp className=\"align-col\" marked={updatedTreatment.marked} updateDuration={this.updateDuration} updatePickedTreatments={this.updatePickedTreatments} />\n                    </div>\n                }\n            </div>\n        )\n      }\n}\n    \nfunction mapStateProps(state) {\n    return {\n        duration: state.TreatmentReducer.duration,\n        treatments: state.TreatmentReducer.treatments\n    }\n}\n\nconst mapDispatchToProps = {\n    updateDuration,\n    updateTreatments,\n    updateTreatmentsCount\n}\n\nexport const TreatmentPreview = connect(mapStateProps, mapDispatchToProps)(_TreatmentPreview)","import React from 'react';\nimport { TreatmentPreview } from '../TreatmentPreview/TreatmentPreview';\nimport UtilsService from '../../services/UtilsService';\nimport './TreatmentList.scss';\n\nexport function TreatmentList(props) {\n    return (\n        <div className=\"treatment-list main-container flex column\">\n            {\n                props.treatments.map(treatment => {\n                    let id=UtilsService.idGen()\n                    return (\n                        <div key={id}>\n                            <TreatmentPreview  treatment={treatment} getTreatmentsToUpdate={props.getTreatmentsToUpdate} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport UtilsService from '../../services/UtilsService';\nimport './TreatmentTitle.scss';\n\n\nfunction _TreatmentTitle(props) {\n    return (\n        <div className=\"treatment-title\">\n            {\n                (props.pickedTreatmentsCount) ?\n\n                (props.pickedTreatmentsCount===1)?\n                `נבחר טיפול  ${UtilsService.convertNumberToWords(props.pickedTreatmentsCount)}     `\n                :\n                   `נבחרו ${UtilsService.convertNumberToWords(props.pickedTreatmentsCount)} טיפולים `\n\n                    :\n                    (props.isClicked)?\n                     <span className=\"red-title\">לא נבחרו טיפולים!</span>\n                    :\n                    \"  בחרו  סוג  טיפול  אחד  או  יותר  ולחצו  'הבא'\"\n            }\n        </div>\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        pickedTreatmentsCount: state.TreatmentReducer.pickedTreatmentsCount\n    }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport const TreatmentTitle = connect(mapStateProps, mapDispatchToProps)(_TreatmentTitle)","\n\nexport function updateActiveStep(step) {\n    return async dispatch => {\n      try {\n        await \n        dispatch(_updateActiveStep(step));\n      } catch (err) {\n        console.log('StepperActions: err in updateActiveStep', err);\n      }\n    };\n  }\n  \n  export function _updateActiveStep(step) {\n      return {\n        type: 'UPDATE_ACTIVE_STEP',\n        step\n        }\n  };\n\n\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport './NavBtns.scss';\nfunction _NavBtns(props) {\n\n    const location = useLocation()\n    const [activeBtn, setActiveBtn] = useState('');\n\n    useEffect(() => { toggleBtnsStyle() });\n\n    function toggleBtnsStyle() {\n        if ((props.activeStep === 2 && !props.treatment) || (props.duration)) {\n            setActiveBtn('active-btn')\n        } else { setActiveBtn('') }\n    }\n\n    function isNextBtnDisable() {\n        if (!props.duration) return true\n        if (props.activeStep === 2 && !props.treatment) return true\n    }\n\n    function changeStep(diff) {\n\n        if (props.activeStep + diff === 3) {\n            props.setAppointment()\n            props.handleOpen()\n        }\n        props.updateActiveStep(props.activeStep + diff)\n        if (!props.activeStep && diff > 0) {\n            props.history.push('/calendar')\n        }\n        else if (props.activeStep === 1 && diff > 0) props.history.push('/form')\n        else if (props.activeStep === 2 && diff < 0) props.history.push('/calendar')\n        else if (props.activeStep === 1 && diff < 0) props.history.push('/treatments')\n    }\n\n    function noPickedItemTitle(){\n        if (!props.duration){\n            props.updateTitleProp()\n        }\n    }\n\n    return (\n\n        <div className={`nav-btns-container`}>\n            {\n                (location.pathname === '/treatments') ?\n                    <div className=\"nav-btn-wrapper-next\" onClick={noPickedItemTitle}>\n                            <button className=\"nav-btn-next\" onClick={() => changeStep(1)} disabled={isNextBtnDisable()}>\n                                הבא\n                             </button>\n                    </div>\n                    :\n                    (location.pathname !== '/form') ?\n                        <div className=\"nav-btn-wrapper\">\n                            <button className={`nav-btn active-btn`} disabled={props.activeStep === 0} onClick={() => changeStep(-1)} >\n                                חזור\n                </button>\n                        </div>\n                        :\n                        <div className=\"flex btns-wrraper\">\n                            <div className=\"nav-btn-wrapper\">\n                                <button className={`nav-btn active-btn`} disabled={props.activeStep === 0} onClick={() => changeStep(-1)} >\n                                    חזור\n                    </button>\n                            </div>\n                            <div className={`nav-btn-wrapper`}>\n                                <button className={`nav-btn ${activeBtn}`} onClick={() => changeStep(1)} disabled={isNextBtnDisable()}>\n                                    אשר\n                </button>\n                            </div>\n                        </div>\n            }\n        </div>\n\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        steps: state.StepperReducer.steps,\n        activeStep: state.StepperReducer.step,\n        duration: state.TreatmentReducer.duration,\n        treatment: state.TreatmentReducer.treatment,\n\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep\n}\n\nexport const NavBtns = withRouter(connect(mapStateProps, mapDispatchToProps)(_NavBtns))\n","import React from 'react';\nimport Loader from 'react-loader-spinner'\nexport class LoaderApp extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#273650\"\n        height={75}\n        width={75}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { loadTreatments } from '../../actions/treatmentActions.js';\nimport { TreatmentList } from '../../cmps/TreatmentList/TreatmentList';\nimport { TreatmentTitle } from '../../cmps/TreatmentTitle/TreatmentTitle';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { motion } from 'framer-motion'\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport './TreatmentApp.scss';\nimport '../../styles/style.scss';\n\n\n// style motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: \"0\"\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\nexport function _TreatmentApp(props) {\n\n    const { loadTreatments, treatments } = props\n\n    useEffect(() => {\n        if (!treatments) loadTreatments()\n    }, [loadTreatments, treatments]);\n\n    const [isClicked, setIsClicked] = useState(false);\n\n    function updateTitleProp(){\n        setIsClicked(true)\n    }\n\n    if (!treatments) return <div className=\"loader\"><LoaderApp /></div>\n    return (\n        <div className=\"treatment-app\">\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n            >\n                <TreatmentTitle isClicked={isClicked}/>\n                <TreatmentList treatments={treatments} />\n            </motion.div>\n            <NavBtns updateTitleProp={updateTitleProp} />\n        </div>\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTreatments\n}\n\nexport const TreatmentApp = connect(mapStateProps, mapDispatchToProps)(_TreatmentApp)\n\n\n\n","import './DailySlots.scss';\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {setTreatment} from '../../actions/treatmentActions';\nimport {updateActiveStep} from '../../actions/stepperActions';\nimport UtilsService from '../../services/UtilsService';\n\n function _DailySlots(props) {\n\n    function onAppointmentChoice(ts, date, diff) {\n        props.updateActiveStep(props.activeStep + diff)\n        let treatment = {\n            time: ts,\n            date\n        }\n        props.setTreatment(treatment)\n        props.history.push('/form')\n    }\n\n    return (\n\n        <div className=\"daily-slots flex column align-center space-between\">\n            {props.timeSlots.map(ts => <button onClick={() => onAppointmentChoice(ts, props.date, 1)}\n            className=\"timeslot-btn\" key={UtilsService.idGen()}>{ts}</button>)}\n        </div>\n    )\n}\n\n\nfunction mapStateProps(state) {\n    return {\n        treatment: state.TreatmentReducer.treatment,\n        activeStep: state.StepperReducer.step\n    }\n}\n\nconst mapDispatchToProps = {\n    setTreatment,\n    updateActiveStep\n}\n\nexport const DailySlots = withRouter(connect(mapStateProps, mapDispatchToProps)(_DailySlots))\n","import React, {useEffect} from \"react\";\nimport { DailySlots } from '../DailySlots/DailySlots';\nimport UtilsService from '../../services/UtilsService';\nimport './TimeslotList.scss';\n\nexport function TimeslotList(props) {\n\n    useEffect(() => {\n        //  console.log(props.date.toISOString())\n        }, []);\n\n    return (\n        <div className=\"timeslot-list flex\">\n            {\n                Object.keys(props.timeSlots).map(day => {\n                    const isDateFullyBooked = (typeof props.timeSlots[day] == 'string') ? true : false\n                    const date = isDateFullyBooked ? props.timeSlots[day].slice(0, 10) : (props.timeSlots[day])[0].start.slice(0, 10)\n                    // running on each day\n                    const slotsForPreview = isDateFullyBooked ? [] : UtilsService.getDailySlotsForPreview(props.timeSlots[day], props.duration)\n                   console.log(\"let see\",props.timeSlots[day] );\n                    return (\n                        <div key={UtilsService.idGen()}>\n                            <div className=\"date-container\">\n                                {\n                                isDateFullyBooked?     \n                                <div className=\"fully-booked\">\n                                    <div>{UtilsService.getDayByHebrewWord(new Date(date).getDay())}</div>\n                                    <div>{UtilsService.convertDateToIsraelisDisplay(date)}</div>\n                                    <br/>\n                                    <div className=\"fully-booked-title\">אין תור פנוי</div>\n                                </div>\n                                :\n                                <div>\n                                    <div>{UtilsService.getDayByHebrewWord(new Date((props.timeSlots[day])[0].start).getDay())}</div>\n                                    <div>{UtilsService.convertDateToIsraelisDisplay(date)}</div>\n                                </div>\n                                }\n                            </div>\n                            <DailySlots timeSlots={slotsForPreview} date={date} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import HttpService from './HttpService'\n\nexport default {\n    saveConfirmedEvent,\n    getEventByPhone,\n    removeEventFromDB\n}\n\n// MONGO DB - GOES THREW BACKEND\n\nfunction saveConfirmedEvent(event){\n    return HttpService.post('event',event)\n}\n\nfunction getEventByPhone (phone) {\n    return HttpService.get(`event/${phone}`)\n}\n\nfunction removeEventFromDB (_id) {\n    console.log(_id)\n    return HttpService.delete(`event/${_id}`)\n}\n","import HttpService from './HttpService'\n\nexport default {\n    sendEmail\n}\n\nfunction sendEmail(name, date, email='', isConfirmation, phone='', duration='', time='', treatments='') {\n    const businessName='נייל סלון'\n    let bodyText = ''\n    if (isConfirmation) {\n        bodyText =`        שלום ${name} ,\n\n        שמחים שבחרת ${businessName} !\n        נקבע לך תור ל${treatments}  \n        בתאריך ${date}\n        בשעה ${time}\n        משך זמן הטיפול מוערך כ- ${duration} דקות\n        הטלפון שהתקבל ליצירת קשר הוא - ${phone}\n        \n        תודה`\n    } else {\n        bodyText = `\n        שלום,\n         ${name}\n        התור שנקבע לתאריך ${date} בוטל \n        תודה על העדכון `\n    }\n    let emailObj = {\n        email,\n        bodyText\n    }\n    return HttpService.post('email',emailObj)\n}","import HttpService from './HttpService'\nimport EventService from './EventService'\nimport UtilsService from \"../services/UtilsService\";\nimport EmailService from '../services/EmailService';\n\nexport default {\n    getCalendar,\n    getAvailbleDailySlots,\n    addEventToCalendar,\n    removeEventFromCalendar,\n    setAppointment,\n    getEventsFromCalendar\n}\n\n// get the first calendar connected to this TOKEN (usually only 1 should be there)\nfunction getCalendar() {\n    return HttpService.get('calendar')\n}\n\n\nasync function getEventsFromCalendar(timeRange) {\n    return await HttpService.get(`calendar/${timeRange.start}/${timeRange.end}`)\n}\n\nfunction addEventToCalendar(startTime, endTime, eventName, creatorName, creatorEmail) {\n    const event = { eventName, creatorName, creatorEmail, startTime, endTime }\n    return HttpService.post('calendar', event)\n}\n\nasync function removeEventFromCalendar(eventId) {\n    return HttpService.delete('calendar', { eventId })\n}\n\nasync function getAvailbleDailySlots(startTime, endtTime, duration) {\n    const dailySlots = { startTime, endtTime, duration }\n    return await HttpService.post('calendar/slots', dailySlots)\n}\n\n// MAKING SOME CALCULATIONS AND THAN CALLING OTHER FUNCTIONS TO ADD THE EVENT TO CALENDAR + MONGO DB\nasync function setAppointment(treatments, duration, phone, email, name, treatment) {\n    let time = UtilsService.changeTimeForDisplay(treatment.time, 3)\n    const startTime = `${treatment.date}T${time}:00Z`\n    time = UtilsService.calculateEndTime(time, duration)\n    const endTime = `${treatment.date}T${time}:00Z`\n    const confirmedEvent = await addEventToCalendar(startTime, endTime, treatments, name, 'ayal@gmail.com')\n    const event = {\n        name,\n        email,\n        phone,\n        eventId: confirmedEvent.id,\n        treatments,\n        duration,\n        startTime: startTime.slice(11, 20),\n        endTime: endTime.slice(11, 20),\n        date: startTime.slice(0, 10)\n    }\n    EventService.saveConfirmedEvent(event)\n    console.log(event);\n    EmailService.sendEmail(name, treatment.date, email, true, phone, duration, treatment.time, treatments)\n}\n\n","import CalendarService from '../services/CalendarService';\nimport UtilsService from '../services/UtilsService';\n\n// THUNK\nexport function loadCalendar() {\n  \n  return async dispatch => {\n    try {\n      const calendar = await CalendarService.getCalendar();\n      dispatch(setCalendar(calendar));\n    } catch (err) {\n      console.log('calendarActions: err in loadCalendars', err);\n  };\n}\n}\n\nexport function setCalendar(calendar) {\n    return {\n      type: 'SET_CALENDAR',\n      calendar\n     };\n}\n\n\nexport function loadTimeSlots(pickedDate = null){\n      if (!pickedDate) {\n        var firstDay = UtilsService.getIsosDate (0)\n        var secondDay = UtilsService.getIsosDate (1)\n        var thirdDay = UtilsService.getIsosDate (2)\n      } else {\n      // get day after and day before\n      // firstDay = UtilsService.getIsosDate (-1, pickedDate)\n      // secondDay = UtilsService.getIsosDate (0,  pickedDate)\n      // thirdDay = UtilsService.getIsosDate (1, pickedDate )\n        firstDay = UtilsService.getIsosDate (0, pickedDate)\n        secondDay = UtilsService.getIsosDate (1, pickedDate)\n        thirdDay = UtilsService.getIsosDate (2, pickedDate ) \n      } \n  return async dispatch => {\n    try {\n      const timeSlots = {\n      firstDaySlots: await CalendarService.getAvailbleDailySlots(`${firstDay}T05:00:00`, `${firstDay}T17:00:00`, '1H'),\n      secondDaySlots: await CalendarService.getAvailbleDailySlots(`${secondDay}T05:00:00`, `${secondDay}T17:00:00`, '1H'),\n      thirdDaySlots : await CalendarService.getAvailbleDailySlots(`${thirdDay}T05:00:00`, `${thirdDay}T17:00:00`, '1H')\n      }\n      dispatch(setTimeSlots(timeSlots));\n    } catch (err) {\n      console.log('Err getting timeslots', err);\n    }\n  }\n}\n\nexport function setTimeSlots(timeSlots) {\n  return {\n    type: 'SET_TIMESLOTS',\n    timeSlots\n   };\n}\n\n// export async function loadTimeSlots(pickedDate = null){\n//   if (!pickedDate) {\n//       var firstDay = getIsosDate (0)\n//       var secondDay = getIsosDate (1)\n//       var thirdDay = getIsosDate (2)\n//   } else {\n//       firstDay = getIsosDate (-1, pickedDate)\n//       secondDay = getIsosDate (0,  pickedDate)\n//       thirdDay = getIsosDate (1, pickedDate ) \n//   }\n//   const firstDaySlots = await CalendarService.getAvailbleDailySlots(`${firstDay}T05:00:00`, `${firstDay}T17:00:00`, '1H')\n//   const secondDaySlots = await CalendarService.getAvailbleDailySlots(`${secondDay}T05:00:00`, `${secondDay}T17:00:00`, '1H')\n//   const thirdDaySlots = await CalendarService.getAvailbleDailySlots(`${thirdDay}T05:00:00`, `${thirdDay}T17:00:00`, '1H')\n//   const timeSlots = {\n//       first:firstDaySlots,\n//       second:secondDaySlots,\n//       third:thirdDaySlots\n//   }\n//   return timeSlots\n// }\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport DateFnsUtils from '@date-io/date-fns';\nimport heLocale from \"date-fns/locale/he\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { motion } from 'framer-motion'\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport { TimeslotList } from '../../cmps/TimeslotList/TimeslotList';\nimport { loadTimeSlots } from '../../actions/calendarActions.js';\nimport { Swipeable } from 'react-swipeable'\nimport './CalendarApp.scss';\n\n// motion div style\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0,\n        textAlign: 'center'\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n// material ui - date picker style\nconst materialTheme = createMuiTheme({\n    overrides: {\n        MuiPickersToolbar: {\n            toolbar: {\n                backgroundColor: '#e91e63',\n            },\n        },\n\n        MuiPickersDay: {\n            day: {\n                color: 'black',\n            },\n            daySelected: {\n                backgroundColor: '#e91e63',\n            },\n            dayDisabled: {\n                color: '#e91e63',\n            },\n            current: {\n                color: '#e91e63',\n            },\n        },\n    },\n});\n\nexport function _CalendarApp(props) {\n\n    const [selectedDate, handleDateChange] = useState(new Date());\n    const [loader, setLoader] = useState(false);\n    const [calendarTitle, seTcalendarTitle] = useState('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n    const [pickerRedTitle, setPickerRedTitle] = useState('date-picker-title');\n\n    const { loadTimeSlots } = props\n    useEffect(() => {\n        loadTimeSlots()\n        if (props.timeSlots) {\n            setLoader(false)\n        }\n    }, [loadTimeSlots]);\n\n\n    async function handleChange(date) {\n        setLoader(true)\n        handleDateChange(date)\n        await props.loadTimeSlots(date)\n        if (props.timeSlots) {\n            setLoader(false)\n        }\n    }\n    function onSwipeDirection(direction) {\n        if(props.timeSlots&&!loader){\n        //need to change to normal way\n        if ((direction === 'Left')&& (selectedDate.getTime()) > (new Date().getTime())) {\n            handleChange(new Date(selectedDate.setDate(selectedDate.getDate() - 3)));\n        }\n        else if (direction === 'Right') {\n            handleChange(new Date(selectedDate.setDate(selectedDate.getDate() + 3)));\n        }\n        else {\n            if ((direction !== 'Up') && (direction !== 'Down')) {\n                seTcalendarTitle('לא ניתן לבחור תאריך שעבר')\n                setPickerRedTitle('picker-red-title')\n                setTimeout(() => {\n                    seTcalendarTitle('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n                    setPickerRedTitle('date-picker-title')\n                }, 3000);\n            }\n        }\n    }\n    }\n    return (\n        <>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{ width: \"100%\" }}\n            >\n                <div className=\"calendar-picker-container\">\n                    <div className={`${pickerRedTitle}`}>\n                        {calendarTitle}\n                    </div>\n                    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={heLocale} >\n                        <ThemeProvider theme={materialTheme}>\n                            <KeyboardDatePicker\n                                disableToolbar\n                                // disablePast={true}\n                                variant=\"dialog\"\n                                okLabel=\"אישור\"\n                                cancelLabel=\"ביטול\"\n                                format=\"MM/dd/yyyy\"\n                                margin=\"normal\"\n                                id=\"date-picker-inline\"\n                                value={selectedDate}\n                                onChange={handleChange}\n                                KeyboardButtonProps={{\n                                    'aria-label': 'change date',\n                                }}\n                            />\n                        </ThemeProvider>\n                    </MuiPickersUtilsProvider>\n                </div>\n                <Swipeable onSwiped={(eventData) => onSwipeDirection(eventData.dir)} >\n                    <div className=\"main-container time-slot-lists-container\">\n                        {(props.timeSlots && !loader) ? <TimeslotList date={selectedDate} timeSlots={props.timeSlots} duration={props.duration} />\n                            : <div className=\"loaderContainer flex  justify-center\"><LoaderApp /></div>}\n                    </div>\n                </Swipeable>\n            </motion.div>\n            <NavBtns />\n        </>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        timeSlots: state.CalendarReducer.timeSlots,\n        duration: state.TreatmentReducer.duration\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTimeSlots\n}\n\nexport const CalendarApp = connect(mapStateProps, mapDispatchToProps)(_CalendarApp)\n","const INITIAL_STATE = {\n    treatment: null,\n    treatments: null,\n    duration:0,\n    pickedTreatmentsCount:0\n}\n\nexport function TreatmentReducer(state = INITIAL_STATE, action) {\n\n    switch (action.type) {\n\n        case 'SET_TREATMENTS':\n            return {\n                ...state,\n                treatments: action.treatments\n            }            \n        case 'SET_TREATMENT':\n            return {\n                ...state,\n                treatment: action.treatment\n            }    \n        case 'REMOVE_TREATMENT':\n        return {\n          ...state,\n          treatments: state.treatments.filter(treatment => treatment._id !== action.treatmentId)\n        };     \n        case 'UPDATE_TREATMENTS':\n          console.log('re',action.treatments)\n        return {\n          ...state,\n          treatments:action.treatments \n        };   \n        \n        case 'UPDATE_PICKED_TREATMENTS_COUNT' :\n        return {\n          ...state,\n          pickedTreatmentsCount: state.pickedTreatmentsCount+(action.count)\n        };              \n        case 'UPDATE_DURATION':\n        return {\n          ...state,\n          duration: state.duration+(action.duration)\n        };              \n        case 'INIT_DURATION':\n        return {\n          ...state,\n          duration:0\n        };           \n        case 'INIT_PICKED_TREATMENTS_COUNT':\n        return {\n          ...state,\n          pickedTreatmentsCount:0\n        };           \n      \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n  step:0,\n  steps:['בחירת טיפולים ', ' בחירת תור', 'אישור']\n}\n\nexport function StepperReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'UPDATE_ACTIVE_STEP':\n            return {\n                ...state,\n                step:action.step\n            }       \n       \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n    calendar: null,\n    timeSlots: null,\n    confirmedEventId:null\n}\n\nexport function CalendarReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'SET_CALENDAR':\n            return {\n                ...state,\n                calendar: action.calendar\n            }          \n        case 'SET_TIMESLOTS':\n            return {\n                ...state,\n                timeSlots: action.timeSlots\n            }          \n\n        default:\n            return state;\n    }\n}\n\n\n","const INITIAL_STATE = {\n    users:[]\n}\n\nexport function UserReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n\n        case 'SET_USERS':\n            return {\n                ...state,\n                users: action.users\n            }          \n        case 'UPDATE_USERS':\n            return {\n                ...state,\n                users: action.users\n            }          \n        \n        default:\n            return state;\n    }\n}\n","import { TreatmentReducer } from './reducers/TreatmentReducer';\nimport { StepperReducer } from './reducers/StepperReducer';\nimport { CalendarReducer } from './reducers/CalendarReducer';\nimport { UserReducer } from './reducers/UserReducer';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst rootReducer = combineReducers({\n    TreatmentReducer,\n    CalendarReducer,\n    StepperReducer,\n    UserReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","import {store} from \"../store.js\";\n\nexport default {\n    initApp\n}\n\nfunction initApp() {\n    store.dispatch({type: 'UPDATE_ACTIVE_STEP',step:0})\n    store.dispatch({type: 'SET_TREATMENT', treatment:null})\n    store.dispatch({type: 'SET_TREATMENTS', treatments:null})\n    store.dispatch({type: 'SET_TIMESLOTS',timeSlots:null})\n    store.dispatch({type: 'INIT_DURATION'})\n    store.dispatch({type: 'INIT_PICKED_TREATMENTS_COUNT'})\n   \n}","export default {\n    saveToStorage,\n    loadFromStorage\n}\n\nfunction saveToStorage(key, value) {\n    var str = JSON.stringify(value);\n    localStorage.setItem(key, str);\n}\n\nfunction loadFromStorage(key) {\n    var str = localStorage.getItem(key)\n    return JSON.parse(str)\n}","import React, { useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport StoreService from '../../services/StoreService';\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { motion } from 'framer-motion'\nimport TreatmentService from \"../../services/TreatmentService\";\nimport StorageService from \"../../services/StorageService\";\nimport './SubmitForm.scss';\n\n// style for motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n// style for modal + input material ui\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        border: '2px solid #000',\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(2, 4, 3),\n        color: 'form-title'\n    },\n    input: {\n        '& > *': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        }\n    }\n}));\n\nexport function _SubmitForm(props) {\n\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [markedTreatmetns, setMarkedTreatmetns] = React.useState('');\n    const [credentials, setCredentials] = React.useState({ name: '', phone: '', email: '' })\n    const dateIsraeliDisplay = UtilsService.convertDateToIsraelisDisplay(props.treatment.date)\n    const endTime = UtilsService.calculateEndTime(props.treatment.time, props.duration)\n\n    useEffect(() => {\n        setMarkedTreatmetns(TreatmentService.getMarkedTreatmentsStr(props.treatments))\n        const user = StorageService.loadFromStorage('tori-user')\n        if (user) {\n            setCredentials(user)\n        }\n    }, [props.treatments])\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n    };\n\n    function init() {\n        StoreService.initApp()\n        props.history.push('/treatments')\n    }\n\n    async function setAppointment() {\n        const { name, phone, email } = credentials\n        await CalendarService.setAppointment(markedTreatmetns, props.duration, phone, email, name, props.treatment)\n        StorageService.saveToStorage('tori-user', credentials)\n    }\n\n\n    const { name, phone, email } = credentials\n    return (\n        <div className=\"submit-form flex column  align-center\">\n            <button className=\"restart-btn\" onClick={init}>אתחול  <i className=\"fas fa-redo-alt\"></i></button>\n            <div className=\"user-details\">\n                <div>שם : {name}</div>\n                <div>טלפון : {phone}</div>\n                <div>אימייל : {email}</div>\n            </div>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{ textAlign: 'center', width: '100%' }}\n            >\n                <div className=\"appointment-details\">\n                    <div className=\"table-cell\">סוג הטיפול : {TreatmentService.getMarkedTreatmentsStr(props.treatments)}</div>\n                    <div className=\"table-cell\">תאריך : {UtilsService.convertDateToIsraelisDisplay(props.treatment.date)}</div>\n                    <div className=\"last-cell\">בין השעות : {props.treatment.time} - {UtilsService.calculateEndTime(props.treatment.time, props.duration)}</div>\n                </div>\n\n                <Modal\n                    aria-labelledby=\"transition-modal-title\"\n                    aria-describedby=\"transition-modal-description\"\n                    className={classes.modal}\n                    open={open}\n                    onClose={handleClose}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{\n                        timeout: 500,\n                    }}\n                >\n                    <Fade in={open}>\n                        <div className={classes.paper}>\n                            <h2 id=\"transition-modal-title\">התור נקבע בהצלחה</h2>\n                            <div> נקבע לך תור ל: {markedTreatmetns}  </div>\n                            <div> בתאריך {dateIsraeliDisplay}</div>\n                            <div> בין השעות: {endTime} - {props.treatment.time}</div>\n\n                        </div>\n                    </Fade>\n                </Modal>\n            </motion.div>\n            <NavBtns handleOpen={handleOpen} setAppointment={setAppointment} />\n        </div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments,\n        treatment: state.TreatmentReducer.treatment,\n        duration: state.TreatmentReducer.duration,\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const SubmitForm = withRouter(connect(mapStateProps, mapDispatchToProps)(_SubmitForm))\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { motion } from 'framer-motion'\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport EventService from '../../services/EventService';\nimport EmailService from '../../services/EmailService';\nimport StoreService from '../../services/StoreService';\nimport StorageService from \"../../services/StorageService\";\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport './CancelAppointment.scss';\n\n// style motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function _CancelAppointment(props) {\n    useEffect(() => {\n        getEventsByPhone()\n    }, []);\n\n    // style material ui modal\n    const useStyles = makeStyles((theme) => ({\n\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            color: 'form-title'\n        },\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n                width: '25ch',\n                color: '#172b4d'\n            }\n        },\n    }));\n\n\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const [loader, setLoader] = React.useState(<LoaderApp />);\n    setTimeout(() => {\n        setLoader('')\n    }, 2000);\n    const [phone, setPhone] = React.useState(StorageService.loadFromStorage('tori-user').phone);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n        props.history.push('/treatments')\n    };\n\n    const [eventsToCancel, setEventsToCancel] = useState(null)\n\n    const [pageCount, setPageCount] = useState(0)\n\n    function init() {\n        StoreService.initApp()\n    }\n\n    function getEventsByPhone() {\n        console.log(phone)\n        EventService.getEventByPhone(phone)\n            .then(events => {\n                if (!events[0]) return\n                console.log(events)\n                const filteredEvents = events.filter(event => {\n                    let year = event.date.slice(0, 4)\n                    let month = event.date.slice(5, 7)\n                    let day = event.date.slice(8, 10)\n                    let hours = +event.startTime.slice(0, 2) + 3\n                    console.log(hours)\n                    const date = new Date(year, month - 1, day, hours, 0).getTime()\n                    console.log(date, Date.now())\n                    return (date > Date.now())\n                })\n                console.log(filteredEvents)\n                if (filteredEvents.length) {\n                    setEventsToCancel(UtilsService.getEventReadyForDisplay(filteredEvents))\n                }\n            })\n    }\n\n    async function cancelAppointment(eventId) {\n        const events = await EventService.getEventByPhone(phone)\n        let eventToRmove = events.find(event => event._id === eventId)\n        console.log(eventToRmove)\n        // delete from Calendar\n        CalendarService.removeEventFromCalendar(eventToRmove.eventId)\n        // delete from mongo data base\n        EventService.removeEventFromDB(eventToRmove._id)\n        EmailService.sendEmail(eventToRmove.name, eventToRmove.date, eventToRmove.email, false)\n        setEventsToCancel(null)\n        handleOpen()\n    }\n\n    return (\n        <div className=\"cancel-appointment flex column align-center space-between \">\n            <motion.div\n                className=\"motion-div\"\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n            >\n                {\n                    (loader) ?\n                        <div className=\"cancel-apointment-loader\">{loader}</div>\n                        :\n                        <main >\n                            <div className=\"table-wrapper\">\n                                {(eventsToCancel) ?\n                                    <div>\n                                        <div className=\"apointment-details\">\n                                            <div className=\"table-cell\"> <span>סוג הטיפול</span> : {eventsToCancel[pageCount].treatments}</div>\n                                            <div className=\"table-cell\"> בתאריך : {eventsToCancel[pageCount].date}</div>\n                                            <div className=\"last-cell\"> בין השעות : {`${eventsToCancel[pageCount].endTime} - ${eventsToCancel[pageCount].startTime}`}</div>\n                                        </div>\n                                        {(eventsToCancel.length > 1) &&\n                                            <div className=\"arrows-container flex space-between\">\n                                                {(eventsToCancel[pageCount - 1]) ? <i onClick={() => setPageCount(pageCount - 1)} className=\"arrow fas fa-angle-right\"></i>\n                                                    : <i className=\"arrow-disabled fas fa-angle-right\"></i>\n                                                }\n                                                {eventsToCancel[pageCount + 1] ? <i onClick={() => setPageCount(pageCount + 1)} className=\"arrow fas fa-angle-left\"></i>\n                                                    : <i className=\"arrow-disabled fas fa-angle-left\"></i>\n                                                }\n                                            </div>\n                                        }\n                                        <button onClick={() => cancelAppointment(eventsToCancel[pageCount].id)} className=\"trash-btn\"> בטל תור <i className=\"fas fa-trash\" ></i></button>\n                                    </div>\n                                    :\n                                    <div className=\"no-apointments\">\n                                        לא נמצאו תורים\n                            </div>\n                                }\n                            </div>\n\n                            <Modal\n                                aria-labelledby=\"transition-modal-title\"\n                                aria-describedby=\"transition-modal-description\"\n                                className={classes.modal}\n                                open={open}\n                                onClose={handleClose}\n                                closeAfterTransition\n                                BackdropComponent={Backdrop}\n                                BackdropProps={{\n                                    timeout: 500,\n                                }}\n                            >\n                                <Fade in={open}>\n                                    <div className={classes.paper}>\n                                        <h2 id=\"transition-modal-title\">התור בוטל</h2>\n                                        <p id=\"transition-modal-description\"></p>\n                                    </div>\n                                </Fade>\n                            </Modal>\n                        </main>\n                }\n            </motion.div>\n        </div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const CancelAppointment = withRouter(connect(mapStateProps, mapDispatchToProps)(_CancelAppointment))\n\n\n","import React, { useState, useEffect } from \"react\";\nimport { motion } from 'framer-motion'\nimport './SignupOrLogin.scss';\nimport { Link } from 'react-router-dom'\n\n\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function SignupOrLogin(props) {\n\n\n\n\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"signup-or-login-container flex align-center justify-center column\">\n                <div className=\"square top-square\">\n                    <Link className=\"signUp-link flex align-center justify-center \" to=\"/signup\">\n                       <div>הרשמ/י</div> \n            </Link>\n                </div>\n                <div className=\"square bottom-square\">\n                    <Link className=\"login-link flex align-center justify-center\" to=\"/login\">\n                       <div>התחבר/י</div> \n            </Link>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n","import HttpService from './HttpService'\nimport UtilsService from \"../services/UtilsService\";\nimport StorageService from \"../services/StorageService\";\n\nexport default {\n    getUsers,\n    getUser,\n    addUser,\n    removeUser,\n    // updateUser\n}\n\nfunction _sortUsers(users) {\n return  users.sort((a, b) => a.name.localeCompare(b.name))\n}\n\nasync function getUsers() {\n    const users = await HttpService.get('user')\n    return _sortUsers(users)\n}\n\nfunction getUser(phone) {\n    return HttpService.get(`user/${phone}`)\n}\n\nasync function addUser(user) {\n    user.isMarked = false\n    StorageService.saveToStorage('tori-user', user)\n    return HttpService.post('user', user)\n}\n\nasync function removeUser(_id) {\n    StorageService.saveToStorage('tori-user', '')\n    return HttpService.delete(`user/${_id}`)\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom'\nimport StorageService from \"../../services/StorageService\";\nimport UtilsService from \"../../services/UtilsService\";\nimport UserService from \"../../services/UserService\";\nimport { motion } from 'framer-motion'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport './Login.scss';\n\n\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\nconst ownerPhone = '123456789'\nconst ownerPassword = '1234'\n\nexport function Login(props) {\n    const [phone, setPhone] = React.useState('')\n    const [password, setPassword] = useState('');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [phoneIsValid, setPhoneIsValid] = useState(false);\n\n    useEffect(() => {\n        checkValidation()\n    }, [phone])\n\n    // hide text validation if text is valid\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'phone':\n                setPhone(value)\n                console.log(phoneIsValid)\n                break;\n            case 'password':\n                console.log(value)\n                setPassword(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        setPhoneIsValid((phone.length > 8) && (phone.length < 11))\n    }\n\n    function toggleValidations() {\n        if (!phoneIsValid) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n    }\n\n\n    async function setUser() {\n        const user = await UserService.getUser(phone)\n        console.log(user);\n        //validation of owner phone number\n        if (user) {\n            if (phone !== ownerPhone) {\n                //need to bring from mongo\n                const { name, email, phone } = user\n                StorageService.saveToStorage('tori-user', { name, email, phone })\n                props.history.push('/treatments')\n            }\n            else {\n                handleClickOpen()\n            }\n        } else {\n            handleModalClickOpen()\n        }\n    }\n\n    const [open, setOpen] = React.useState(false);\n    const [dialogTitle, setDialogTitle] = React.useState(' הרשאת מנהל');\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = async (close) => {\n        const user = await UserService.getUser(phone)\n        if (close !== 'close') {\n            //owner password\n            if (password === ownerPassword) {\n                setOpen(false);\n                const { name, email, phone } = user\n                StorageService.saveToStorage('tori-user', { name, email, phone })\n                props.history.push('/calendarAdmin')\n            }\n            else {\n                setDialogTitle('ססמא שגויה!')\n            }\n        }\n        else {\n            setOpen(false);\n            setDialogTitle('הרשאת מנהל')\n        }\n    };\n\n\n\n    const [openModal, setOpenModal] = React.useState(false);\n\n    const handleModalClickOpen = () => {\n        setOpenModal(true);\n    };\n\n    const handleModalClose = () => {\n        setOpenModal(false);\n    };\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"main-login-container flex align-center justify-center column\">\n                <div className=\"login-title\">\n                    אנא הכניסו מספר טלפון לזיהוי\n                </div>\n                <form className=\"main-form flex align-center column\">\n\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className={`validation-text ${togglePhoneValidation}`}>\n                                {\n                                    (phone) ?\n                                        \"מספר הטלפון שהוקש שגוי\"\n                                        :\n                                        \"זהו שדה חובה, יש להכניס טלפון\"\n                                }\n                            </div>\n                        </div>\n                        <input className=\"phone\" name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n\n                    </div>\n\n                </form>\n\n                <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className=\"save-btn\" onClick={setUser} disabled={!phoneIsValid}>התחבר</button></span>\n\n                <div>\n                    <Dialog open={open} onClose={() => handleClose('close')} aria-labelledby=\"form-dialog-title\">\n                        <DialogTitle id=\"form-dialog-title\"> {dialogTitle}</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                הכנס סיסמה\n          </DialogContentText>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"name\"\n                                label=\"סיסמה\"\n                                type=\"email\"\n                                fullWidth\n                                value={password}\n                                onChange={handleChange}\n                                name=\"password\"\n                            />\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => handleClose('close')} color=\"primary\">\n                                בטל\n          </Button>\n                            <Button onClick={handleClose} color=\"primary\">\n                                אשר\n          </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n\n                {/* modal dialog */}\n                <div>\n                    <Dialog\n                        open={openModal}\n                        onClose={handleModalClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        {/* <DialogTitle id=\"alert-dialog-title\">{\"Use Google's location service?\"}</DialogTitle> */}\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description row\">\n                                <div>\n                                    <div>\n                                        המספר שהוקש אינו קיים במערכת.\n                                    </div>\n                                    <div className=\"flex\">\n                                        <div>להרשמה לחץ</div>\n                                        <Link className=\"login-link flex align-center justify-center\" to=\"/signup\">\n                                             כאן\n                                       </Link>\n                                    </div>\n                                </div>\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleModalClose} color=\"primary\" autoFocus>\n                                ביטול\n                         </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { Link } from 'react-router-dom'\nimport StorageService from \"../../services/StorageService\";\nimport UtilsService from \"../../services/UtilsService\";\nimport UserService from \"../../services/UserService\";\nimport { motion } from 'framer-motion'\nimport './Signup.scss';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function Signup(props) {\n    const [credentials, setCredentials] = React.useState({ name: '', phone: '', email: '' })\n    const { name, phone, email } = credentials\n    const [toggleNameValidation, setToggleNameValidation] = useState('visibility');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [toggleEmailValidation, setToggleEmailValidation] = useState('visibility');\n    const [isValid, setIsValid] = useState(\n        {\n            name: false,\n            phone: false,\n            email: true\n        }\n    );\n\n    useEffect(() => {\n        checkValidation()\n    }, [credentials])\n\n    // hide text validation if text is valid\n    useEffect(() => {\n        if (name) setToggleNameValidation('visibility')\n    }, [name])\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n    useEffect(() => {\n        if (UtilsService.validateEmail(email)) {\n            setToggleEmailValidation('visibility')\n        }\n    }, [email])\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'name':\n                setCredentials({ ...credentials, name: value })\n                break;\n            case 'phone':\n                setCredentials({ ...credentials, phone: value })\n                break;\n            case 'email':\n                setCredentials({ ...credentials, email: value })\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        let emailIsValid = true\n        if (email) {\n            emailIsValid = UtilsService.validateEmail(email)\n        }\n        setIsValid({\n            name: (name.length > 0),\n            phone: ((phone.length > 8) && (phone.length < 11)),\n            email: emailIsValid\n        })\n    }\n\n    function toggleValidations() {\n        if (!isValid.name) {\n            setToggleNameValidation('')\n        } else {\n            setToggleNameValidation('visibility')\n        }\n        if (!isValid.phone) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n        if (!isValid.email) {\n            setToggleEmailValidation('')\n        } else {\n            setToggleEmailValidation('visibility')\n        }\n    }\n\n\n    async function setUser() {\n        const user = await UserService.getUser(phone)\n        if (user) {\n            handleClickOpen()\n        } else {\n            UserService.addUser(credentials)\n            props.history.push('/treatments')\n        }\n    }\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"main-login-container flex align-center justify-center column\">\n                <div className=\"login-title\">\n                    אנא מלאו את השדות הבאים ולחצו 'שמור'.\n                    <div className=\"login-title-sub\">שדות המסומנים ב - *  הינם שדות חובה</div>\n                </div>\n                <form className=\"main-form flex align-center justify-center column\">\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* שם מלא  </div>\n                            <div className={`validation-text ${toggleNameValidation}`}>זהו שדה חובה, יש להכניס שם</div>\n                        </div>\n                        <input autoFocus={true} className=\"name\" name=\"name\" id=\"outlined-basic\" variant=\"outlined\" value={name} onChange={handleChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* טלפון  </div>\n                            <div className={`validation-text ${togglePhoneValidation}`}>\n                                {\n                                    (phone) ?\n                                        \"מספר הטלפון שהוקש שגוי\"\n                                        :\n                                        \"זהו שדה חובה, יש להכניס טלפון\"\n                                }\n                            </div>\n                        </div>\n                        <input className=\"phone\" name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title form-title-email\">מייל </div>\n                            <div className={`validation-text ${toggleEmailValidation}`}>האימייל שהוקש שגוי</div>\n                        </div>\n                        <input className=\"email\" name=\"email\" id=\"outlined-basic\" variant=\"outlined\" value={email} onChange={handleChange} />\n                    </div>\n                </form>\n\n                <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className=\"save-btn\" onClick={setUser} disabled={!isValid.phone || !isValid.email || !isValid.name}>שמור</button></span>\n                <div>\n                    <Dialog\n                        open={open}\n                        TransitionComponent={Transition}\n                        keepMounted\n                        onClose={handleClose}\n                        aria-labelledby=\"alert-dialog-slide-title\"\n                        aria-describedby=\"alert-dialog-slide-description\"\n                    >\n                        {/* <DialogTitle id=\"alert-dialog-slide-title\">{\"Use Google's location service?\"}</DialogTitle> */}\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-slide-description\">\n                            <div>\n                                    <div>\n                                       המספר שהוקש כבר קיים במערכת.\n                                    </div>\n                                    <div className=\"flex\">\n                                        <div>להתחברות לחץ</div>\n                                        <Link className=\"login-link flex align-center justify-center\" to=\"/login\">\n                                             כאן\n                                       </Link>\n                                    </div>\n                                </div>\n                   </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                                ביטול\n                       </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport './HomePage.scss';\nimport StorageService from \"../../services/StorageService\";\nexport function _HomePage(props) {\n\n    function changeRoute(route) {\n        (user) ? props.history.push(route) : props.history.push('/signupOrLogin')\n    }\n\n    const [user, setUser] = useState(StorageService.loadFromStorage('tori-user'));\n    const ownerPhone = '123456789'\n    const wazeUrl = 'https://www.waze.com/ul?ll=32.07757250%2C34.82430500&navigate=yes'\n    const facebook = 'bokeresh'\n    const instagram = 'restylebar'\n    return (\n        <div className=\"home-page-wrapper\">\n            <main className=\"home-page\">\n                <img className=\"cover-photo\" src={require('../../styles/img/oo.png')} />\n                {(user) ?\n                    (user.phone === ownerPhone) ?\n                        <div className=\"login-container\" onClick={() => props.history.push('/adminpage')}>\n                            <div className=\"admin-logo\"> <i className=\"fas fa-user-tie\"></i></div>\n                            <div>{user.name}</div>\n                        </div>\n                        :\n                        //just for trying heroku need to be userpage\n                        <div className=\"login-container\" onClick={() => props.history.push('/calendarAdmin')}>\n                            <div className=\"user-logo\">  <i className=\"fas fa-user-tie\"></i></div>\n                            <div>{user.name}</div>\n                        </div>\n                    :\n                    <div className=\"login-container\" onClick={() => props.history.push('/signupOrLogin')}>\n                        <div className=\"user-logo\">  <i className=\"fas fa-user-tie\"></i></div>\n                        <div>הרשם/</div>\n                         <div>התחבר</div>\n                    </div>\n                }\n                <div className=\"profile-container\">\n                    <div className=\"profile-img\"></div>\n                    <div className=\"profile-text-container\">\n                        <div id=\"profile-title\" className=\"profile-title\">Dee Nail Salon</div>\n                        <div className=\"profile-sub-title\">מכון לבניית ציפורניים</div>\n                    </div>\n                </div>\n                <div className=\"icons-container flex column align-center justify-center\">\n                    <div className=\"top-icons-container flex space-around\">\n                        <a className=\"facebook-container\" href={`https://www.facebook.com/${facebook}/`} >\n                            <div className=\"circle\"><i class=\"fab fa-facebook-f\"></i> </div>\n                       פייסבוק\n                        </a>\n                        <a className=\"instagram-container\" href={`https://www.instagram.com/${instagram}/`}>\n                            <div className=\"circle\"><i class=\"fab fa-instagram\"></i></div>\n                           אינסטגרם\n                        </a>\n                        <a className=\"waze-container\" href={wazeUrl}>\n                            <div className=\"circle\"> <i className=\"fab fa-waze\"></i></div>\n                        נווטו אלינו\n                        </a>\n                    </div>\n                    <div className=\"bottom-icons-container flex space-around\">\n                        <div className=\"queue-container\" onClick={() => changeRoute('/treatments')}>\n                            <div className=\"circle\"><i class=\"fas fa-user-clock\"></i></div>\n                    קביעת תור\n                    </div>\n                        <div className=\"remove-queue-container\" onClick={() => changeRoute('/cancelAppointment')}>\n                            <div className=\"circle\"><i class=\"fas fa-user-times\"></i></div>\n                    ביטול תור\n                    </div>\n                        <a className=\"phone\" href=\"tel:0538281511\">\n                            <div className=\"circle\"><i className=\"fas fa-phone-alt\"></i></div>\n                         חייגו אלינו\n                    </a>\n                    </div>\n                </div>\n                {/* <img className=\"footer-img\" src={require('../../styles/img/footer2.png')} /> */}\n            </main>\n        </div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n    }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport const HomePage = withRouter(connect(mapStateProps, mapDispatchToProps)(_HomePage))","import React, { useState, useEffect, useRef } from \"react\";\nimport StorageService from \"../../services/StorageService\";\nimport UtilsService from \"../../services/UtilsService\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withRouter } from 'react-router-dom';\nimport './EditUser.scss';\n\n\n\n\nconst ownerPhone = '123456789'\nconst ownerPassword = '1234'\n\nexport function _EditUser(props) {\n    const [credentials, setCredentials] = React.useState(StorageService.loadFromStorage('tori-user'))\n    const { name, phone, email } = credentials\n    const [password, setPassword] = useState('');\n    const [toggleNameValidation, setToggleNameValidation] = useState('visibility');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [toggleEmailValidation, setToggleEmailValidation] = useState('visibility');\n    const [isValid, setIsValid] = useState(\n        {\n            name: false,\n            phone: false,\n            email: true\n        }\n    );\n\n    useEffect(() => {\n        checkValidation()\n    }, [credentials])\n\n    // hide text validation if text is valid\n    useEffect(() => {\n        if (name) setToggleNameValidation('visibility')\n    }, [name])\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n    useEffect(() => {\n        if (UtilsService.validateEmail(email)) {\n            setToggleEmailValidation('visibility')\n        }\n    }, [email])\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'name':\n\n                setCredentials({ ...credentials, name: value })\n                break;\n            case 'phone':\n\n                setCredentials({ ...credentials, phone: value })\n                // checkPhoneValidation()\n                console.log(isValid)\n                break;\n            case 'email':\n                setCredentials({ ...credentials, email: value })\n                // checkEmailValidation()\n                console.log(isValid)\n                break;\n            case 'password':\n                console.log(value)\n                setPassword(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        let emailIsValid = true\n        if (email) {\n            emailIsValid = UtilsService.validateEmail(email)\n        }\n        setIsValid({\n            name: (name.length > 0),\n            phone: ((phone.length > 8) && (phone.length < 11)),\n            email: emailIsValid\n        })\n    }\n\n    function toggleValidations() {\n        if (!isValid.name) {\n            setToggleNameValidation('')\n        } else {\n            setToggleNameValidation('visibility')\n        }\n        if (!isValid.phone) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n        if (!isValid.email) {\n            setToggleEmailValidation('')\n        } else {\n            setToggleEmailValidation('visibility')\n        }\n    }\n\n\n    function setUser() {\n        console.log(isValid)\n\n        //validation of owner phone number\n        if (credentials.phone !== ownerPhone) {\n            StorageService.saveToStorage('tori-user', credentials)\n            props.history.push('/')\n        }\n        else {\n            handleClickOpen()\n        }\n\n    }\n\n    const [open, setOpen] = React.useState(false);\n    const [dialogTitle, setDialogTitle] = React.useState(' הרשאת מנהל');\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (close) => {\n        if (close !== 'close') {\n            //owner password\n            if (password === ownerPassword) {\n                setOpen(false);\n                StorageService.saveToStorage('tori-user', credentials)\n                props.history.push('/')\n            }\n            else {\n                setDialogTitle('ססמא שגויה!')\n            }\n        }\n        else {\n            setOpen(false);\n            setDialogTitle('הרשאת מנהל')\n        }\n    };\n\n\n\n\n    const [isNameEditing, setIsNameEditing] = useState(false);\n    const [isNameDisabled, setIsNameDisabled] = useState(true);\n    const [nameBorderBottom, setNameBorderBottom] = useState('thin-border-bottom');\n    const nameFocus = useRef(null);\n    useEffect(() => {\n        if (isNameEditing) {\n             //unable phone\n             setIsPhoneEditing(false)\n             setIsPhoneDisabled(true)\n             setPhoneBorderBottom('thin-border-bottom')\n             //unable email\n             setIsEmailEditing(false)\n             setIsEmailDisabled(true)\n             setEmailBorderBottom('thin-border-bottom')\n            nameFocus.current.focus();\n        }\n    }, [isNameEditing]);\n\n    const [isPhoneEditing, setIsPhoneEditing] = useState(false);\n    const [isPhoneDisabled, setIsPhoneDisabled] = useState(true);\n    const [phoneBorderBottom, setPhoneBorderBottom] = useState('thin-border-bottom');\n    const phoneFocus = useRef(null);\n    useEffect(() => {\n        if (isPhoneEditing) {\n            //unable name\n            setIsNameEditing(false)\n            setIsNameDisabled(true)\n            setNameBorderBottom('thin-border-bottom')\n            //unable email\n            setIsEmailEditing(false)\n            setIsEmailDisabled(true)\n            setEmailBorderBottom('thin-border-bottom')\n            phoneFocus.current.focus();\n        }\n    }, [isPhoneEditing]);\n\n    const [isEmailEditing, setIsEmailEditing] = useState(false);\n    const [isEmailDisabled, setIsEmailDisabled] = useState(true);\n    const [emailBorderBottom, setEmailBorderBottom] = useState('thin-border-bottom');\n    const emailFocus = useRef(null);\n    useEffect(() => {\n        if (isEmailEditing) {\n              //unable phone\n              setIsPhoneEditing(false)\n              setIsPhoneDisabled(true)\n              setPhoneBorderBottom('thin-border-bottom')\n              //unable name\n              setIsNameEditing(false)\n              setIsNameDisabled(true)\n              setNameBorderBottom('thin-border-bottom')\n            emailFocus.current.focus();\n        }\n    }, [isEmailEditing]);\n\n\n    const toggleEditing = (value) => {\n        if (value === 'name') {\n            setIsNameEditing(!isNameEditing);\n            setIsNameDisabled(!isNameDisabled)\n            if (nameBorderBottom === 'thick-border-bottom') {\n                setNameBorderBottom('thin-border-bottom')\n            } else {\n                setNameBorderBottom('thick-border-bottom')\n            }\n        }\n        if (value === 'phone') {\n            setIsPhoneEditing(!isPhoneEditing);\n            setIsPhoneDisabled(!isPhoneDisabled)\n            if (phoneBorderBottom === 'thick-border-bottom') {\n                setPhoneBorderBottom('thin-border-bottom')\n            } else {\n                setPhoneBorderBottom('thick-border-bottom')\n            }\n        }\n        if (value === 'email') {\n            setIsEmailEditing(!isEmailEditing);\n            setIsEmailDisabled(!isEmailDisabled)\n            if (emailBorderBottom === 'thick-border-bottom') {\n                setEmailBorderBottom('thin-border-bottom')\n            } else {\n                setEmailBorderBottom('thick-border-bottom')\n            }\n        }\n    };\n\n\n\n\n\n\n    return (\n        <main className=\"main-edit-container flex align-center justify-center column\">\n            <div className=\"login-title\">\n                  לשינוי שדה לחצו על סמל העריכה בסיום לחצו 'שמור'.\n                    <div className=\"login-title-sub\">שדות המסומנים ב - *  הינם שדות חובה</div>\n            </div>\n            <form className=\"main-form flex align-center justify-center column\">\n                <div className=\"input-container\">\n                    <div className=\"form-title-container flex\">\n                        <div className=\"form-title\">* שם מלא  </div>\n                        <div className={`validation-text ${toggleNameValidation}`}>זהו שדה חובה, יש להכניס שם</div>\n                    </div>\n                    <div className={`input-edit-container ${nameBorderBottom} flex justify-center align-center`}>\n                        <input className=\"input-edit-page name\" disabled={isNameDisabled} ref={nameFocus} name=\"name\" id=\"outlined-basic\" variant=\"outlined\" value={name} onChange={handleChange} />\n                       {\n                       (isNameEditing)?\n                       <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('name')}></i>\n                       :\n                        <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('name')}></i>\n                       }\n                    </div>\n                </div>\n                <div className=\"input-container\">\n                    <div className=\"form-title-container flex\">\n                        <div className=\"form-title\">* טלפון  </div>\n                        <div className={`validation-text ${togglePhoneValidation}`}>\n                            {\n                                (phone) ?\n                                    \"מספר הטלפון שהוקש שגוי\"\n                                    :\n                                    \"זהו שדה חובה, יש להכניס טלפון\"\n                            }\n                        </div>\n                    </div>\n                    <div className={`input-edit-container ${phoneBorderBottom} flex justify-center align-center`}>\n                        <input className=\"input-edit-page phone\" disabled={isPhoneDisabled} ref={phoneFocus} name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n                        {\n                       (isPhoneEditing)?\n                       <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('phone')}></i>\n                       :\n                        <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('phone')}></i>\n                       }\n                    </div>\n                </div>\n                <div className=\"input-container\">\n                    <div className=\"form-title-container flex\">\n                        <div className=\"form-title form-title-email\">מייל </div>\n                        <div className={`validation-text ${toggleEmailValidation}`}>האימייל שהוקש שגוי</div>\n                    </div>\n                    <div className={`input-edit-container ${emailBorderBottom} flex justify-center align-center`}>\n                        <input className=\"input-edit-page email\" disabled={isEmailDisabled} ref={emailFocus} name=\"email\" id=\"outlined-basic\" variant=\"outlined\" value={email} onChange={handleChange} />\n                        {\n                       (isEmailEditing)?\n                       <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('email')}></i>\n                       :\n                        <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('email')}></i>\n                       }\n                    </div>\n                </div>\n            </form>\n\n            <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className=\"save-btn\" onClick={setUser} disabled={!isValid.phone || !isValid.email || !isValid.name}>שמור</button></span>\n\n            <div>\n                <Dialog open={open} onClose={() => handleClose('close')} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\"> {dialogTitle}</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText>\n                            הכנס סיסמה\n          </DialogContentText>\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            id=\"name\"\n                            label=\"סיסמה\"\n                            type=\"email\"\n                            fullWidth\n                            value={password}\n                            onChange={handleChange}\n                            name=\"password\"\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => handleClose('close')} color=\"primary\">\n                            בטל\n          </Button>\n                        <Button onClick={handleClose} color=\"primary\">\n                            אשר\n          </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n\n        </main>\n    );\n}\n\n\nexport const EditUser = withRouter(_EditUser)\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { motion } from 'framer-motion'\nimport { EditUser } from '../../cmps/EditUser/EditUser';\nimport './UserPage.scss';\n\n// motion div style\nconst pageVariants={\n    in:{\n        opacity: 1 ,\n        x:0,\n        textAlign: 'center'\n    },\n    out:{\n        opacity: 0,\n        x:\"50%\"\n    }\n}\n\nconst pageTransition={\n    duration:0.5,\n    type:\"spring\",\n    stiffness:50\n}\n\n\n\nexport function _UserPage(props) {\n\n\n    return (\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{width:\"100%\", height:\"100%\"}}\n            >\n               <EditUser/>\n             </motion.div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n      \n    }\n}\n\nconst mapDispatchToProps = {\n \n}\n\nexport const UserPage = connect(mapStateProps, mapDispatchToProps)(_UserPage)\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { motion } from 'framer-motion'\nimport { EditUser } from '../../cmps/EditUser/EditUser';\nimport './AdminPage.scss';\n\n// motion div style\nconst pageVariants={\n    in:{\n        opacity: 1 ,\n        x:0,\n        textAlign: 'center'\n    },\n    out:{\n        opacity: 0,\n        x:\"50%\"\n    }\n}\n\nconst pageTransition={\n    duration:0.5,\n    type:\"spring\",\n    stiffness:50\n}\n\n\n\nexport function _AdminPage(props) {\n\n\n    return (\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{width:\"100%\", height:\"100%\"}}\n            >\n               <EditUser/>\n            </motion.div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n      \n    }\n}\n\nconst mapDispatchToProps = {\n \n}\n\nexport const AdminPage = connect(mapStateProps, mapDispatchToProps)(_AdminPage)\n","import UserService from '../services/UserService';\n\nexport function loadUsers() {\n  return async dispatch => {\n    try {\n      const users = await UserService.getUsers();\n      dispatch(setUsers(users));\n    } catch (err) {\n      console.log('userActions: err in loadUsers', err);\n    };\n  }\n}\n\nexport function setUsers(users) {\n  return {\n    type: 'SET_USERS',\n    users\n  };\n}\n\nexport function updateUsers(users) {\n  return async dispatch => {\n    try {\n      dispatch(_updateUsers(users));\n    } catch (err) {\n      console.log('userActions: err in loadUsers', err);\n    };\n  }\n}\n\nexport function _updateUsers(users) {\n  return {\n    type: 'UPDATE_USERS',\n    users\n  };\n}","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { loadUsers,updateUsers } from '../../actions/userAction.js';\nimport StorageService from \"../../services/StorageService\";\nimport UtilsService from \"../../services/UtilsService\";\nimport UserService from \"../../services/UserService\";\nimport { motion } from 'framer-motion'\nimport './Contacts.scss';\n\n\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function _Contacts(props) {\n    const [searchTerm, setSearchTerm] = React.useState('')\n    const [isUserClicked, setIsUserClicked] = React.useState(false)\n    useEffect(() => {\n        props.loadUsers()\n    }, [props.loadUsers]);\n\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'term':\n                setSearchTerm(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n   function markClickedUser(clickedUser){\n    let users=props.users.slice()\n    if(clickedUser.isMarked){\n        users=users.map(user=>{\n           user.isMarked=false\n           return user\n        })\n    }else{\n        users=users.map(user=>{\n               if( user._id===clickedUser._id){\n               user.isMarked=true\n               return user\n               }else{\n                user.isMarked=false \n                return user\n               }\n            })\n    }\n    props.updateUsers(users)\n    }\n\n    return (\n        <main className=\"contacts-main-container\">\n            <div className=\"search-input-container flex align-center\">\n                <input className=\"search-input\" placeholder=\"חפש לפי שם או טלפון\" name=\"term\" value={searchTerm} onChange={handleChange} />\n                <i className=\"fas fa-search\"></i>\n            </div>\n            <div className=\"users-container-warpper\">\n            <div className=\"users-container\">\n                {\n                    (props.users) &&\n                    props.users.map((user, idx) => {\n                        return (\n                              (user.name.includes(searchTerm)||user.phone.includes(searchTerm))&&\n                              <div className={`user-container ${(user.isMarked)?'user-clicked':''} flex align-center justify-center`} onClick={()=>markClickedUser(user)} key={idx}>\n                                     <div className=\"check-mark-container flex align-center\">\n                                         {\n                                        (user.isMarked)&&<i class=\"fas fa-check\"></i>\n                                         }\n                                        </div>\n                                    <div className=\"user-name user-attr\">{user.name}</div>\n                                    <div className=\"user-phone user-attr\">{user.phone}</div>\n                                </div>\n                        )\n                    })\n                }\n            </div>\n            </div>\n        </main>\n    );\n}\n\n\nfunction mapStateProps(state) {\n    return {\n        users: state.UserReducer.users\n    }\n}\n\nconst mapDispatchToProps = {\n    loadUsers,\n    updateUsers\n}\n\nexport const Contacts = connect(mapStateProps, mapDispatchToProps)(_Contacts)","import React, { useEffect, useState } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { motion } from 'framer-motion'\nimport { Swipeable } from 'react-swipeable'\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport DateFnsUtils from '@date-io/date-fns';\nimport heLocale from \"date-fns/locale/he\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { createMuiTheme, Hidden } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport UtilsService from '../../services/UtilsService';\nimport CalendarService from '../../services/CalendarService';\nimport EventService from '../../services/EventService';\nimport EmailService from '../../services/EmailService';\nimport { TreatmentApp } from '../TreatmentApp/TreatmentApp'\nimport { Contacts } from '../../pages/Contacts/Contacts.jsx'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { DatePicker } from \"@material-ui/pickers\";\nimport './CalendarAdmin.scss';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n// motion div style\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0,\n        textAlign: 'center'\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\n// material ui - date picker style\nconst materialTheme = createMuiTheme({\n    overrides: {\n        MuiPickersToolbar: {\n            toolbar: {\n                backgroundColor: '#e91e63',\n            },\n        },\n\n\n\n        MuiPickersDay: {\n            day: {\n                color: 'black',\n            },\n            daySelected: {\n                backgroundColor: '#e91e63',\n            },\n            dayDisabled: {\n                color: '#e91e63',\n            },\n            current: {\n                color: '#e91e63',\n            },\n        },\n    },\n});\n\n\nexport function _CalendarAdmin(props) {\n    //the date is irrelevant, its only for the formated function the hours wiil be given by the owner.\n    const location = useLocation()\n\n    const constrains = {\n        start: \"2020-10-12T05:00:00Z\",\n        end: \"2020-10-12T16:30:00Z\"\n    }\n    const [selectedDate, handleDateChange] = useState(new Date());\n    const [timeSlots, setWorkingTimeSlots] = useState(getWorkingTimeSlots());\n    const [tableCells, setTableCells] = useState([]);\n    const [month, setMonth] = useState(UtilsService.getMonthByIdx(new Date().getMonth() + 1));\n    const [eventsToDisplay, setEventsToDisplay] = useState(async () => {\n        return await getWeeklyEvents()\n    });\n    const [daysForDisplay, setDaysForDisplay] = useState(() => {\n        return getDailyDates(selectedDate)\n    });\n    const [loader, setLoader] = useState(true);\n\n    let eventsIds = []\n    useEffect(() => {\n        (async () => {\n            console.log(daysForDisplay);\n            let weeklyEvents = await eventsToDisplay\n            if (weeklyEvents) setLoader(false)\n            if (weeklyEvents && timeSlots) {\n                return setTableCells(\n                    timeSlots.map(ts => {\n                        return <tr>\n                            <td className=\"td-hours\">{ts}</td>\n                            {\n                                weeklyEvents.map((dailyEvents, dailyIdx) => {\n                                    let counter = 0\n                                    if (dailyEvents.length) {\n                                        let cellIsRendered = false\n                                        return dailyEvents.map((ev, eventIdx) => {\n                                            let evenOrOdd = (dailyIdx % 2 === 0) ? 'even-event' : 'odd-event'\n                                            if (counter > 2) counter = 0\n                                            const range = UtilsService.checkIfTsInRange(ts, ev.start, ev.end, 30)\n                                            if (range.occupied) {\n                                                cellIsRendered = true\n                                                if (!eventsIds.includes(ev.id)) {\n                                                    eventsIds.push(ev.id)\n                                                    return <td className={`occupied-cell ${evenOrOdd}-${(counter)}`} onClick={() => handleClickOpen(ev.id)} rowspan={range.rowspan} >\n                                                        <div className=\"occupied-cell-content\">\n                                                            <div className=\"event-time\">{(ev.start).slice(11, 16)}-{(ev.end).slice(11, 16)}</div>\n                                                            <div className=\"event-desc\">{ev.name}</div>\n                                                        </div>\n                                                    </td>\n\n                                                } else return ''\n                                            }\n                                            else if ((dailyEvents.length === eventIdx + 1) && (!cellIsRendered)) {\n                                                return <td className=\"available-cell\" onClick={() => setAppointment(ts, dailyEvents)}>{<i class=\"fas fa-plus\"></i>}</td>\n                                            }\n                                            counter++\n                                        })\n                                    } else {\n                                        //all day available no event at this day\n                                        return <td className=\"available-cell\" onClick={() => setAppointment(ts)}>{<i class=\"fas fa-plus\"></i>}</td>\n                                    }\n                                })\n                            }\n                        </tr>\n                    })\n                )\n            }\n        })()\n    }, [eventsToDisplay]);\n\n\n\n    function getDailyDates(date) {\n        const days = UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)\n        return days.map(day => {\n            return day.start.slice(8, 10)\n        })\n    }\n\n    function cancelAppiontment(evId) {\n        setEventsToDisplay(async () => {\n            return await getWeeklyEvents(selectedDate)\n        })\n        CalendarService.removeEventFromCalendar(evId)\n        // delete from mongo data base\n        EventService.removeEventFromDB(evId)\n        // EmailService.sendEmail(eventToRmove.name, eventToRmove.date, eventToRmove.email, false)\n    }\n    function getDatesWeeklyRange(date) {\n        if (date.getDay() !== 6) {\n            const days = UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)\n            const firstDay = UtilsService.convertDateToIsraelisDisplay(days[0].start.slice(0, 10))\n            const lastDay = UtilsService.convertDateToIsraelisDisplay(days[days.length - 1].start.slice(0, 10))\n            return { lastDay, firstDay }\n        } else {\n            return { lastDay: 'יום שבת', firstDay: '' }\n        }\n\n    }\n\n    function getWorkingTimeSlots() {\n        return UtilsService.getDailySlotsForPreview([constrains], 15)\n    }\n\n    async function getWeeklyEvents(date = new Date()) {\n        return await Promise.all((UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)).map(async isosDate => {\n            return await CalendarService.getEventsFromCalendar(isosDate)\n        }))\n    }\n\n    async function handleChange(date) {\n        setDaysForDisplay(getDailyDates(date))\n        setMonth(UtilsService.getMonthByIdx(date.getMonth() + 1))\n        eventsIds = []\n        setLoader(true)\n        const weeklyEvents = await getWeeklyEvents(date)\n        if (weeklyEvents) {\n            setLoader(false)\n        }\n        setEventsToDisplay(weeklyEvents)\n        handleDateChange(date)\n    }\n    function onSwipeDirection(direction) {\n        if (!loader) {\n            //need to change to normal way\n            if ((direction === 'Left') && (selectedDate.getTime()) > (new Date().getTime())) {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() - 7)));\n            }\n            else if (direction === 'Right') {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() + 7)));\n            }\n            // else {\n            //     if ((direction !== 'Up') && (direction !== 'Down')) {\n            //         seTcalendarTitle('לא ניתן לבחור תאריך שעבר')\n            //         setPickerRedTitle('picker-red-title')\n            //         setTimeout(() => {\n            //             seTcalendarTitle('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n            //             setPickerRedTitle('date-picker-title')\n            //         }, 3000);\n            //     }\n            // }\n        }\n    }\n    const [isOpen, setIsOpen] = useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [eventToRmoveId, setEventToRmove] = React.useState('');\n\n    const handleClickOpen = (evId) => {\n        setEventToRmove(evId)\n        setOpen(true);\n    };\n\n    const handleClose = (isApproved) => {\n        setOpen(false);\n        if (isApproved) cancelAppiontment(eventToRmoveId)\n    };\n\n    function setAppointment(ts, date = '') {\n        //if there is daylyEvent then we need to ask if there is daylyEvent.start...>ts then if there are few then we need to find the closest one to ts\n        //then we calculate the diffrance between does tow\n        //and we can get the date from the event\n        if (date) {\n            console.log(ts);\n            console.log(date);\n        } else {\n            //we need to find a way to get the date for this availably td\n            console.log(ts);\n        }\n        setAppointmentsModalIsOpen(true)\n        props.history.push('/calendarAdmin/contacts')\n    }\n\n    // const [btnTxt, setBtnTxt] = React.useState();\n\n    let weeklyRange = getDatesWeeklyRange(selectedDate)\n    const [appointmentsModalIsOpen, setAppointmentsModalIsOpen] = React.useState(false);\n    function closeAppointmentsModal() {\n        setAppointmentsModalIsOpen(false)\n        props.history.push('/calendarAdmin')\n    }\n    return (\n        <motion.div\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n            style={{ width: \"100%\", height: \"100%\" }}\n        >\n            <main className=\"calendar-admin-container\">\n                <div className=\"header-app flex justifiy-center align-center space-between\" >\n                    <div className=\"weekly-dates-container flex space-between align-center\" onClick={() => setIsOpen(true)}>\n                        <i class=\"calendar-icon fas fa-calendar-week\"></i>\n                        <div className=\"weekly-dates-text\">{weeklyRange.firstDay}<br />{weeklyRange.lastDay} </div>\n                    </div>\n                    <div id=\"text2\" onClick={() => props.history.push('/')} >Tori<i className=\"fas fa-tasks\"></i></div>\n                </div>\n                <Swipeable onSwiped={(eventData) => onSwipeDirection(eventData.dir)} >\n                    <header className=\"days-header-container flex space-between\">\n                        <div className=\"dayes-name-container\" >\n                            <div className=\"month-name\">{month}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">ראשון</div>\n                            <div className=\"daily-num\"> {daysForDisplay[0]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שני</div>\n                            <div className=\"daily-num\"> {daysForDisplay[1]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שלישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[2]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">רביעי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[3]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">חמישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[4]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[5]}</div>\n                        </div>\n                    </header>\n                    <div>\n                        {\n                            !loader ?\n                                <div class=\"table-container\">\n                                    <table>\n                                        <tbody>\n                                            {\n                                                (tableCells.length) &&\n                                                tableCells\n                                            }\n                                        </tbody>\n                                    </table>\n                                    <footer className=\"calendar-footer flex align-center justify-center\">\n                                        <div className=\"footer-hours\">20:00</div>\n                                    </footer>\n                                </div>\n                                :\n                                <div className=\"loader-container flex justify-center align-center space-around\">\n                                    <LoaderApp />\n                                </div>\n                        }\n                    </div>\n                </Swipeable>\n                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={heLocale} >\n                    <ThemeProvider theme={materialTheme}>\n                        <DatePicker\n                            // disablePast={true}\n                            variant=\"dialog\"\n                            okLabel=\"אישור\"\n                            cancelLabel=\"ביטול\"\n                            open={isOpen}\n                            onOpen={() => setIsOpen(true)}\n                            onClose={() => setIsOpen(false)}\n                            format=\"MM/dd/yyyy\"\n                            id=\"date-picker-inline\"\n                            disableToolbar\n                            value={selectedDate}\n                            onChange={handleChange}\n                            InputProps={{\n                                disableUnderline: true,\n                                style: { width: '0' }\n                            }}\n                            KeyboardButtonProps={{\n                                'aria-label': 'change date',\n                            }}\n                        />\n                    </ThemeProvider>\n                </MuiPickersUtilsProvider>\n                <div>\n                    <Dialog\n                        open={open}\n                        TransitionComponent={Transition}\n                        keepMounted\n                        onClose={handleClose}\n                        aria-labelledby=\"alert-dialog-slide-title\"\n                        aria-describedby=\"alert-dialog-slide-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-slide-title\">מחיקת תור</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-slide-description\">\n                                האם את/ה בטוח/ה שברצונך למחוק תור זה?\n                      </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => handleClose(false)} color=\"primary\">\n                                ביטול\n               </Button>\n                            <Button onClick={() => handleClose(true)} color=\"primary\">\n                                אישור\n               </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n                {appointmentsModalIsOpen &&\n                    <>\n                        <div className=\"modal-screen\" onClick={closeAppointmentsModal}>\n                        </div>\n                        {/* <div className=\"modal-wrpper\"> */}\n                        <div className=\"apointments-modal\">\n                            <Router>\n                                <Route path=\"/calendarAdmin/contacts\" component={Contacts} />\n                                <Route path=\"/calendarAdmin/treatments\" component={TreatmentApp} />\n                            </Router>\n                            <button className=\"calendar-admin-modal-btn\">\n                              {\n                             (location.pathname === '/calendarAdmin/contacts')?\n                             'בחר לקוח ולחץ כאן להמשך'\n                             :\n                             'בחר טיפולים ולחץ כאן לאישור'\n                              }\n                            </button>\n                        </div>\n                        {/* </div> */}\n                    </>\n                }\n            </main>\n        </motion.div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const CalendarAdmin = connect(mapStateProps, mapDispatchToProps)(_CalendarAdmin)\n","import React from 'react';\nimport './App.scss';\nimport { Switch, Route } from 'react-router-dom';\nimport { AppHeader } from './cmps/AppHeader/AppHeader';\nimport { TreatmentApp } from './pages/TreatmentApp/TreatmentApp.jsx'\nimport { CalendarApp } from './pages/CalendarApp/CalendarApp.jsx'\nimport { SubmitForm } from './pages/SubmitForm/SubmitForm.jsx'\nimport { CancelAppointment } from './pages/CancelAppointment/CancelAppointment.jsx'\nimport { SignupOrLogin } from './pages/SignupOrLogin/SignupOrLogin.jsx'\nimport { Login } from './pages/Login/Login.jsx'\nimport { Signup } from './pages/Signup/Signup.jsx'\nimport { HomePage } from './pages/HomePage/HomePage.jsx'\nimport { UserPage } from './pages/UserPage/UserPage.jsx'\nimport { AdminPage } from './pages/AdminPage/AdminPage.jsx'\nimport { Contacts } from './pages/Contacts/Contacts.jsx'\nimport { CalendarAdmin } from './pages/CalendarAdmin/CalendarAdmin.jsx'\nimport { HashRouter as Router} from 'react-router-dom';\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <AppHeader/>\n          <Switch >\n            <Route path=\"/calendar\" component={CalendarApp} />\n            <Route path=\"/cancelAppointment\" component={CancelAppointment} />\n            <Route path=\"/form\" component={SubmitForm} />\n            <Route path=\"/treatments\" component={TreatmentApp} />\n            <Route path=\"/signupOrLogin\" component={SignupOrLogin} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/userpage\" component={UserPage} />\n            <Route path=\"/adminpage\" component={AdminPage} />\n            <Route path=\"/calendarAdmin\" component={CalendarAdmin} />\n            <Route path=\"/contacts\" component={Contacts} />\n            <Route path=\"/\" component={HomePage} />\n          </Switch>\n      </div>\n      </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/style.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}