{"version":3,"sources":["styles/img/oo.png","cmps/TabsApp/TabsApp.jsx","cmps/StepperApp/StepperApp.jsx","cmps/AppHeader/AppHeader.jsx","history.js","services/HttpService.js","services/UtilsService.js","services/TreatmentService.js","actions/treatmentActions.js","services/StorageService.js","services/UserService.js","actions/userAction.js","cmps/SwitchApp/SwitchApp.jsx","cmps/TreatmentPreview/TreatmentPreview.jsx","cmps/TreatmentList/TreatmentList.jsx","cmps/TreatmentTitle/TreatmentTitle.jsx","actions/stepperActions.js","cmps/NavBtns/NavBtns.jsx","cmps/LoaderApp/LoaderApp.jsx","pages/TreatmentApp/TreatmentApp.jsx","cmps/DailySlots/DailySlots.jsx","cmps/TimeslotList/TimeslotList.jsx","services/EventService.js","services/EmailService.js","services/CalendarService.js","actions/calendarActions.js","pages/CalendarApp/CalendarApp.jsx","reducers/TreatmentReducer.js","reducers/StepperReducer.js","reducers/CalendarReducer.js","reducers/UserReducer.js","store.js","services/StoreService.js","pages/SubmitForm/SubmitForm.jsx","pages/CancelAppointment/CancelAppointment.jsx","pages/SignupOrLogin/SignupOrLogin.jsx","pages/Login/Login.jsx","pages/Signup/Signup.jsx","services/AdvertiseService.js","pages/HomePage/HomePage.jsx","pages/EditUser/EditUser.jsx","pages/Advertise/Advertise.jsx","pages/AdminContacts/AdminContacts.jsx","pages/Contacts/Contacts.jsx","pages/AppointmentOrBlock/AppointmentOrBlock.jsx","pages/BlockHours/BlockHours.jsx","pages/BlockConfermation/BlockConfermation.jsx","cmps/ModalButton/ModalButton.jsx","pages/CalendarAdmin/CalendarAdmin.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","TabsApp","withRouter","props","React","useState","value","setValue","location","useLocation","useEffect","pathname","style","width","boxShadow","color","AppBar","position","Tabs","onChange","event","newValue","history","push","className","Tab","label","onClick","id","theme","createMuiTheme","palette","primary","main","useStyles","makeStyles","root","StepperApp","connect","state","steps","StepperReducer","activeStep","step","classes","Stepper","map","index","labelProps","Step","key","StepLabel","AppHeader","headerConstrains","setHeaderConstrains","initWithFalse","isHeader","noHeaderMargin","isStepper","isTabs","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","englishToHebrew","word","convertedWord","getIsosDate","getTimeSlotsForPreview","getDailySlotsForPreview","changeTimeForDisplay","idGen","Math","random","toString","substr","calculateEndTime","time","duration","hours","slice","minutes","floor","checkDigitsAndAddZerosIfNeeded","arrayToString","pickedTreatments","treatmentsType","forEach","tr","idx","length","name","convertDateToIsraelisDisplay","getDayByHebrewWord","getEventReadyForDisplay","filteredEvents","_id","treatments","startTime","gUtcDiff","endTime","date","email","convertNumberToWords","validateEmail","test","String","toLowerCase","getWeekIsosDatesForCalendar","dayByNum","weeklyDates","getDay","Date","getTime","i","isosDate","start","end","checkIfTsInRange","tsToCompare","tsToCompareWithAddedHours","timeRangeBySlots","occupied","includes","rowspan","getMonthByIdx","daysAfterOrBefore","dateCopy","setDate","getDate","toISOString","slotsRanges","timeslotsByConstraints","sr","concat","apply","timeslot","slotsToRender","year","month","day","min","nextTimeSlot","getHours","getMinutes","slotToRender","diff","digit","dateParts","split","getTreatments","HttpService","getById","treatmentId","remove","update","treatment","updateTreatments","updatedTreatment","findIndex","getMarkedTreatmentsStr","filter","marked","UtilsService","setTreatments","type","setTreatment","dispatch","_setTreatment","_updateTreatmentsCount","count","_updateTreatments","_updateDuration","_updateAvailbleDuration","availableDuration","saveToStorage","str","JSON","stringify","localStorage","setItem","loadFromStorage","getItem","parse","removeFromStorage","removeItem","getUsers","getUser","addUser","removeUser","updateUser","user","oldPhone","StorageService","phone","unshiftCellByPhoneNumber","users","splicedCell","splice","isMarked","copySplicedCell","unshift","isAdmin","_sortUsers","sort","b","localeCompare","isCreateadByAdmin","userFromStorage","phoneToSearch","userFromMongo","loadUsers","UserService","setUsers","updateUsers","_updateUsers","err","updateUserToSchedule","userToSchedule","_updateUserToSchedule","updateUserPhoneInContactSignup","userPhoneInContactSignup","_updateUserPhoneInContactSignup","direction","jss","plugins","jssPreset","rtl","SwitchApp","checked","setChecked","StylesProvider","ThemeProvider","Switch","updateDuration","updatePickedTreatments","target","inputProps","_TreatmentPreview","treatmentsToUpdate","setState","updateTreatmentsCount","TreatmentService","this","price","UtilService","Component","mapDispatchToProps","TreatmentPreview","TreatmentReducer","TreatmentList","getTreatmentsToUpdate","TreatmentTitle","pickedTreatmentsCount","isCalendarAdmin","isDurationValid","isClicked","updateActiveStep","_updateActiveStep","NavBtns","activeBtn","setActiveBtn","isNextBtnDisable","changeStep","setAppointment","handleOpen","updateTitleProp","disabled","LoaderApp","height","timeout","pageVariants","in","opacity","x","out","pageTransition","stiffness","loadTreatments","setUserToSchedule","_setUserToSchedule","TreatmentApp","UserReducer","setIsClicked","div","initial","exit","animate","variants","transition","DailySlots","timeSlots","ts","onAppointmentChoice","TimeslotList","Object","keys","isDateFullyBooked","slotsForPreview","saveConfirmedEvent","getMongoEventByEventCalendarId","evId","getEventByPhone","removeEventFromDB","sendEmail","isConfirmation","businessName","bodyText","emailObj","getCalendar","getAvailbleDailySlots","addEventToCalendar","removeEventFromCalendar","getEventsFromCalendar","buildWeeklyModel","weeklyEvents","tableCellsModel","tsIdx","dailyEvents","dailyIdx","isCellInUsed","ev","eventIdx","getAvailbleDuration","table","cellPos","slotSize","durationAvalability","getHoursToBlock","isDayFullyAvailable","hoursToBlock","timeSlot","availableSlots","pop","blockSlotRange","timeRange","eventName","creatorName","creatorEmail","eventId","endtTime","dailySlots","confirmedEvent","EventService","EmailService","slotToBlock","time1","time2","setTimeSlots","updateHoursToBlock","slotsRangeToBlock","_updateHoursToBlock","textAlign","materialTheme","overrides","MuiPickersToolbar","toolbar","backgroundColor","MuiPickersDay","daySelected","dayDisabled","current","loadTimeSlots","pickedDate","firstDay","secondDay","thirdDay","CalendarService","firstDaySlots","secondDaySlots","thirdDaySlots","CalendarApp","CalendarReducer","selectedDate","handleDateChange","loader","setLoader","calendarTitle","seTcalendarTitle","pickerRedTitle","setPickerRedTitle","handleChange","utils","DateFnsUtils","locale","heLocale","disableToolbar","disablePast","shouldDisableDate","variant","okLabel","cancelLabel","format","margin","keyboardbuttonprops","onSwiped","eventData","setTimeout","onSwipeDirection","INITIAL_STATE","calendar","confirmedEventId","isAdShown","rootReducer","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","initApp","modal","display","alignItems","justifyContent","paper","background","border","shadows","padding","spacing","input","SubmitForm","open","setOpen","markedTreatmetns","setMarkedTreatmetns","dateIsraeliDisplay","init","StoreService","isCalendarAdminForm","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","CancelAppointment","getEventsByPhone","userPhone","eventsToCancel","setEventsToCancel","pageCount","setPageCount","then","events","now","eventToRmove","find","cancelAppointment","SignupOrLogin","to","Login","setPhone","password","setPassword","togglePhoneValidation","setTogglePhoneValidation","phoneIsValid","setPhoneIsValid","field","handleClickOpen","handleModalClickOpen","dialogTitle","setDialogTitle","handleClose","close","openModal","setOpenModal","handleModalClose","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","fullWidth","DialogActions","Button","Transition","forwardRef","ref","Slide","Signup","credentials","setCredentials","toggleNameValidation","setToggleNameValidation","toggleEmailValidation","setToggleEmailValidation","isValid","setIsValid","transferToContact","emailIsValid","checkValidation","isContactsPath","class","TransitionComponent","keepMounted","getAd","updateAd","content","toggleAdMode","isAdMoneOn","createAd","updateIsAdShown","_updateIsAdShown","HomePage","isAdModalOpen","setIsAdModalOpen","closeAdModal","setModalInClass","changeRoute","route","setIsAdmin","advertise","setAdvertise","modalInClass","AdvertiseService","ad","isAdModeOn","src","require","href","EditUser","setOldPhone","isNameEditing","setIsNameEditing","isNameDisabled","setIsNameDisabled","nameBorderBottom","setNameBorderBottom","nameFocus","useRef","setIsPhoneEditing","setIsPhoneDisabled","setPhoneBorderBottom","setIsEmailEditing","setIsEmailDisabled","setEmailBorderBottom","focus","isPhoneEditing","isPhoneDisabled","phoneBorderBottom","phoneFocus","isEmailEditing","isEmailDisabled","emailBorderBottom","emailFocus","toggleEditing","Advertise","advertiseContent","setAdvertiseContent","setIsAdModeOn","cols","rows","AdminContacts","searchTerm","setSearchTerm","setUserPhone","appointmentsModalIsOpen","setAppointmentsModalIsOpen","placeholder","saveClickedUserPhone","Contacts","clickedUser","markClickedUser","AppointmentOrBlock","updateSlotToBlock","_updateSlotToBlock","BlockHours","clickedSlotRange","slotsRange","slotRange","BlockConfermation","ModalButton","handleModalRoute","checkBtnValidation","updateAvailbleDuration","updateIsDayFullyAvailable","_updateIsDayFullyAvailable","CalendarAdmin","constrains","setWeeklyDates","tableCells","setTableCells","getMonth","setMonth","getWeeklyEvents","eventsToDisplay","setEventsToDisplay","getDailyDates","daysForDisplay","setDaysForDisplay","eventsIds","days","Promise","all","counter","cellIsRendered","evenOrOdd","range","rowSpan","openAppointmentsModal","checkIfClicked","isOpen","setIsOpen","eventToRmoveId","setEventToRmove","modalSubJect","setModalSubJect","mongoEvent","mongo","isApproved","weeklyRange","lastDay","getDatesWeeklyRange","dateToScheduale","closeAppointmentsModal","DatePicker","onOpen","InputProps","disableUnderline","path","exact","component","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"yjBAAAA,EAAOC,QAAU,IAA0B,gC,oVCwCpC,IAAMC,EAAUC,aAjChB,SAAkBC,GAAQ,IAAD,EACJC,IAAMC,SAAS,GADX,mBACvBC,EADuB,KAChBC,EADgB,KAExBC,EAAWC,cACjBC,qBAAU,WAA8B,uBAAtBF,EAASG,SAAoCJ,EAAS,GAAIA,EAAS,KAAI,CAACD,EAAME,IAGhG,IAAMI,EAAQ,CACZC,MAAM,MACNC,UAAU,OACVC,MAAM,SAYR,OAEE,kBAACC,EAAA,EAAD,CAAQC,SAAS,SAASL,MAAO,CAACE,UAAU,SAC1C,kBAACI,EAAA,EAAD,CAAMZ,MAAOA,EAAOa,SAZH,SAACC,EAAOC,GAC3Bd,EAASc,GACQ,IAAbA,EACFlB,EAAMmB,QAAQC,KAAK,sBAEnBpB,EAAMmB,QAAQC,KAAK,gBAOyBC,UAAU,2BACpD,kBAACC,EAAA,EAAD,CAAKC,MAAM,iCAAQd,MAAOA,IAC1B,kBAACa,EAAA,EAAD,CAAKC,MAAM,gEAAcd,MAAOA,IAChC,wBAAIe,QAAS,kBAAIxB,EAAMmB,QAAQC,KAAK,MAAMK,GAAG,OAAOJ,UAAU,QAA9D,QAA0E,uBAAIA,UAAU,uB,8DCzB1FK,G,OAAQC,YAAe,CAE3BC,QAAS,CACPC,QAAS,CACPC,KAAM,eAKNC,EAAYC,aAAW,SAACN,GAAD,MAAY,CACvCO,KAAM,CACJvB,MAAO,YAuCX,IAIawB,EAAaC,aAX1B,SAAuBC,GACrB,MAAO,CACLC,MAAOD,EAAME,eAAeD,MAC5BE,WAAWH,EAAME,eAAeE,QAIT,GAIDL,EAtCnB,SAAqBnC,GAE1B,IAAMyC,EAAUV,IAIhB,OACE,yBAAKV,UAAWoB,EAAQR,MAE1B,kBAAC,IAAD,CAAkBP,MAAOA,GACrB,kBAACgB,EAAA,EAAD,CAASH,WAAYvC,EAAMuC,YACxBvC,EAAMqC,MAAMM,KAAI,SAACpB,EAAOqB,GACvB,IACMC,EAAa,GACnB,OACE,kBAACC,EAAA,EAAD,eAAOC,IAAKxB,GAHI,IAId,kBAACyB,EAAA,EAAeH,EAAatB,EAA7B,gB,OC2CP,IAAM0B,EAAYlD,aA7EzB,SAAoBC,GAEhB,IAAMK,EAAWC,cAFM,EAIyBJ,oBAAS,GAJlC,mBAIhBgD,EAJgB,KAIEC,EAJF,KA8CvB,OAxCA5C,qBAAU,WACN,IAAI6C,EAAgB,CAACC,UAAS,EAAOC,gBAAe,EAAQC,WAAU,EAAOC,QAAO,GACpF,OAAQnD,EAASG,UACb,IAAK,IAGL,IAAK,kBACD2C,GAAoB,GACpB,MACJ,IAAK,aAGL,IAAK,iBACDA,EAAoB,2BAAIC,GAAL,IAAoBC,UAAS,EAAMC,gBAAe,KACrE,MACJ,IAAK,UACDH,EAAoB,2BAAIC,GAAL,IAAoBC,UAAS,KAChD,MACJ,IAAK,SACDF,EAAoB,2BAAIC,GAAL,IAAoBC,UAAS,KACpD,IAAK,cACDF,EAAoB,2BAAIC,GAAL,IAAoBG,WAAU,EAAMC,QAAO,KAC9D,MACJ,IAAK,YAGL,IAAK,QACDL,EAAoB,2BAAIC,GAAL,IAAoBC,UAAS,EAAME,WAAU,KAChE,MACJ,IAAK,qBACAJ,EAAoB,2BAAIC,GAAL,IAAoBI,QAAO,KAC/C,MACJ,IAAK,YACDL,EAAoB,2BAAIC,GAAL,IAAoBC,UAAS,KAChD,MACJ,QACIF,GAAoB,MAE7B,CAAC9C,EAASG,WAGT,oCAES0C,GACG,yBAAK7B,UAAS,UAAM6B,EAAiBI,eAAiB,uBAAuB,eAElEJ,EAAiBG,SAChB,4BAAQhC,UAAU,kCAChB,wBAAIG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,MAAMK,GAAG,OAAOJ,UAAU,QAAhE,QAA4E,uBAAGA,UAAU,mBAG3F,GAGA6B,EAAiBM,OACjB,kBAAC,EAAD,MAEA,GAGAN,EAAiBK,UACjB,kBAAC,EAAD,MAEA,Q,gCCzEjBpC,EAFCsC,c,SCOZC,E,OAAQC,EAAMC,OAAO,CACrBC,iBAAiB,IAIN,WACPC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IAFtB,WAIND,EAAUC,GACX,OAAOC,EAAKF,EAAU,OAAQC,IALvB,WAOPD,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IARtB,WAUJD,EAAUC,GACb,OAAOC,EAAKF,EAAU,SAAUC,I,SAKzBC,E,8EAAf,WAAoBF,GAApB,+BAAAG,EAAA,6DAA8BC,EAA9B,+BAAqC,MAAOH,EAA5C,+BAAiD,KAAjD,kBAE0BL,EAAM,CACpBS,IAAI,GAAD,OA5BT,SA4BS,OAAgBL,GACnBI,SAEAH,SANZ,cAEcK,EAFd,yBAQeA,EAAIL,MARnB,sCAUQM,QAAQC,IAAR,qBAA0BJ,EAA1B,yCAAiEJ,EAAjE,wBAAyFC,IACzFM,QAAQE,IAAR,MACI,KAAIC,UAAoC,MAAxB,KAAIA,SAASC,QAC/BtD,EAAQC,KAAK,UAbvB,+D,sBC3Be,OACbsD,gBAuBF,SAAyBC,GACvB,IAAIC,EACJ,OAAQD,GACN,IAAM,UACJC,EAAgB,qBAChB,MACF,IAAM,QACJA,EAAgB,iCAChB,MACF,IAAM,UACJA,EAAgB,iCAChB,MACF,IAAM,mBACJA,EAAgB,sEAChB,MACF,IAAM,MACJA,EAAgB,kCAChB,MACF,IAAM,mBACJA,EAAgB,uCAChB,MACF,IAAM,uBACJA,EAAgB,mHAChB,MACF,IAAM,gBACJA,EAAgB,0DAChB,MACF,IAAM,oBACJA,EAAgB,0FAChB,MACF,IAAM,oBACJA,EAAgB,oDAChB,MACF,QACEA,EAAgB,0DAGpB,MAAO,IAAMA,GA3DbC,cACAC,yBACAC,0BACAC,uBACAC,MA2LF,WACE,MAAO,IAAMC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,IA3LlDC,iBA6JF,SAA0BC,EAAMC,GAC9B,IAAIC,GAASF,EAAKG,MAAM,EAAG,GACvBC,GAAWJ,EAAKG,MAAM,EAAG,GAEzBF,EAAW,KAAO,GACJ,KAAZG,GACFF,GAASP,KAAKU,MAAMJ,EAAW,IAAM,EACrCG,EAAU,OAGVF,GAASP,KAAKU,MAAMJ,EAAW,IAC/BG,EAAU,OAIZF,GAAUD,EAAW,GACrBG,EAAU,MAIZ,OADAF,EAAQI,EAA+BJ,IACxB,IAAME,GAhLrBG,cA8LF,SAAuBC,GACrB,IAAIC,EAAiB,GAKrB,OAJAD,EAAiBE,SAAQ,SAACC,EAAIC,GACxBJ,EAAiBK,SAAWD,EAAM,EAAGH,GAAkBE,EAAGG,KAAO,KAChEL,GAAkBE,EAAGG,QAErBL,GAnMPM,+BACAC,mBAyMF,SAA4BJ,GAE1B,MADa,CAAC,iCAAS,qBAAO,iCAAS,iCAAS,iCAAS,2BAAQ,sBACrDA,IA1MZK,wBA8MF,SAAiCC,GAC/B,OAAOA,EAAe9D,KAAI,SAAA1B,GACxB,MAAO,CACLQ,GAAIR,EAAMyF,IACVC,WAAY1F,EAAM0F,WAClBC,UAAW5B,EAAqB/D,EAAM2F,WAAWC,GACjDC,QAAS9B,EAAqB/D,EAAM6F,SAASD,GAC7CE,KAAMT,EAA6BrF,EAAM8F,MACzCC,MAAO/F,EAAM+F,MACbX,KAAMpF,EAAMoF,UAtNhBY,qBA4OF,SAA8Bd,GAE5B,MADc,CAAC,qBAAO,qBAAO,iCAAS,iCAAS,2BAAQ,qBAAO,2BAAQ,iCAAS,2BAAQ,2BAAQ,yCAClFA,EAAM,IA7OnBe,cAqPF,SAAuBF,GAErB,MADW,0JACDG,KAAKC,OAAOJ,GAAOK,gBAtP7BC,4BA4DF,SAAqCC,EAAUR,GAC7C,IAAIS,EAAa,GACG,IAAhBT,EAAKU,WACPV,EAAO,IAAIW,KAAKX,EAAKY,UAAa,OAClCJ,EAAW,EACXlD,QAAQC,IAAIyC,IAEd,OAAQQ,GACN,KAAK,EACH,IAAK,IAAIK,EAAI,EAAGA,EAAI,EAAGA,IACrBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,KAAK,EACH,IAASa,GAAK,EAAGA,EAAI,EAAGA,IACtBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,KAAK,EACH,IAASa,GAAK,EAAGA,EAAI,EAAGA,IACtBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,KAAK,EACH,IAASa,GAAK,EAAGA,EAAI,EAAGA,IACtBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,KAAK,EACH,IAASa,GAAK,EAAGA,EAAI,EAAGA,IACtBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,KAAK,EACH,IAASa,GAAK,EAAGA,EAAI,EAAGA,IACtBJ,EAAYpG,KAAKyD,EAAY+C,EAAGb,IAElC,MACF,QACE1C,QAAQC,IAAI,+BAEhB,OAAOkD,EAAY7E,KAAI,SAAAkF,GACrB,MAAO,CAAEC,MAAM,GAAD,OAAKD,EAAL,cAA2BE,IAAI,GAAD,OAAKF,EAAL,mBArG9CG,iBAwNF,SAA0BC,EAAarB,EAAWE,EAAStB,GAGzD,IAAM0C,EAA4BlD,EAAqBiD,GAAapB,GAC9DsB,EAAmBpD,EAAwB,CAAC,CAAE+C,MAAOlB,EAAWmB,IAAKjB,IAAYtB,GACvF,OAAI2C,EAAiB/B,OACZ,CAAEgC,SAAUD,EAAiBE,SAASH,GAA4BI,QAASH,EAAiB/B,QAG/FQ,EAAUlB,MAAM,GAAI,MAAQuC,EACvB,CAAEG,UAAU,EAAME,QAAS,GAE3B,CAAEF,UAAU,EAAOE,QAAS,IAnOvCC,cA6OF,SAAuBpC,GAErB,MADe,CAAC,iCAAS,uCAAU,qBAAO,iCAAS,qBAAO,2BAAQ,2BAAQ,uCAAU,uCAAU,6CAAW,uCAAU,kCACrGA,EAAM,KA/LtB,SAAStB,EAAY2D,GAAuC,IAApBzB,EAAmB,uDAAZ,IAAIW,KAC7Ce,EAAW,IAAIf,KAAKX,EAAKY,WAE7B,OADAc,EAASC,QAAQD,EAASE,UAAYH,GACZ,IAAtBC,EAAShB,SACJ,GAETgB,EAAWA,EAASG,cAAclD,MAAM,EAAG,IAkD7C,SAASX,EAAwB8D,EAAarD,GAC5C,IAAMsD,EAAyBD,EAAYlG,KAAI,SAAAoG,GAAE,OAAIjE,EAAuBiE,EAAIvD,MAEhF,MADgC,GAAGwD,OAAOC,MAAM,GAAIH,GAItD,SAAShE,EAAuBoE,EAAU1D,GACxC,IAAI2D,EAAgB,GAChBC,EAAOF,EAASpB,MAAMpC,MAAM,EAAG,GAC/B2D,EAAQH,EAASpB,MAAMpC,MAAM,EAAG,GAChC4D,EAAMJ,EAASpB,MAAMpC,MAAM,EAAG,IAC9BD,GAASyD,EAASpB,MAAMpC,MAAM,GAAI,IAClC6D,EAAML,EAASpB,MAAMpC,MAAM,GAAI,IAC7BkB,EAAY,IAAIc,KAAK0B,EAAMC,EAAQ,EAAGC,EAAK7D,EAlHpC,EAkHuD8D,EAAK,EAAG,GAC5EH,EAAOF,EAASnB,IAAIrC,MAAM,EAAG,GAC7B2D,EAAQH,EAASnB,IAAIrC,MAAM,EAAG,GAC9B4D,EAAMJ,EAASnB,IAAIrC,MAAM,EAAG,IAC5BD,GAASyD,EAASnB,IAAIrC,MAAM,GAAI,IAChC6D,EAAML,EAASnB,IAAIrC,MAAM,GAAI,IAC7B,IAAMoB,EAAU,IAAIY,KAAK0B,EAAMC,EAAQ,EAAGC,EAAK7D,EAxHlC,EAwHoD8D,EAAK,EAAG,GACrEC,EAAe5C,EACnBnB,EAAQ+D,EAAaC,WACrBF,EAAMC,EAAaE,aACnB,IAAIC,EAAe9D,EAA+BJ,GAAS,IAAMI,EAA+B0D,GAEhG,IADKC,EAAa7B,UAAwB,GAAXnC,EAAgB,KAAUsB,EAAQa,WAAawB,EAAc/H,KAAKuI,GACzFH,EAAa7B,UAAwB,GAAXnC,EAAgB,IAASsB,EAAQa,WAEjElC,GADA+D,EAAe,IAAI9B,KAAK8B,EAAa7B,UAAc,OAC9B8B,WACrBF,EAAMC,EAAaE,aACnBC,EAAe9D,EAA+BJ,GAAS,IAAMI,EAA+B0D,GAC5FJ,EAAc/H,KAAKuI,GAErB,OAAOR,EAIT,SAASnE,EAAqBO,EAAMqE,GAClC,IAAInE,GAASF,EAAKG,MAAM,EAAG,GAAKkE,EAC5BjE,EAAUJ,EAAKG,MAAM,EAAG,GAE5B,OADAD,EAAQI,EAA+BJ,IACxB,IAAOE,EA2BxB,SAASE,EAA+BgE,GAEtC,OADAA,EAASA,EAAQ,GAAM,IAAMA,EAAQA,EAmBvC,SAASvD,EAA6BS,GACpC,IAAM+C,EAAa/C,EAAMgD,MAAM,KAC/B,MAAM,GAAN,OAAUD,EAAU,GAApB,YAA0BA,EAAU,GAApC,YAA0CA,EAAU,IChNvC,OACXE,cAqBJ,WACI,OAAOC,EAAgB,cArBvBC,QAwBJ,SAAiBC,GACb,OAAOF,EAAA,oBAA6BE,KAxBpCC,OA0BJ,SAAgBD,GACZ,OAAOF,EAAA,oBAAgCE,KA1BvCE,OA6BJ,SAAgBC,GACZ,OAAOL,EAAA,oBAA6BK,EAAU5D,KAAO4D,IA7BrDC,iBAKJ,SAA0B5D,EAAY6D,GAClC,IAAMrE,EAAMQ,EAAW8D,WAAU,SAAAvE,GAAE,OAAIA,EAAGQ,MAAQ8D,EAAiB9D,OAEvE,OADIC,EAAWR,GAAOqE,EACf7D,GAPH+D,uBAUJ,SAAgC/D,GAE5B,OADAA,EAAcA,EAAWgE,QAAO,SAAAzE,GAAE,OAAIA,EAAG0E,UAClCC,EAAa/E,cAAca,KCL/B,SAASmE,EAAcnE,GAC5B,MAAO,CACLoE,KAAM,iBACNpE,cAIG,SAASqE,EAAaV,GAC3B,8CAAO,WAAMW,GAAN,SAAAhH,EAAA,+EAGHgH,EAAUC,EAAcZ,IAHrB,sDAKHjG,QAAQC,IAAI,wCAAZ,MALG,wDAAP,sDAUK,SAAS4G,EAAcZ,GAC5B,MAAO,CACLS,KAAM,gBACNT,aAiBG,SAASa,EAAuBC,GACrC,MAAO,CACLL,KAAM,iCACNK,SAoCG,SAASC,EAAkB1E,GAChC,MAAO,CACLoE,KAAM,oBACNpE,cAiBG,SAAS2E,EAAgB9F,GAC5B,MAAO,CACLuF,KAAM,kBACNvF,YAiCN,SAAS+F,EAAwBC,GAC/B,MAAO,CACLT,KAAM,2BACNS,qBCxJW,OACXC,cAKJ,SAAuB1I,EAAK5C,GACxB,IAAIuL,EAAMC,KAAKC,UAAUzL,GACzB0L,aAAaC,QAAQ/I,EAAK2I,IAN1BK,gBAYJ,SAAyBhJ,GACrB,IAAI2I,EAAMG,aAAaG,QAAQjJ,GAC/B,OAAO4I,KAAKM,MAAMP,IAblBQ,kBAOJ,SAA2BnJ,GACvB8I,aAAaM,WAAWpJ,KCRb,QACXqJ,S,4CACAC,WACAC,Q,+CACAC,W,6CACAC,WAkBJ,SAAoBC,GAGhB,OAFAA,EAAKC,SAAWC,EAAeZ,gBAAgB,aAAaa,MAC5DD,EAAelB,cAAc,YAAagB,GACnCxC,EAAA,QAAyBwC,IApBhCI,yBAsCJ,SAAkCC,EAAOF,GACrCvI,QAAQC,IAAI,QACZ,IAAM6B,EAAM2G,EAAMrC,WAAU,SAAAgC,GAAI,OAAIA,EAAKG,QAAUA,KAC/CG,EAAcD,EAAME,OAAO7G,EAAK,GAAG,GACvC9B,QAAQC,IAAIyI,GACZA,EAAYE,UAAW,EACvB,IAAIC,EAAe,eAAQH,GAE3B,OADAD,EAAMK,QAAQD,GACPJ,GA7CPM,Q,8CAGJ,SAASC,GAAWP,GAChB,OAAOA,EAAMQ,MAAK,SAACrJ,EAAGsJ,GAAJ,OAAUtJ,EAAEoC,KAAKmH,cAAcD,EAAElH,S,8CAGvD,4BAAApC,EAAA,sEACwBgG,EAAgB,QADxC,cACU6C,EADV,yBAEWO,GAAWP,IAFtB,4C,sBAKA,SAAST,GAAQO,GACb,OAAO3C,EAAA,eAAwB2C,I,8CASnC,WAAuBH,EAAMgB,GAA7B,SAAAxJ,EAAA,6DACIwI,EAAKQ,UAAW,EACXQ,GAAmBd,EAAelB,cAAc,YAAagB,GAE/C,cAAfA,EAAKG,MAAuBH,EAAKW,SAAU,EAC1CX,EAAKW,SAAU,EALxB,SAMiBnD,EAAiB,OAAQwC,GAN1C,oF,oEASA,WAA0B/F,GAA1B,SAAAzC,EAAA,6DACI0I,EAAelB,cAAc,YAAa,IAD9C,kBAEWxB,EAAA,eAA2BvD,KAFtC,4C,oEAiBA,WAAuBgH,GAAvB,6BAAAzJ,EAAA,2DAAuC0J,EAAvC,+BAAqD,IAArD,gCAE8CtB,GAAQsB,GAFtD,OAEwBC,EAFxB,8CAGgCvB,GAAQqB,EAAgBd,OAHxD,OAGUgB,EAHV,sBAIIvJ,QAAQC,IAAIsJ,GAJhB,kBAKWA,EAAcR,SALzB,6C,sBCvDO,SAASS,KACd,8CAAO,WAAM5C,GAAN,eAAAhH,EAAA,+EAEiB6J,GAAY1B,WAF7B,OAEGU,EAFH,OAGH7B,EAAS8C,GAASjB,IAHf,gDAKHzI,QAAQC,IAAI,gCAAZ,MALG,iEAAP,sDAUK,SAASyJ,GAASjB,GACvB,MAAO,CACL/B,KAAM,YACN+B,SAIG,SAASkB,GAAYlB,GAC1B,8CAAO,WAAM7B,GAAN,SAAAhH,EAAA,sDACL,IACEgH,EAASgD,GAAanB,IACtB,MAAOoB,GACP7J,QAAQC,IAAI,gCAAiC4J,GAJ1C,2CAAP,sDASK,SAASD,GAAanB,GAC3B,MAAO,CACL/B,KAAM,eACN+B,SAqBG,SAASqB,GAAqBC,GACnC,OAAO,SAAAnD,GACLA,EAIG,SAA+BmD,GACpC,MAAO,CACLrD,KAAM,0BACNqD,kBAPSC,CAAsBD,KA2B5B,SAASE,GAA+BC,GAC7C,OAAO,SAAAtD,GACLA,EAIG,SAAyCsD,GAC9C,MAAO,CACLxD,KAAM,kCACNwD,4BAPSC,CAAgCD,K,8GC/EvC7M,I,OAAQC,YAAe,CAC3B8M,UAAW,SAIPC,GAAM9K,aAAO,CAAE+K,QAAQ,GAAD,oBAAMC,eAAYD,SAAlB,CAA2BE,WAEhD,SAASC,GAAU9O,GAAQ,IAAD,EAEDE,mBAASF,EAAM4K,QAFd,mBAExBmE,EAFwB,KAEfC,EAFe,KAiB/B,OACE,kBAACC,GAAA,EAAD,CAAgBP,IAAKA,IACnB,kBAACQ,EAAA,EAAD,CAAexN,MAAOA,IACpB,yBAAK6C,IAAI,OACP,kBAAC4K,GAAA,EAAD,CACEJ,QAASA,EACT/N,SAnBW,SAACC,GACf8N,GAMH/O,EAAMoP,gBAAe,GACrBpP,EAAMqP,wBAAuB,KAN7BrP,EAAMoP,gBAAe,GACrBpP,EAAMqP,wBAAuB,IAO/BL,EAAW/N,EAAMqO,OAAOP,UAUhB1I,KAAK,UACLkJ,WAAY,CAAE,aAAc,2B,WC9BlCC,G,+MAEFpN,MAAQ,CACJoI,iBAAkB,EAAKxK,MAAMsK,UAE7BmF,mBAAoB,EAAKzP,MAAM2G,Y,EAGnCyI,eAAiB,SAACnC,GACVA,EACA,EAAKjN,MAAMoP,gBAAgB,EAAKpP,MAAMsK,UAAU9E,UAEhD,EAAKxF,MAAMoP,gBAAmD,GAAlC,EAAKpP,MAAMsK,UAAU9E,W,EAK1D6J,uBAAyB,SAACpC,GACjB,EAAKyC,SAAS,CAAClF,iBAAiB,2BAAI,EAAKpI,MAAMoI,kBAAhB,IAAiCI,OAAOqC,MAAY,WAC5EA,EACC,EAAKjN,MAAM2P,sBAAsB,GAGnC,EAAK3P,MAAM2P,uBAAuB,GAExC,IAAMhJ,EAAaiJ,EAAiBrF,iBAAiB,EAAKnI,MAAMqN,mBAAmB,EAAKrN,MAAMoI,kBAC9F,EAAKkF,SAAS,CAACD,mBAAmB9I,Q,wDAOhC,IACC6D,EAAoBqF,KAAKzN,MAAzBoI,iBACP,OACI,yBAAKnJ,UAAS,4BAAwBmJ,EAAiBI,OAAQ,mBAAmB,KAC7EJ,GACG,yBAAKnJ,UAAU,sDACX,yBAAKA,UAAU,kBACVmJ,EAAiBnE,MAEtB,yBAAKhF,UAAU,aAAa,SAAMmJ,EAAiBsF,OACnD,yBAAKzO,UAAU,aAAamJ,EAAiBhF,SAAWuK,EAAYrL,gBAAgB,YACpF,kBAAC,GAAD,CAAWrD,UAAU,YAAYuJ,OAAQJ,EAAiBI,OAAQwE,eAAgBS,KAAKT,eAAgBC,uBAAwBQ,KAAKR,+B,GA5C5HW,aA2DhC,IAAMC,GAAqB,CACvBb,eLiCG,SAAwB5J,GAC7B,8CAAO,WAAMyF,GAAN,SAAAhH,EAAA,+EAGHgH,EAASK,EAAgB9F,IAHtB,sDAKHnB,QAAQC,IAAI,uCAAZ,MALG,wDAAP,uDKjCEiG,iBLWG,SAA0B5D,GAE/B,OADAtC,QAAQC,IAAIqC,GACZ,uCAAO,WAAMsE,GAAN,SAAAhH,EAAA,+EAGHgH,EAASI,EAAkB1E,IAHxB,sDAKHtC,QAAQC,IAAI,4CAAZ,MALG,wDAAP,uDKZEqL,sBL7BG,SAA+BvE,GACpC,8CAAO,WAAMH,GAAN,SAAAhH,EAAA,+EAGHgH,EAAUE,EAAuBC,IAH9B,sDAKH/G,QAAQC,IAAI,wCAAZ,MALG,wDAAP,wDK+BW4L,GAAmB/N,aAbhC,SAAuBC,GACnB,MAAO,CAEHuE,WAAYvE,EAAM+N,iBAAiBxJ,cAUYsJ,GAAvB9N,CAA2CqN,I,OCrEpE,SAASY,GAAcpQ,GAC1B,OACI,yBAAKqB,UAAU,6CAEPrB,EAAM2G,WAAWhE,KAAI,SAAA2H,GACjB,IAAI7I,EAAGoJ,EAAa5F,QACpB,OACI,yBAAKlC,IAAKtB,GACN,kBAAC,GAAD,CAAmB6I,UAAWA,EAAW+F,sBAAuBrQ,EAAMqQ,6B,OCmClG,IAGaC,GAAiBnO,aAX9B,SAAuBC,GACnB,MAAO,CACHmO,sBAAuBnO,EAAM+N,iBAAiBI,sBAC9C/E,kBAAmBpJ,EAAM+N,iBAAiB3E,kBAC1ChG,SAAUpD,EAAM+N,iBAAiB3K,YAId,GAGGrD,EA5C9B,SAAyBnC,GACrB,IACIwQ,EAAwC,8BAD3BlQ,cACcE,SAC3BiQ,EAAiBzQ,EAAMwF,SAASxF,EAAMwL,kBAC1C,OACI,yBAAKnK,UAAS,0BAAqBmP,EAAgB,2BAA2B,GAAhE,uBACXA,GAAiBC,EAAgB,YAAY,KAExCA,GAAiBD,EACf,8IAEDxQ,EAAMuQ,sBAEwB,IAA9BvQ,EAAMuQ,sBAAP,mEACe1F,EAAa5D,qBAAqBjH,EAAMuQ,uBADvD,kDAGY1F,EAAa5D,qBAAqBjH,EAAMuQ,uBAHpD,gDAMKvQ,EAAM0Q,UACN,0BAAMrP,UAAU,aAAhB,2FAEDmP,EAEA,sIAEA,uMC/Bb,SAASG,GAAiBnO,GAC7B,8CAAO,WAAMyI,GAAN,SAAAhH,EAAA,+EAGHgH,EAAS2F,GAAkBpO,IAHxB,sDAKH6B,QAAQC,IAAI,0CAAZ,MALG,wDAAP,sDAUK,SAASsM,GAAkBpO,GAC9B,MAAO,CACLuI,KAAM,qBACNvI,Q,OC0ER,IAAMyN,GAAqB,CACvBU,qBAGSE,GAAU9Q,YAAWoC,aAdlC,SAAuBC,GACnB,MAAO,CACHC,MAAOD,EAAME,eAAeD,MAC5BE,WAAYH,EAAME,eAAeE,KACjCgD,SAAUpD,EAAM+N,iBAAiB3K,SACjC8E,UAAWlI,EAAM+N,iBAAiB7F,aASe2F,GAAvB9N,EAzFlC,SAAkBnC,GAEd,IAAMK,EAAWC,cAFI,EAGaJ,mBAAS,IAHtB,mBAGd4Q,EAHc,KAGHC,EAHG,KAarB,SAASC,IACL,OAAKhR,EAAMwF,WACc,IAArBxF,EAAMuC,aAAqBvC,EAAMsK,gBAArC,GAGJ,SAAS2G,EAAWrH,GAEZ5J,EAAMuC,WAAaqH,IAAS,IAC5B5J,EAAMkR,iBACNlR,EAAMmR,cAEVnR,EAAM2Q,iBAAiB3Q,EAAMuC,WAAaqH,IACrC5J,EAAMuC,YAAcqH,EAAO,EAC5B5J,EAAMmB,QAAQC,KAAK,aAEO,IAArBpB,EAAMuC,YAAoBqH,EAAO,EAAG5J,EAAMmB,QAAQC,KAAK,SAClC,IAArBpB,EAAMuC,YAAoBqH,EAAO,EAAG5J,EAAMmB,QAAQC,KAAK,aAClC,IAArBpB,EAAMuC,YAAoBqH,EAAO,GAAG5J,EAAMmB,QAAQC,KAAK,eASpE,OAlCAb,qBAAU,WAGoB,IAArBP,EAAMuC,aAAqBvC,EAAMsK,WAAetK,EAAMwF,SACvDuL,EAAa,cACRA,EAAa,OA+BtB,yBAAK1P,UAAS,sBAEiB,gBAAtBhB,EAASG,SACN,yBAAKa,UAAU,uBAAuBG,QAXtD,WACSxB,EAAMwF,UACPxF,EAAMoR,oBAUU,4BAAQ/P,UAAU,eAAeG,QAAS,kBAAMyP,EAAW,IAAII,SAAUL,KAAzE,uBAKe,UAAtB3Q,EAASG,SACN,yBAAKa,UAAU,mBACX,4BAAQA,UAAS,qBAAwBgQ,SAA+B,IAArBrR,EAAMuC,WAAkBf,QAAS,kBAAMyP,GAAY,KAAtG,6BAKJ,yBAAK5P,UAAU,qBACX,yBAAKA,UAAU,mBACX,4BAAQA,UAAS,qBAAwBgQ,SAA+B,IAArBrR,EAAMuC,WAAkBf,QAAS,kBAAMyP,GAAY,KAAtG,6BAIJ,yBAAK5P,UAAS,mBACV,4BAAQA,UAAS,kBAAayP,GAAatP,QAAS,kBAAMyP,EAAW,IAAII,SAAUL,KAAnF,6B,8BCnEnBM,GAAb,2KAGI,OACE,kBAAC,KAAD,CACEvG,KAAK,OACLnK,MAAM,UACN2Q,OAAQ,GACR7Q,MAAO,GACP8Q,QAAS,UATjB,GAA+BvR,IAAM+P,WCgB/ByB,I,cAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,KAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IA8Df,IAAM9B,GAAqB,CACvB+B,eX5FG,WAEL,8CAAO,WAAM/G,GAAN,eAAAhH,EAAA,+EAEsB2L,EAAiB5F,gBAFvC,OAEGrD,EAFH,OAGHsE,EAASH,EAAcnE,IAHpB,gDAMHtC,QAAQC,IAAI,0CAAZ,MANG,iEAAP,uDW2FE2N,kBRzDG,WACL,OAAO,SAAAhH,GAELA,EAIG,SAA4BmD,GACjC,MAAO,CACLrD,KAAM,uBACNqD,kBAPS8D,CADcvF,EAAeZ,gBAAgB,iBQwDtDoC,yBAGSgE,GAAehQ,aAb5B,SAAuBC,GACnB,MAAO,CACHuE,WAAYvE,EAAM+N,iBAAiBxJ,WACnCyH,eAAgBhM,EAAMgQ,YAAYhE,kBAUS6B,GAAvB9N,EAjErB,SAAuBnC,GAC1B,IAAMK,EAAWC,cACT0R,EAAkEhS,EAAlEgS,eAAgBrL,EAAkD3G,EAAlD2G,WAAYsL,EAAsCjS,EAAtCiS,kBAAmB7D,EAAmBpO,EAAnBoO,eACjD3B,EAAOE,EAAeZ,gBAAgB,aAC5CxL,qBAAU,WACDoG,GAAYqL,MAClB,CAACA,EAAgBrL,IAEpBpG,qBAAW,WACP,sBAAC,sBAAA0D,EAAA,+DACImK,GADJ,qCAC+BN,GAAYV,QAAQX,GADnD,oDAC2DwF,IAD3D,0CAAD,KAGD,CAACA,EAAmB7D,IAZU,MAcClO,oBAAS,GAdV,mBAc1BwQ,EAd0B,KAcf2B,EAde,KAoBjC,OAAK1L,EAED,yBAAKtF,UAAU,iBAEgB,8BAAtBhB,EAASG,SAEN,kBAAC,KAAO8R,IAAR,CACIC,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,IAEZ,kBAAC,GAAD,CAAgBpB,UAAWA,IAC3B,kBAAC,GAAD,CAAe/J,WAAYA,KAI/B,6BACI,kBAAC,GAAD,CAAgB+J,UAAWA,IAC3B,kBAAC,GAAD,CAAe/J,WAAYA,KAIZ,8BAAtBtG,EAASG,UACV,kBAAC,GAAD,CAAS4Q,gBA7BrB,WACIiB,GAAa,OAGO,yBAAKhR,UAAU,UAAS,kBAAC,GAAD,U,4CClBpD,IAAM4O,GAAqB,CACvBjF,eACA2F,qBAGSiC,GAAa7S,YAAWoC,aAZrC,SAAuBC,GACnB,MAAO,CACHkI,UAAWlI,EAAM+N,iBAAiB7F,UAClC/H,WAAYH,EAAME,eAAeE,QASmByN,GAAvB9N,EAlCpC,SAAqBnC,GAYlB,OAEI,yBAAKqB,UAAU,sDACVrB,EAAM6S,UAAUlQ,KAAI,SAAAmQ,GAAE,OAAI,4BAAQtR,QAAS,kBAbpD,SAA6BsR,EAAI/L,EAAM6C,GACnC5J,EAAM2Q,iBAAiB3Q,EAAMuC,WAAaqH,GAC1C,IAAIU,EAAY,CACZ/E,KAAMuN,EACN/L,QAEJ/G,EAAMgL,aAAaV,GACnBtK,EAAMmB,QAAQC,KAAK,SAMmC2R,CAAoBD,EAAI9S,EAAM+G,KAAM,IACtF1F,UAAU,eAAe0B,IAAK8H,EAAa5F,SAAU6N,W,OCnB1D,SAASE,GAAahT,GAMzB,OAJAO,qBAAU,cAEH,IAGH,yBAAKc,UAAU,sBAEP4R,OAAOC,KAAKlT,EAAM6S,WAAWlQ,KAAI,SAAA2G,GAC7B,IAAM6J,EAAoD,iBAAxBnT,EAAM6S,UAAUvJ,GAC5CvC,EAAOoM,EAAoBnT,EAAM6S,UAAUvJ,GAAK5D,MAAM,EAAG,IAAO1F,EAAM6S,UAAUvJ,GAAM,GAAGxB,MAAMpC,MAAM,EAAG,IAExG0N,EAAkBD,EAAoB,GAAKtI,EAAa9F,wBAAwB/E,EAAM6S,UAAUvJ,GAAMtJ,EAAMwF,UAClH,OACI,yBAAKzC,IAAK8H,EAAa5F,SACnB,yBAAK5D,UAAU,kBAEX8R,EACA,yBAAK9R,UAAU,gBACX,6BAAMwJ,EAAatE,mBAAmB,IAAImB,KAAKX,GAAMU,WACrD,6BAAMoD,EAAavE,6BAA6BS,IAChD,6BACA,yBAAK1F,UAAU,sBAAf,mEAGJ,6BACI,6BAAMwJ,EAAatE,mBAAmB,IAAImB,KAAM1H,EAAM6S,UAAUvJ,GAAM,GAAGxB,OAAOL,WAChF,6BAAMoD,EAAavE,6BAA6BS,MAIxD,kBAAC,GAAD,CAAY8L,UAAWO,EAAiBrM,KAAMA,SCnC3D,QACXsM,mBAQJ,SAA4BpS,GACxB,OAAOgJ,EAAiB,QAAQhJ,IARhCqS,+BAgBJ,SAAwCC,GACpC,OAAOtJ,EAAA,gBAAyBsJ,KAhBhCC,gBAUJ,SAA0B5G,GACtB,OAAO3C,EAAA,gBAAyB2C,KAVhC6G,kBAkBJ,SAA4B/M,GAExB,OADArC,QAAQC,IAAIoC,GACLuD,EAAA,gBAA4BvD,MCxBxB,QACXgN,UAGJ,SAAmBrN,EAAMU,GAAgF,IAA1EC,EAAyE,uDAAnE,GAAI2M,EAA+D,uCAA/C/G,EAA+C,uDAAzC,GAAIpH,EAAqC,uDAA5B,GAAID,EAAwB,uDAAnB,GAAIoB,EAAe,uDAAJ,GAC1FiN,EAAa,oDACfC,EAAW,GAEXA,EADAF,EACQ,2CAAkBtN,EAAlB,uFAEMuN,EAFN,sFAGOjN,EAHP,4DAICI,EAJD,8CAKDxB,EALC,uIAMkBC,EANlB,qMAOyBoH,EAPzB,gDAWA,wDAELvG,EAFK,kHAGYU,EAHZ,mHAMZ,IAAI+M,EAAW,CACX9M,QACA6M,YAEJ,OAAO5J,EAAiB,QAAQ6J,KC1BrB,QACXC,YAeJ,WACI,OAAO9J,EAAgB,aAfvB+J,sB,iDACAC,sBACAC,wB,6CACAhD,e,uDACAiD,sB,6CACAC,iBA+EJ,SAA0BvB,EAAWwB,GAEjC,IADA,IAAIC,EAAkB,GACb1M,EAAI,EAAGA,EAAIiL,EAAUzM,OAAQwB,IAClC0M,EAAgBlT,KAAK,IAqBzB,OAnBAyR,EAAUlQ,KAAI,SAACmQ,EAAIyB,GACfF,EAAa1R,KAAI,SAAC6R,EAAaC,GAC3B,GAAID,EAAYpO,OAAQ,CACpB,IAAIsO,GAAe,EACnB,OAAOF,EAAY7R,KAAI,SAACgS,EAAIC,GACV/J,EAAa7C,iBAAiB8K,EAAI6B,EAAG7M,MAAO6M,EAAG5M,IAAK,IACxDK,UACNsM,GAAe,EACfJ,EAA0BC,GAAOnT,MAAK,IAEhCoT,EAAYpO,SAAWwO,EAAW,GAAQF,GAChDJ,EAA0BC,GAAOnT,MAAK,MAI9CkT,EAA0BC,GAAOnT,MAAK,SAI3CkT,GAtGPO,oBAyGJ,SAA6BC,EAAOC,GAAyB,IAAhBC,EAAe,uDAAJ,GAChDC,EAAsB,EACtBrN,EAAImN,EAAQR,MAChB,KAAOO,EAAMlN,GAAGmN,EAAQN,WAAa7M,EAAIkN,EAAM1O,OAAS,GACpD6O,GAAuBD,EACvBpN,IAEJ,OAAKqN,GAA4BD,GA/GjCE,gBAmHJ,SAAyBrC,EAAWC,EAAItH,EAAmBzE,EAAMoO,GAI7D,IAJkG,IAAhBH,EAAe,uDAAJ,GACzFI,EAAe,GACbb,EAAQ1B,EAAUpI,WAAU,SAAA4K,GAAQ,OAAIA,IAAavC,KACrDwC,EAAiB9J,EAAoBwJ,EAClCpN,EAAI2M,EAAO3M,EAAK2M,EAAQe,EAAiB1N,IAC9CwN,EAAahU,KACT,CACI2F,OACAe,MAAOgL,EACP/K,IAAK8K,EAAUjL,EAAI,GACnBqF,UAAU,IAIlBkI,IACAC,EAAajI,QACT,CACIpG,OACAe,MAAO+K,EAAU,GACjB9K,IAAK8K,EAAUA,EAAUzM,OAAO,GAChC6G,UAAU,IAGjB6F,IAAKD,EAAU,IAAKuC,EAAaG,OAEtC,OAAOH,GA3IPI,e,4FAWJ,WAAqCC,GAArC,SAAAxR,EAAA,sEACiBgG,EAAA,mBAA4BwL,EAAU3N,MAAtC,YAA+C2N,EAAU1N,MAD1E,oF,sBAIA,SAASkM,GAAmBrN,EAAWE,EAAS4O,GAAiD,IAAtCC,EAAqC,uDAAvB,QAASC,EAAc,uCACtF3U,EAAQ,CAAEyU,YAAWC,cAAaC,eAAchP,YAAWE,WACjE,OAAOmD,EAAiB,WAAYhJ,G,8CAGxC,WAAuC4U,GAAvC,SAAA5R,EAAA,+EACWgG,EAAmB,WAAY,CAAE4L,aAD5C,4C,oEAIA,WAAqCjP,EAAWkP,EAAUtQ,GAA1D,eAAAvB,EAAA,6DACU8R,EAAa,CAAEnP,YAAWkP,WAAUtQ,YAD9C,SAEiByE,EAAiB,iBAAkB8L,GAFpD,oF,oEAMA,WAA8BpP,EAAYnB,EAAUoH,EAAO5F,EAAOX,EAAMiE,GAAxE,uBAAArG,EAAA,6DACQsB,EAAOsF,EAAa7F,qBAAqBsF,EAAU/E,KA5B5C,GA6BLqB,EAFV,UAEyB0D,EAAUvD,KAFnC,YAE2CxB,EAF3C,QAGIA,EAAOsF,EAAavF,iBAAiBC,EAAMC,GACrCsB,EAJV,UAIuBwD,EAAUvD,KAJjC,YAIyCxB,EAJzC,iBAKiC0O,GAAmBrN,EAAWE,EAASH,EAAYN,EAAM,kBAL1F,OAKU2P,EALV,OAMI3R,QAAQC,IAAI0R,GACN/U,EAAQ,CACVoF,OACAW,QACA4F,QACAiJ,QAASG,EAAevU,GACxBkF,aACAnB,WACAoB,UAAWA,EAAUlB,MAAM,GAAI,IAC/BoB,QAASA,EAAQpB,MAAM,GAAI,IAC3BqB,KAAMH,EAAUlB,MAAM,EAAG,KAE7BuQ,GAAa5C,mBAAmBpS,GAChCoD,QAAQC,IAAIrD,GACZiV,GAAaxC,UAAUrN,EAAMiE,EAAUvD,KAAMC,GAAO,EAAM4F,EAAOpH,EAAU8E,EAAU/E,KAAMoB,GApB/F,6C,oEAuBA,WAA8BwP,GAA9B,uCAAAlS,EAAA,6DAA2CoC,EAA3C,+BAAkD,QAC1C+P,EAAQvL,EAAa7F,qBAAqBmR,EAAYrO,MAnD/C,GAoDPuO,EAAQxL,EAAa7F,qBAAqBmR,EAAYpO,IApD/C,GAqDLnB,EAHV,UAGyBuP,EAAYpP,KAHrC,YAG6CqP,EAH7C,QAIUtP,EAJV,UAIuBqP,EAAYpP,KAJnC,YAI2CsP,EAJ3C,iBAKiCpC,GAAmBrN,EAAWE,EAAST,GALxE,OAKU2P,EALV,OAMU/U,EAAQ,CACVoF,OACAW,MAAO,GACP4F,MAAO,GACPiJ,QAASG,EAAevU,GACxBkF,WAAY,GACZnB,SAAU,GACVoB,UAAWA,EAAUlB,MAAM,GAAI,IAC/BoB,QAASA,EAAQpB,MAAM,GAAI,IAC3BqB,KAAMH,EAAUlB,MAAM,EAAG,KAE7BuQ,GAAa5C,mBAAmBpS,GAjBpC,6C,sBCKO,SAASqV,GAAazD,GAC3B,MAAO,CACL9H,KAAM,gBACN8H,aAMG,SAAS0D,GAAmBC,GAChC,OAAQ,SAAAvL,GAAcA,EAKlB,SAA6BuL,GAChC,MAAO,CACLzL,KAAM,wBACNyL,qBAR4BC,CAAoBD,K,aCnEhD/E,I,OAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,EACH8E,UAAW,UAEf7E,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAIT4E,GAAgBhV,YAAe,CACjCiV,UAAW,CACPC,kBAAmB,CACfC,QAAS,CACLC,gBAAiB,YAIzBC,cAAe,CACX1N,IAAK,CACD1I,MAAO,SAEXqW,YAAa,CACTF,gBAAiB,WAErBG,YAAa,CACTtW,MAAO,WAEXuW,QAAS,CACLvW,MAAO,eA0HvB,IAAMqP,GAAqB,CACvBmH,cDzJG,WAA0C,IAC3CrQ,EADwBsQ,EAAkB,uDAAL,KAErC,GAAKA,EAULtQ,EAAOsQ,EACLC,EAAWzM,EAAahG,YAAa,EAAGwS,GACxCE,EAAY1M,EAAahG,YAAa,EAAGwS,GACzCG,EAAW3M,EAAahG,YAAa,EAAGwS,OAbzB,CACftQ,EAAO,IAAIW,KACX,IAAI4P,EAAWzM,EAAahG,YAAa,GACrC0S,EAAY1M,EAAahG,YAAa,GACtC2S,EAAW3M,EAAahG,YAAa,GA2B/C,OAfWyS,IACHA,EAAWzM,EAAahG,YAAa,EAAGkC,GACxCwQ,EAAY1M,EAAahG,YAAa,EAAGkC,GACzCyQ,EAAW3M,EAAahG,YAAa,EAAGkC,IAErCwQ,IACHD,EAAWzM,EAAahG,YAAa,EAAGkC,GACxCwQ,EAAY1M,EAAahG,YAAa,EAAGkC,GACzCyQ,EAAW3M,EAAahG,YAAa,EAAGkC,IAErCyQ,IACHF,EAAWzM,EAAahG,YAAa,EAAGkC,GACxCwQ,EAAY1M,EAAahG,YAAa,EAAGkC,GACzCyQ,EAAW3M,EAAahG,YAAa,EAAGkC,IAEhD,uCAAO,WAAMkE,GAAN,eAAAhH,EAAA,+EAIkBwT,GAAgBzD,sBAAhB,UAAyCsD,EAAzC,uBAAiEA,EAAjE,aAAsF,MAJxG,mCAKmBG,GAAgBzD,sBAAhB,UAAyCuD,EAAzC,uBAAkEA,EAAlE,aAAwF,MAL3G,mCAMmBE,GAAgBzD,sBAAhB,UAAyCwD,EAAzC,uBAAiEA,EAAjE,aAAsF,MANzG,mBAEG3E,EAFH,CAIH6E,cAJG,KAKHC,eALG,KAMHC,cANG,MAQHvT,QAAQC,IAAI,QAASuO,GACrB5H,EAASqL,GAAazD,IATnB,kDAWHxO,QAAQC,IAAI,wBAAZ,MAXG,0DAAP,wDC2HWuT,GAAc1V,aAX3B,SAAuBC,GACnB,MAAO,CACHyQ,UAAWzQ,EAAM0V,gBAAgBjF,UACjCrN,SAAUpD,EAAM+N,iBAAiB3K,YAQSyK,GAAvB9N,EAxHpB,SAAsBnC,GAAQ,IAAD,EAESE,mBAAS,IAAIwH,MAFtB,mBAEzBqQ,EAFyB,KAEXC,EAFW,OAGJ9X,oBAAS,GAHL,mBAGzB+X,EAHyB,KAGjBC,EAHiB,OAIUhY,mBAAS,kNAJnB,mBAIzBiY,EAJyB,KAIVC,EAJU,OAKYlY,mBAAS,qBALrB,mBAKzBmY,EALyB,KAKTC,EALS,KAOxBlB,EAAkBpX,EAAlBoX,cAPwB,SAgBjBmB,EAhBiB,8EAgBhC,WAA4BxR,GAA5B,SAAA9C,EAAA,6DACIiU,GAAU,GACVF,EAAiBjR,GAFrB,SAGU/G,EAAMoX,cAAcrQ,GAH9B,OAIQ/G,EAAM6S,WACNqF,GAAU,GALlB,4CAhBgC,sBA8DhC,OAtDA3X,qBAAU,WACN6W,IACIpX,EAAM6S,WACNqF,GAAU,KAEf,CAACd,IAkDA,oCACI,kBAAC,KAAO9E,IAAR,CACIC,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,GACZrR,MAAO,CAAEC,MAAO,SAEhB,yBAAKW,UAAU,6BACX,yBAAKA,UAAS,UAAKgX,IACdF,GAEL,kBAAC,KAAD,CAAyBK,MAAOC,KAAcC,OAAQC,MAClD,kBAACzJ,EAAA,EAAD,CAAexN,MAAOiV,IAClB,kBAAC,KAAD,CACIiC,gBAAc,EACdC,aAAa,EACbC,kBAxD5B,SAAoB/R,GAChB,OAA2B,IAAlBA,EAAKU,UAwDUsR,QAAQ,SACRC,QAAQ,iCACRC,YAAY,iCACZC,OAAO,aACPC,OAAO,SACP1X,GAAG,qBACHtB,MAAO4X,EACP/W,SAAUuX,EACVa,oBAAqB,CACjB,aAAc,oBAMlC,kBAAC,KAAD,CAAWC,SAAU,SAACC,GAAD,OAnEjC,SAA0B7K,GACtB,GAAGzO,EAAM6S,YAAYoF,EAAO,CACxB,IAAMxP,EAAY,IAAIf,KAAKqQ,EAAarP,QAAQqP,EAAapP,YAE9C,SAAd8F,GAAyBsJ,EAAapQ,WAAc,IAAID,MAAOC,UAE3Dc,EAAShB,SAAW,KAAO,GAAOgB,EAAShB,SAAW,KAAO,GAAOgB,EAAShB,SAAW,KAAO,EAChG8Q,EAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,KAEpE4P,EAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,KAGrD,UAAd8F,EAEAhG,EAAShB,SAAW,IAAM,GAAOgB,EAAShB,SAAW,IAAM,GAAOgB,EAAShB,SAAW,IAAM,EAC7F8Q,EAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,KAEpE4P,EAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,KAIrD,OAAd8F,GAAsC,SAAdA,IACzB2J,EAAiB,gIACjBE,EAAkB,oBAClBiB,YAAW,WACPnB,EAAiB,kNACjBE,EAAkB,uBACnB,OAwCiCkB,CAAiBF,EAAU/U,OAC3D,yBAAKlD,UAAU,4CACTrB,EAAM6S,YAAcoF,EAAU,kBAAC,GAAD,CAAclR,KAAMgR,EAAclF,UAAW7S,EAAM6S,UAAWrN,SAAUxF,EAAMwF,WACxG,yBAAKnE,UAAU,wCAAuC,kBAAC,GAAD,UAIxE,kBAAC,GAAD,UCpKNoY,GAAgB,CAClBnP,UAAW,KACX3D,WAAY,KACZnB,SAAS,EACTgG,kBAAkB,EAClB+E,sBAAsB,GCL1B,IAAMkJ,GAAgB,CACpBjX,KAAK,EACLH,MAAM,CAAC,6EAAkB,qDAAc,mCCFzC,IAAMoX,GAAgB,CAClBC,SAAU,KACV7G,UAAW,KACXuC,aAAa,KACbe,YAAY,KACZwD,iBAAiB,KACjBxE,qBAAoB,GCJxB,IAAMsE,GAAgB,CAClB3M,MAAO,GACPsB,eAAgB,KAChBwL,WAAW,EACXrL,yBAA0B,I,uBCCxBsL,GAAcC,aAAgB,CAChC3J,iBJAG,WAA0D,IAAhC/N,EAA+B,uDAAvBqX,GAAeM,EAAQ,uCAE5D,OAAQA,EAAOhP,MAEX,IAAK,iBACD,OAAO,2BACA3I,GADP,IAEIuE,WAAYoT,EAAOpT,aAE3B,IAAK,gBACD,OAAO,2BACAvE,GADP,IAEIkI,UAAWyP,EAAOzP,YAE1B,IAAK,mBACL,OAAO,2BACFlI,GADL,IAEEuE,WAAYvE,EAAMuE,WAAWgE,QAAO,SAAAL,GAAS,OAAIA,EAAU5D,MAAQqT,EAAO5P,iBAE5E,IAAK,oBAEL,OADE9F,QAAQC,IAAI,KAAKyV,EAAOpT,YACnB,2BACFvE,GADL,IAEEuE,WAAWoT,EAAOpT,aAGpB,IAAK,iCACL,OAAO,2BACFvE,GADL,IAEEmO,sBAAuBnO,EAAMmO,sBAAuBwJ,EAAO3O,QAE7D,IAAK,kBACL,OAAO,2BACFhJ,GADL,IAEEoD,SAAUpD,EAAMoD,SAAUuU,EAAOvU,WAEnC,IAAK,2BACL,OAAO,2BACFpD,GADL,IAEEoJ,kBAAmBpJ,EAAMoJ,kBAAmBuO,EAAOvO,oBAErD,IAAK,gBACL,OAAO,2BACFpJ,GADL,IAEEoD,SAAS,EACTgG,kBAAkB,IAEpB,IAAK,+BACL,OAAO,2BACFpJ,GADL,IAEEmO,sBAAsB,IAGxB,QACI,OAAOnO,IIrDf0V,gBFAG,WAAyD,IAAhC1V,EAA+B,uDAAvBqX,GAAeM,EAAQ,uCAC3D,OAAQA,EAAOhP,MAEX,IAAK,eACD,OAAO,2BACA3I,GADP,IAEIsX,SAAUK,EAAOL,WAEzB,IAAK,gBACD,OAAO,2BACAtX,GADP,IAEIyQ,UAAWkH,EAAOlH,YAE1B,IAAK,wBACD,OAAO,2BACAzQ,GADP,IAEIoU,kBAAmBuD,EAAOvD,oBAElC,IAAK,uBACD,OAAO,2BACApU,GADP,IAEI+T,YAAa4D,EAAO5D,cAE5B,IAAK,gCACD,OAAO,2BACA/T,GADP,IAEI+S,oBAAqB4E,EAAO5E,sBAGpC,QACI,OAAO/S,IE7BfE,eHLG,WAAwD,IAAhCF,EAA+B,uDAAvBqX,GAAeM,EAAQ,uCAC1D,OAAQA,EAAOhP,MAEX,IAAK,qBACD,OAAO,2BACA3I,GADP,IAEII,KAAKuX,EAAOvX,OAGpB,QACI,OAAOJ,IGJfgQ,YDFG,WAAqD,IAAhChQ,EAA+B,uDAAvBqX,GAAeM,EAAQ,uCACvD,OAAQA,EAAOhP,MAEX,IAAK,YACD,OAAO,2BACA3I,GADP,IAEO0K,MAAQ1K,EAAMmM,yBAA4BT,GAAYjB,yBAAyBkN,EAAOjN,MAAO1K,EAAMmM,0BAA4BwL,EAAOjN,QAEjJ,IAAK,eACD,OAAO,2BACA1K,GADP,IAEI0K,MAAOiN,EAAOjN,QAEtB,IAAK,uBAKL,IAAK,0BACD,OAAO,2BACA1K,GADP,IAEIgM,eAAgB2L,EAAO3L,iBAE/B,IAAK,qBACD,OAAO,2BACAhM,GADP,IAEIwX,UAAWG,EAAOH,YAE1B,IAAK,kCACD,OAAO,2BACAxX,GADP,IAEImM,yBAA0BwL,EAAOxL,2BAGzC,QACI,OAAOnM,MC9Bb4X,GAAmBC,OAAOC,sCAAwCC,KAE3DC,GAAQC,aAAYR,GAAaG,GAAiBM,aAAgBC,QCdhE,IACXC,QAGJ,WACIJ,GAAMnP,SAAS,CAACF,KAAM,qBAAqBvI,KAAK,IAChD4X,GAAMnP,SAAS,CAACF,KAAM,gBAAiBT,UAAU,OACjD8P,GAAMnP,SAAS,CAACF,KAAM,iBAAkBpE,WAAW,OACnDyT,GAAMnP,SAAS,CAACF,KAAM,gBAAgB8H,UAAU,OAChDuH,GAAMnP,SAAS,CAACF,KAAM,kBACtBqP,GAAMnP,SAAS,CAACF,KAAM,mC,kCCQpB0G,I,OAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,GAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAIThQ,GAAYC,aAAW,SAACN,GAAD,MAAY,CACrC+Y,MAAO,CACHC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAEpBC,MAAO,CACH9D,gBAAiBrV,EAAME,QAAQkZ,WAAWD,MAC1CE,OAAQ,iBACRpa,UAAWe,EAAMsZ,QAAQ,GACzBC,QAASvZ,EAAMwZ,QAAQ,EAAG,EAAG,GAC7Bta,MAAO,cAEXua,MAAO,CACH,QAAS,CACLhC,OAAQzX,EAAMwZ,QAAQ,GACtBxa,MAAO,aAgGnB,IAAMuP,GAAqB,CACvBU,oBACA2F,iBAGS8E,GAAarb,YAAWoC,aAdrC,SAAuBC,GACnB,MAAO,CACHuE,WAAYvE,EAAM+N,iBAAiBxJ,WACnC2D,UAAWlI,EAAM+N,iBAAiB7F,UAClC9E,SAAUpD,EAAM+N,iBAAiB3K,SACjC4I,eAAgBhM,EAAMgQ,YAAYhE,kBASkB6B,GAAvB9N,EAhG9B,SAAqBnC,GACxB,IAAMK,EAAWC,cACXmC,EAAUV,KAFe,EAGP9B,IAAMC,UAAS,GAHR,mBAGxBmb,EAHwB,KAGlBC,EAHkB,OAIiBrb,IAAMC,SAAS,IAJhC,mBAIxBqb,EAJwB,KAINC,EAJM,KAKzBC,EAAqB5Q,EAAavE,6BAA6BtG,EAAMsK,UAAUvD,MAC/ED,EAAU+D,EAAavF,iBAAiBtF,EAAMsK,UAAU/E,KAAMvF,EAAMwF,UAN3C,EAOAxF,EAAMoO,eAA7B/H,EAPuB,EAOvBA,KAAMuG,EAPiB,EAOjBA,MAAO5F,EAPU,EAOVA,MAcrB,SAAS0U,IACLC,GAAanB,UACbxa,EAAMmB,QAAQC,KAAK,eAvBQ,4CA0B/B,sBAAA6C,EAAA,sEACUwT,GAAgBvG,eAAeqK,EAAkBvb,EAAMwF,SAAUoH,EAAO5F,EAAOX,EAAMrG,EAAMsK,WADrG,4CA1B+B,sBAQ/B/J,qBAAU,WACNib,EAAoB5L,EAAiBlF,uBAAuB1K,EAAM2G,eACnE,CAAC3G,EAAM2G,aAoBV,IAAIiV,EAA6C,wBAAtBvb,EAASG,SAEpC,OACI,yBAAKa,UAAU,0CACXua,GAAuB,4BAAQva,UAAU,cAAcG,QAASka,GAAzC,mCAAsD,uBAAGra,UAAU,qBAC1F,yBAAKA,UAAS,uBAAkBua,EAAqB,wBAAwB,KACzE,+CAAWvV,GACX,iEAAcuG,GACd,uEAAe5F,IAEnB,kBAAC,KAAOsL,IAAR,CACIC,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,GACZrR,MAAO,CAAEiW,UAAW,SAAUhW,MAAO,SAErC,yBAAKW,UAAU,uBACX,yBAAKA,UAAU,cAAf,6DAA0CuO,EAAiBlF,uBAAuB1K,EAAM2G,aACxF,yBAAKtF,UAAU,cAAf,oCAAqCwJ,EAAavE,6BAA6BtG,EAAMsK,UAAUvD,OAC/F,yBAAK1F,UAAU,aAAf,uDAAwCrB,EAAMsK,UAAU/E,KAAxD,MAAiEsF,EAAavF,iBAAiBtF,EAAMsK,UAAU/E,KAAMvF,EAAMwF,YAG/H,kBAACqW,GAAA,EAAD,CACIC,kBAAgB,yBAChBC,mBAAiB,+BACjB1a,UAAWoB,EAAQgY,MACnBY,KAAMA,EACNW,QA3CI,WAChBV,GAAQ,GACRI,KA0CYO,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACX5K,QAAS,MAGb,kBAAC6K,GAAA,EAAD,CAAM3K,GAAI2J,GACN,yBAAKha,UAAWoB,EAAQoY,OACpB,wBAAIpZ,GAAG,0BAAP,0FACA,kGAAsB8Z,EAAtB,MACA,sEAAcE,GACd,oFAAkB3U,EAAlB,MAA8B9G,EAAMsK,UAAU/E,WAM5DqW,GAAsB,kBAAC,GAAD,CAASzK,WAjEtB,WACfmK,GAAQ,IAgEqDpK,eA7ElC,kDCvC7BO,I,OAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,GAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IA6Kf,IAAM9B,GAAqB,CACvBU,oBACA2F,iBAGSgG,GAAoBvc,YAAWoC,aAV5C,SAAuBC,GACnB,MAAO,KASwD6N,GAAvB9N,EA9KrC,SAA4BnC,GAC/BO,qBAAU,WACNgc,MACD,IAGH,IAwBM9Z,EAxBYT,aAAW,SAACN,GAAD,MAAY,CAErC+Y,MAAO,CACHC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAEpBC,MAAO,CACH9D,gBAAiBrV,EAAME,QAAQkZ,WAAWD,MAC1CE,OAAQ,iBACRpa,UAAWe,EAAMsZ,QAAQ,GACzBC,QAASvZ,EAAMwZ,QAAQ,EAAG,EAAG,GAC7Bta,MAAO,cAEXqB,KAAM,CACF,QAAS,CACLkX,OAAQzX,EAAMwZ,QAAQ,GACtBxa,MAAO,OACPE,MAAO,eAMHmB,GA9BsB,EAgCd9B,IAAMC,UAAS,GAhCD,mBAgC/Bmb,EAhC+B,KAgCzBC,EAhCyB,OAkCVrb,IAAMC,SAAS,kBAAC,GAAD,OAlCL,mBAkC/B+X,EAlC+B,KAkCvBC,EAlCuB,KAmCtCqB,YAAW,WACPrB,EAAU,MACX,KArCmC,MAsCZjY,IAAMC,SAAUF,EAAMwc,UAAYxc,EAAMwc,UAAU7P,EAAeZ,gBAAgB,aAAaa,OAtClF,mBAsC/BA,EAtC+B,KAwChCuE,GAxCgC,KAwCnB,WACfmK,GAAQ,KAzC0B,EAiDMpb,mBAAS,MAjDf,mBAiD/Buc,EAjD+B,KAiDfC,EAjDe,OAmDJxc,mBAAS,GAnDL,mBAmD/Byc,EAnD+B,KAmDpBC,EAnDoB,KAyDtC,SAASL,IACLlY,QAAQC,IAAIsI,GACZqJ,GAAazC,gBAAgB5G,GACxBiQ,MAAK,SAAAC,GACF,GAAKA,EAAO,GAAZ,CACAzY,QAAQC,IAAIwY,GACZ,IAAMrW,EAAiBqW,EAAOnS,QAAO,SAAA1J,GACjC,IAAImI,EAAOnI,EAAM8F,KAAKrB,MAAM,EAAG,GAC3B2D,EAAQpI,EAAM8F,KAAKrB,MAAM,EAAG,GAC5B4D,EAAMrI,EAAM8F,KAAKrB,MAAM,EAAG,IAC1BD,GAASxE,EAAM2F,UAAUlB,MAAM,EAAG,GAAK,EAC3CrB,QAAQC,IAAImB,GACZ,IAAMsB,EAAO,IAAIW,KAAK0B,EAAMC,EAAQ,EAAGC,EAAK7D,EAAO,GAAGkC,UAEtD,OADAtD,QAAQC,IAAIyC,EAAMW,KAAKqV,OACfhW,EAAOW,KAAKqV,SAExB1Y,QAAQC,IAAImC,GACRA,EAAeL,OACfsW,EAAkB7R,EAAarE,wBAAwBC,IAEvDiW,EAAkB,UA7EI,4CAkFtC,WAAiC7G,GAAjC,iBAAA5R,EAAA,sEACyBgS,GAAazC,gBAAgB5G,GADtD,cACUkQ,EADV,OAEQE,EAAeF,EAAOG,MAAK,SAAAhc,GAAK,OAAIA,EAAMyF,MAAQmP,KACtDxR,QAAQC,IAAI0Y,GAEZvF,GAAgBvD,wBAAwB8I,EAAanH,SACrDK,GAAaxC,UAAUsJ,EAAa3W,KAAM2W,EAAajW,KAAMiW,EAAahW,OAAO,GANrF,SAQUiP,GAAaxC,kBAAkBuJ,EAAatW,KARtD,OASI6V,IAEApL,IAXJ,6CAlFsC,sBAgGtC,OACI,yBAAK9P,UAAU,8DACX,kBAAC,KAAOiR,IAAR,CACIjR,UAAU,aACVkR,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,IAGPmG,EACG,yBAAK5W,UAAU,4BAA4B4W,GAE3C,8BACI,yBAAK5W,UAAU,iBACTob,EACE,yBAAKpb,UAAS,iCAA6BrB,EAAMwc,UAAW,oCAAoC,KAC5F,yBAAKnb,UAAU,sBACX,yBAAKA,UAAU,cAAf,IAA6B,yFAA7B,MAAwDob,EAAeE,GAAWhW,YAClF,yBAAKtF,UAAU,cAAf,2CAAuCob,EAAeE,GAAW5V,MACjE,yBAAK1F,UAAU,aAAf,kEAA4Cob,EAAeE,GAAW7V,QAAtE,cAAmF2V,EAAeE,GAAW/V,aAE/G6V,EAAerW,OAAS,GACtB,yBAAK/E,UAAU,uCACTob,EAAeE,EAAY,GAAM,uBAAGnb,QAAS,kBAAMob,EAAaD,EAAY,IAAItb,UAAU,6BACtF,uBAAGA,UAAU,sCAElBob,EAAeE,EAAY,GAAK,uBAAGnb,QAAS,kBAAMob,EAAaD,EAAY,IAAItb,UAAU,4BACpF,uBAAGA,UAAU,sCAI3B,4BAAQG,QAAS,kBAjIf,2CAiIqB0b,CAAkBT,EAAeE,GAAWlb,KAAKJ,UAAS,UAAMrB,EAAMwc,UAAW,qBAAqB,GAA5C,eAAjF,0CAAuJ,uBAAGnb,UAAU,mBAGxK,yBAAKA,UAAU,kBAAf,+EAMR,kBAACwa,GAAA,EAAD,CACIC,kBAAgB,yBAChBC,mBAAiB,+BACjB1a,UAAWoB,EAAQgY,MACnBY,KAAMA,EACNW,QAnGR,WAChBV,GAAQ,GASRK,GAAanB,WA0FWyB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACX5K,QAAS,MAGb,kBAAC6K,GAAA,EAAD,CAAM3K,GAAI2J,GACN,yBAAKha,UAAWoB,EAAQoY,OACpB,wBAAIpZ,GAAG,0BAAP,qDACA,uBAAGA,GAAG,2C,kBCxLxCgQ,GAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,GAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,QAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAIR,SAASoL,GAAcnd,GAM1B,OACI,kBAAC,KAAOsS,IAAR,CACIjR,UAAU,aACVkR,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,IAEZ,0BAAMzQ,UAAU,qEACZ,yBAAKA,UAAU,qBACX,kBAAC,KAAD,CAAMA,UAAU,gDAAgD+b,GAAG,WAChE,kEAGP,yBAAK/b,UAAU,wBACX,kBAAC,KAAD,CAAMA,UAAU,8CAA8C+b,GAAG,UAC9D,0E,0EClCjB3L,I,OAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,GAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAKR,SAASsL,GAAMrd,GAAQ,IAAD,EACCC,IAAMC,SAAS,IADhB,mBAClB0M,EADkB,KACX0Q,EADW,OAEOpd,mBAAS,IAFhB,mBAElBqd,EAFkB,KAERC,EAFQ,OAGiCtd,mBAAS,cAH1C,mBAGlBud,EAHkB,KAGKC,EAHL,OAIexd,oBAAS,GAJxB,mBAIlByd,EAJkB,KAIJC,EAJI,KAoBzB,SAASrF,EAAT,GAAmC,IAAXjJ,EAAU,EAAVA,OACduO,EAAQvO,EAAOjJ,KACflG,EAAQmP,EAAOnP,MACrB,OAAQ0d,GACJ,IAAK,QACDP,EAASnd,GACTkE,QAAQC,IAAIqZ,GACZ,MACJ,IAAK,WACDtZ,QAAQC,IAAInE,GACZqd,EAAYrd,GACZ,MACJ,QACIkE,QAAQC,IAAI,kCAjCC,4CAmDzB,kCAAAL,EAAA,sEACuB6J,GAAYzB,QAAQO,GAD3C,YACUH,EADV,qCAIQpI,QAJR,SAI0ByJ,GAAYV,QAAQX,GAJ9C,+BAIgBnI,IAJhB,0BAKmBwJ,GAAYV,QAAQX,GALvC,mCAOoBpG,EAAsBoG,EAAtBpG,KAAMW,EAAgByF,EAAhBzF,MAAO4F,EAASH,EAATG,MACrBD,EAAelB,cAAc,YAAa,CAAEpF,OAAMW,QAAO4F,UACzD5M,EAAMmB,QAAQC,KAAK,eAT/B,wBAYY0c,IAZZ,gCAeQC,IAfR,6CAnDyB,sBAMzBxd,qBAAU,WAiCNqd,EAAiBhR,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,MA/BvD,CAACwG,IAIJrM,qBAAU,WACDqM,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,IACtCsX,EAAyB,gBAE9B,CAAC9Q,IAhBqB,MAsED3M,IAAMC,UAAS,GAtEd,mBAsElBmb,EAtEkB,KAsEZC,EAtEY,OAuEarb,IAAMC,SAAS,4DAvE5B,mBAuElB8d,EAvEkB,KAuELC,EAvEK,KAyEnBH,EAAkB,WACpBxC,GAAQ,IAGN4C,EAAW,uCAAG,WAAOC,GAAP,qBAAAla,EAAA,sEACG6J,GAAYzB,QAAQO,GADvB,OACVH,EADU,OAEF,UAAV0R,EAjFU,SAmFNZ,GACAjC,GAAQ,GACAjV,EAAsBoG,EAAtBpG,KAAMW,EAAgByF,EAAhBzF,MAAO4F,EAASH,EAATG,MACrBD,EAAelB,cAAc,YAAa,CAAEpF,OAAMW,QAAO4F,UACzD5M,EAAMmB,QAAQC,KAAK,mBAGnB6c,EAAe,6DAInB3C,GAAQ,GACR2C,EAAe,4DAhBH,2CAAH,sDA7EQ,EAmGShe,IAAMC,UAAS,GAnGxB,mBAmGlBke,EAnGkB,KAmGPC,EAnGO,KAqGnBN,EAAuB,WACzBM,GAAa,IAGXC,EAAmB,WACrBD,GAAa,IAGjB,OACI,kBAAC,KAAO/L,IAAR,CACIjR,UAAU,aACVkR,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,IAEZ,0BAAMzQ,UAAU,gEACZ,yBAAKA,UAAU,eAAf,wJAGA,0BAAMA,UAAU,sCAEZ,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAS,0BAAqBoc,IAE1B7Q,EACG,wHAEA,qJAIhB,2BAAOvL,UAAU,QAAQgF,KAAK,QAAQ5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAOyM,EAAO5L,SAAUuX,MAM7G,0BAAMlX,UAAU,mBAAmBG,QAnG/C,WAIQkc,EAHCC,EAGwB,aAFA,MAiGrB,IAAgE,4BAAQtc,UAAU,WAAWG,QA7IhF,2CA6IkG6P,UAAWsM,GAA1D,mCAEhE,6BACI,kBAACY,GAAA,EAAD,CAAQlD,KAAMA,EAAMW,QAAS,kBAAMkC,EAAY,UAAUpC,kBAAgB,qBACrE,kBAAC0C,GAAA,EAAD,CAAa/c,GAAG,qBAAhB,IAAsCuc,GACtC,kBAACS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,gEAGA,kBAACC,GAAA,EAAD,CACIC,WAAS,EACTzF,OAAO,QACP1X,GAAG,OACHF,MAAM,iCACNwJ,KAAK,QACL8T,WAAS,EACT1e,MAAOod,EACPvc,SAAUuX,EACVlS,KAAK,cAGb,kBAACyY,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQvd,QAAS,kBAAM0c,EAAY,UAAUtd,MAAM,WAAnD,sBAGA,kBAACme,GAAA,EAAD,CAAQvd,QAAS0c,EAAatd,MAAM,WAApC,yBAQZ,6BACI,kBAAC2d,GAAA,EAAD,CACIlD,KAAM+C,EACNpC,QAASsC,EACTxC,kBAAgB,qBAChBC,mBAAiB,4BAGjB,kBAAC0C,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmBjd,GAAG,gCAClB,6BACI,sLAGA,yBAAKJ,UAAU,QACX,wFACA,kBAAC,KAAD,CAAMA,UAAU,8CAA8C+b,GAAG,WAAjE,0BAOhB,kBAAC0B,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQvd,QAAS8c,EAAkB1d,MAAM,UAAUge,WAAS,GAA5D,uC,cCrNtBI,I,OAAa/e,IAAMgf,YAAW,SAAoBjf,EAAOkf,GAC3D,OAAO,kBAACC,GAAA,EAAD,eAAO1Q,UAAU,KAAKyQ,IAAKA,GAASlf,QAGzCyR,GAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,GAEPC,IAAK,CACDF,QAAS,EACTC,EAAG,QAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IA6Nf,IAAM9B,GAAqB,CACvB3B,kCACAH,yBAGSiR,GAASjd,aAXtB,SAAuBC,GACnB,MAAO,KAUkC6N,GAAvB9N,EA9Nf,SAAiBnC,GACpB,IAAMK,EAAWC,cADU,EAEWL,IAAMC,SAAS,CAAEmG,KAAM,GAAIuG,MAAO,GAAI5F,MAAO,KAFxD,mBAEpBqY,EAFoB,KAEPC,EAFO,KAGnBjZ,EAAuBgZ,EAAvBhZ,KAAMuG,EAAiByS,EAAjBzS,MAAO5F,EAAUqY,EAAVrY,MAHM,EAI6B9G,mBAAS,cAJtC,mBAIpBqf,EAJoB,KAIEC,EAJF,OAK+Btf,mBAAS,cALxC,mBAKpBud,EALoB,KAKGC,EALH,OAM+Bxd,mBAAS,cANxC,mBAMpBuf,EANoB,KAMGC,EANH,OAOGxf,mBAC1B,CACImG,MAAM,EACNuG,OAAO,EACP5F,OAAO,IAXY,mBAOpB2Y,EAPoB,KAOXC,EAPW,KAoC3B,SAASrH,EAAT,GAAmC,IAAXjJ,EAAU,EAAVA,OACduO,EAAQvO,EAAOjJ,KACflG,EAAQmP,EAAOnP,MACrB,OAAQ0d,GACJ,IAAK,OACDyB,EAAe,2BAAKD,GAAN,IAAmBhZ,KAAMlG,KACvC,MACJ,IAAK,QACDmf,EAAe,2BAAKD,GAAN,IAAmBzS,MAAOzM,KACxC,MACJ,IAAK,QACDmf,EAAe,2BAAKD,GAAN,IAAmBrY,MAAO7G,KACxC,MACJ,QACIkE,QAAQC,IAAI,kCAmCxB,SAASub,IACL7f,EAAMmB,QAAQC,KAAK,2BAvEvBb,qBAAU,YAwCV,WACI,IAAIuf,GAAe,EACf9Y,IACA8Y,EAAejV,EAAa3D,cAAcF,IAE9C4Y,EAAW,CACPvZ,KAAOA,EAAKD,OAAS,EACrBwG,MAASA,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,GAC9CY,MAAO8Y,IA/CXC,KACD,CAACV,IAGJ9e,qBAAU,WACF8F,GAAMmZ,EAAwB,gBACnC,CAACnZ,IAEJ9F,qBAAU,WACDqM,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,IACtCsX,EAAyB,gBAE9B,CAAC9Q,IAEJrM,qBAAU,WACFsK,EAAa3D,cAAcF,IAC3B0Y,EAAyB,gBAE9B,CAAC1Y,IAuDJ,IAAMgZ,EAAwC,mCAAtB3f,EAASG,SAzFN,4CA2F3B,sBAAAyD,EAAA,sEACuB6J,GAAYzB,QAAQO,GAD3C,kCAGQkR,IAHR,8BAKQzZ,QAAQC,IAAIjE,EAASG,UAL7B,UAMasN,GAAYxB,QAAQ+S,EAAaW,GAN9C,WAOaA,EAPb,iBAQ0B,cAAVpT,EAAuB5M,EAAMmB,QAAQC,KAAK,eACzCpB,EAAMmB,QAAQC,KAAK,kBATpC,yCAWiBpB,EAAMsO,+BAA+B+Q,EAAYzS,OAXlE,QAYW5M,EAAMmO,qBAAqBkR,GAC1BQ,IAbZ,6CA3F2B,4BA6GH5f,IAAMC,UAAS,GA7GZ,mBA6GpBmb,EA7GoB,KA6GdC,EA7Gc,KA+GrBwC,EAAkB,WACpBxC,GAAQ,IAGN4C,EAAc,WAChB5C,GAAQ,IAIZ,OACI,kBAAC,KAAOhJ,IAAR,CACIjR,UAAU,aACVkR,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,IAEZ,0BAAMzQ,UAAU,gEACf2e,GAAiB,4BAAQ3e,UAAU,0BAAlB,KACf2e,GAAgB,yBAAK3e,UAAU,sBAAsBG,QAASqe,GAAmB,uBAAGI,MAAM,wBACzF,yBAAK5e,UAAS,sBAAiB2e,EAAgB,2BAA6B,KAA5E,oLAEI,yBAAK3e,UAAU,mBAAf,qKAEJ,0BAAMA,UAAS,4DAAuD2e,EAAe,4BAA6B,KAC9G,yBAAK3e,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,cAAf,uCACA,yBAAKA,UAAS,0BAAqBke,IAAnC,mIAEJ,2BAAOX,WAAW,EAAMvd,UAAU,OAAOgF,KAAK,OAAO5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAOkG,EAAMrF,SAAUuX,KAEvH,yBAAKlX,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,cAAf,sCACA,yBAAKA,UAAS,0BAAqBoc,IAE1B7Q,EACG,wHAEA,qJAIhB,2BAAOvL,UAAU,QAAQgF,KAAK,QAAQ5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAOyM,EAAO5L,SAAUuX,KAGzG,yBAAKlX,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,+BAAf,6BACA,yBAAKA,UAAS,0BAAqBoe,IAAnC,uGAEJ,2BAAOpe,UAAU,QAAQgF,KAAK,QAAQ5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAO6G,EAAOhG,SAAUuX,MAI7G,0BAAMlX,UAAU,mBAAmBG,QArG/C,WACSme,EAAQtZ,KAGTmZ,EAAwB,cAFxBA,EAAwB,IAIvBG,EAAQ/S,MAGT8Q,EAAyB,cAFzBA,EAAyB,IAIxBiC,EAAQ3Y,MAGT0Y,EAAyB,cAFzBA,EAAyB,MAyFrB,IAAgE,4BAAQre,UAAS,mBAAc2e,EAAe,2BAA4B,IAAMxe,QAxKjI,2CAwKmJ6P,UAAWsO,EAAQ/S,QAAU+S,EAAQ3Y,QAAU2Y,EAAQtZ,MAAzJ,6BAChE,6BACI,kBAACkY,GAAA,EAAD,CACIlD,KAAMA,EACN6E,oBAAqBlB,GACrBmB,aAAW,EACXnE,QAASkC,EACTpC,kBAAgB,2BAChBC,mBAAiB,kCAGjB,kBAAC0C,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmBjd,GAAG,kCAClB,6BACI,iLAGGue,GACC,yBAAK3e,UAAU,QACX,oGACA,kBAAC,KAAD,CAAMA,UAAU,8CAA8C+b,GAAG,UAAjE,0BAQpB,kBAAC0B,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQvd,QAAS0c,EAAatd,MAAM,WAApC,0CC3Ob,IACXwf,MAQH,WACG,OAAOnW,EAAgB,cARvBoW,SAWJ,SAAkBC,GAEd,OADAjc,QAAQC,IAAIgc,GACLrW,EAAgB,YAAaqW,IAZpCC,aAeJ,SAAsBC,GAElB,OADAnc,QAAQC,IAAIkc,GACLvW,EAAgB,iBAAiBuW,IAhBxCC,SAmBH,WACG,OAAQxW,EAAiB,e,OCgJ7B,IAAMgG,GAAqB,CACvByQ,gB5BtGG,SAAyB9G,GAC9B,OAAO,SAAA3O,GACLA,EAIG,SAA0B2O,GAC/B,MAAO,CACL7O,KAAM,qBACN6O,aAPS+G,CAAiB/G,O4BuGjBgH,GAAW7gB,YAAWoC,aAVnC,SAAuBC,GACnB,MAAO,CACHwX,UAAWxX,EAAMgQ,YAAYwH,aAQqB3J,GAAvB9N,EArK5B,SAAmBnC,GAAQ,IAAD,EACaC,IAAMC,UAAS,GAD5B,mBACtB2gB,EADsB,KACPC,EADO,KAG7B,SAASC,IACLC,EAAgB,IAChBzH,YAAW,WACPuH,GAAiB,KAClB,MAGP,SAASG,EAAYC,GAChBzU,EAAQzM,EAAMmB,QAAQC,KAAK8f,GAASlhB,EAAMmB,QAAQC,KAAK,kBAX/B,MAcLlB,mBAASyM,EAAeZ,gBAAgB,cAdnC,mBActBU,EAdsB,aAeCvM,oBAAS,IAfV,mBAetBkN,EAfsB,KAeb+T,EAfa,OAgBKjhB,qBAhBL,mBAgBtBkhB,EAhBsB,KAgBXC,EAhBW,OAiBWnhB,mBAAS,IAjBpB,mBAiBtBohB,EAjBsB,KAiBRN,EAjBQ,KAoD7B,OA9BAzgB,qBAAU,WACN,sBAAC,4BAAA0D,EAAA,0DACOwI,EADP,iCAEsB8U,GAAiBnB,QAFvC,cAGOoB,GADIA,EAFX,QAGe,GAHf,SAImB1T,GAAYV,QAAQX,GAJvC,kCAKe+U,GAAMA,EAAGlB,SAAWkB,EAAGC,aAClBzhB,EAAM4Z,YACPyH,EAAaG,EAAGlB,SAChBQ,GAAiB,GACjBvH,YAAW,WACPyH,EAAgB,iBACjB,KAEHhhB,EAAM0gB,iBAAgB,KAbzC,2BAiBWS,GAAW,IACPK,EAlBf,mDAoBend,QAAQC,IAAI,QACZid,GAAiBd,WArBhC,2CAAD,KA0BD,CAAChU,IAIA,yBAAKpL,UAAU,qBACX,0BAAMA,UAAU,aACZ,yBAAKA,UAAU,cAAcqgB,IAAKC,EAAQ,OACxClV,EACE,yBAAKpL,UAAU,kBAAkBG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,eAC/D,yBAAKC,UAAU,cAAf,IAA6B,uBAAGA,UAAU,qBAC1C,6BAAMoL,EAAKpG,OAGf,yBAAKhF,UAAU,kBAAkBG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,oBAC/D,yBAAKC,UAAU,aAAf,KAA6B,uBAAGA,UAAU,qBAC1C,0DACA,gEAGR,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,gBACf,yBAAKA,UAAU,0BACX,yBAAKI,GAAG,gBAAgBJ,UAAU,iBAAlC,kBACA,yBAAKA,UAAU,qBAAf,0HAGR,yBAAKA,UAAU,2DACX,yBAAKA,UAAU,yCACX,uBAAGA,UAAU,qBAAqBugB,KAAI,mCA1DzC,WA0DyC,MAClC,yBAAKvgB,UAAU,UAAS,uBAAG4e,MAAM,sBAAjC,KADJ,8CAIA,uBAAG5e,UAAU,sBAAsBugB,KAAI,oCA7DzC,aA6DyC,MACnC,yBAAKvgB,UAAU,UAAS,uBAAG4e,MAAM,sBADrC,oDAIA,uBAAG5e,UAAU,iBAAiBugB,KAnElC,qEAoEQ,yBAAKvgB,UAAU,UAAf,IAAyB,uBAAGA,UAAU,iBAD1C,kEAKFoL,IAASW,EAEP,yBAAM/L,UAAU,4CACZ,yBAAKA,UAAU,kBAAkBG,QAAS,kBAAMyf,EAAY,iBACxD,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,uBADrC,qDAIA,yBAAK5e,UAAU,yBAAyBG,QAAS,kBAAMyf,EAAY,wBAC/D,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,uBADrC,qDAIA,uBAAG5e,UAAU,QAAQugB,KAAK,kBACtB,yBAAKvgB,UAAU,UAAS,uBAAGA,UAAU,sBADzC,kEAMJoL,EAEI,yBAAMpL,UAAU,4CACZ,yBAAKA,UAAU,kBAAkBG,QAAS,kBAAMyf,EAAY,oBACxD,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,yBADrC,4BAIA,yBAAK5e,UAAU,yBAAyBG,QAAS,kBAAMyf,EAAY,oBAC/D,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,iBAAjC,KADJ,wCAIA,yBAAK5e,UAAU,yBAAyBG,QAAS,kBAAMyf,EAAY,gBAC/D,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,wBADrC,+CAMJ,yBAAM5e,UAAU,4CACZ,yBAAKA,UAAU,kBAAkBG,QAAS,kBAAMyf,EAAY,iBACxD,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,uBADrC,qDAIA,yBAAK5e,UAAU,yBAAyBG,QAAS,kBAAMyf,EAAY,wBAC/D,yBAAK5f,UAAU,UAAS,uBAAG4e,MAAM,uBADrC,qDAIA,uBAAG5e,UAAU,QAAQugB,KAAK,kBACtB,yBAAKvgB,UAAU,UAAS,uBAAGA,UAAU,sBADzC,mEAOfwf,GACG,oCACI,yBAAKxf,UAAU,kBAAkBG,QAASuf,GAA1C,KACA,yBAAK1f,UAAS,mBAAcigB,IACxB,iCAAOF,GACP,4BAAQ/f,UAAU,eAAeG,QAASuf,GAA1C,2CCxItBtP,I,OAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,EACH8E,UAAW,UAEf7E,IAAK,CACDF,QAAS,EACTC,EAAG,SAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAqVR,IAAM8P,GAAW9hB,aAlVjB,SAAmBC,GAAQ,IAAD,EACSC,IAAMC,SAASyM,EAAeZ,gBAAgB,cADvD,mBACtBsT,EADsB,KACTC,EADS,KAErBjZ,EAAuBgZ,EAAvBhZ,KAAMuG,EAAiByS,EAAjBzS,MAAO5F,EAAUqY,EAAVrY,MAFQ,EAGG9G,mBAAS,IAHZ,mBAGtBqd,EAHsB,KAGZC,EAHY,OAIGtd,mBAAS,IAJZ,mBAItBwM,EAJsB,KAIZoV,EAJY,OAK2B5hB,mBAAS,cALpC,mBAKtBqf,EALsB,KAKAC,EALA,OAM6Btf,mBAAS,cANtC,mBAMtBud,EANsB,KAMCC,EAND,OAO6Bxd,mBAAS,cAPtC,mBAOtBuf,EAPsB,KAOCC,EAPD,OAQCxf,mBAC1B,CACImG,MAAM,EACNuG,OAAO,EACP5F,OAAO,IAZc,mBAQtB2Y,EARsB,KAQbC,EARa,KAyC7B,SAASrH,EAAT,GAAmC,IAAXjJ,EAAU,EAAVA,OACduO,EAAQvO,EAAOjJ,KACflG,EAAQmP,EAAOnP,MACrB,OAAQ0d,GACJ,IAAK,OAEDyB,EAAe,2BAAKD,GAAN,IAAmBhZ,KAAMlG,KACvC,MACJ,IAAK,QACDmf,EAAe,2BAAKD,GAAN,IAAmBzS,MAAOzM,KAExC,MACJ,IAAK,QACDmf,EAAe,2BAAKD,GAAN,IAAmBrY,MAAO7G,KAExC,MACJ,IAAK,WACDqd,EAAYrd,GACZ,MACJ,QACIkE,QAAQC,IAAI,kCA7DK,4CAiG7B,sBAAAL,EAAA,sEAEgB6J,GAAYV,QAAQiS,EAAY3S,GAFhD,iCAGQoB,GAAYtB,WAAW6S,GACvBrf,EAAMmB,QAAQC,KAAK,KAJ3B,sBAOQ0c,IAPR,4CAjG6B,sBAgB7Bvd,qBAAU,WACNuhB,EAAYzC,EAAYzS,SACzB,IAEHrM,qBAAU,YA8CV,WACI,IAAIuf,GAAe,EACf9Y,IACA8Y,EAAejV,EAAa3D,cAAcF,IAE9C4Y,EAAW,CACPvZ,KAAOA,EAAKD,OAAS,EACrBwG,MAASA,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,GAC9CY,MAAO8Y,IArDXC,KACD,CAACV,IAGJ9e,qBAAU,WACF8F,GAAMmZ,EAAwB,gBACnC,CAACnZ,IAEJ9F,qBAAU,WACDqM,EAAMxG,OAAS,GAAOwG,EAAMxG,OAAS,IACtCsX,EAAyB,gBAE9B,CAAC9Q,IAEJrM,qBAAU,WACFsK,EAAa3D,cAAcF,IAC3B0Y,EAAyB,gBAE9B,CAAC1Y,IAvCyB,MA4GL/G,IAAMC,UAAS,GA5GV,mBA4GtBmb,EA5GsB,KA4GhBC,EA5GgB,OA6GSrb,IAAMC,SAAS,4DA7GxB,mBA6GtB8d,EA7GsB,KA6GTC,EA7GS,KA+GvBH,EAAkB,WACpBxC,GAAQ,IAGN4C,EAAc,SAACC,GACH,UAAVA,EAzIU,SA2INZ,GACAjC,GAAQ,GACRxN,GAAYtB,WAAW6S,GACvBrf,EAAMmB,QAAQC,KAAK,MAGnB6c,EAAe,6DAInB3C,GAAQ,GACR2C,EAAe,6DAjIM,EAwIa/d,oBAAS,GAxItB,mBAwItB6hB,GAxIsB,KAwIPC,GAxIO,QAyIe9hB,oBAAS,GAzIxB,qBAyItB+hB,GAzIsB,MAyINC,GAzIM,SA0ImBhiB,mBAAS,sBA1I5B,qBA0ItBiiB,GA1IsB,MA0IJC,GA1II,MA2IvBC,GAAYC,iBAAO,MACzB/hB,qBAAU,WACFwhB,KAEAQ,IAAkB,GAClBC,IAAmB,GACnBC,GAAqB,sBAErBC,IAAkB,GAClBC,IAAmB,GACnBC,GAAqB,sBACrBP,GAAUlL,QAAQ0L,WAEvB,CAACd,KAxJyB,OA0Je7hB,oBAAS,GA1JxB,qBA0JtB4iB,GA1JsB,MA0JNP,GA1JM,SA2JiBriB,oBAAS,GA3J1B,qBA2JtB6iB,GA3JsB,MA2JLP,GA3JK,SA4JqBtiB,mBAAS,sBA5J9B,qBA4JtB8iB,GA5JsB,MA4JHP,GA5JG,MA6JvBQ,GAAaX,iBAAO,MAC1B/hB,qBAAU,WACFuiB,KAEAd,IAAiB,GACjBE,IAAkB,GAClBE,GAAoB,sBAEpBM,IAAkB,GAClBC,IAAmB,GACnBC,GAAqB,sBACrBK,GAAW9L,QAAQ0L,WAExB,CAACC,KA1KyB,OA4Ke5iB,oBAAS,GA5KxB,qBA4KtBgjB,GA5KsB,MA4KNR,GA5KM,SA6KiBxiB,oBAAS,GA7K1B,qBA6KtBijB,GA7KsB,MA6KLR,GA7KK,SA8KqBziB,mBAAS,sBA9K9B,qBA8KtBkjB,GA9KsB,MA8KHR,GA9KG,MA+KvBS,GAAaf,iBAAO,MAC1B/hB,qBAAU,WACF2iB,KAEAX,IAAkB,GAClBC,IAAmB,GACnBC,GAAqB,sBAErBT,IAAiB,GACjBE,IAAkB,GAClBE,GAAoB,sBACpBiB,GAAWlM,QAAQ0L,WAExB,CAACK,KAGJ,IAAMI,GAAgB,SAACnjB,GACL,SAAVA,IACA6hB,IAAkBD,IAClBG,IAAmBD,IAEfG,GADqB,wBAArBD,GACoB,qBAEA,wBAGd,UAAVhiB,IACAoiB,IAAmBO,IACnBN,IAAoBO,IAEhBN,GADsB,wBAAtBO,GACqB,qBAEA,wBAGf,UAAV7iB,IACAuiB,IAAmBQ,IACnBP,IAAoBQ,IAEhBP,GADsB,wBAAtBQ,GACqB,qBAEA,yBAWjC,OACI,kBAAC,KAAO9Q,IAAR,CACIC,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,GACZrR,MAAO,CAAEC,MAAO,OAAQ6Q,OAAQ,SAEhC,0BAAMlQ,UAAU,+DACZ,yBAAKA,UAAU,0DAA0DG,QAfrF,WACImL,EAAeT,kBAAkB,aACjClM,EAAMmB,QAAQC,KAAK,OAcP,uBAAG6e,MAAM,wBACT,gEAEJ,yBAAK5e,UAAU,eAAf,gMAEI,yBAAKA,UAAU,mBAAf,qKAEJ,0BAAMA,UAAU,qDACZ,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,cAAf,uCACA,yBAAKA,UAAS,0BAAqBke,IAAnC,mIAEJ,yBAAKle,UAAS,+BAA0B8gB,GAA1B,sCACV,2BAAO9gB,UAAU,uBAAuBgQ,SAAU4Q,GAAgB/C,IAAKmD,GAAWhc,KAAK,OAAO5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAOkG,EAAMrF,SAAUuX,IAEvJwJ,GACG,uBAAG1gB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,WAElE,uBAAGjiB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,aAIlF,yBAAKjiB,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,cAAf,sCACA,yBAAKA,UAAS,0BAAqBoc,IAE1B7Q,EACG,wHAEA,qJAIhB,yBAAKvL,UAAS,+BAA0B2hB,GAA1B,sCACV,2BAAO3hB,UAAU,wBAAwBgQ,SAAU0R,GAAiB7D,IAAK+D,GAAY5c,KAAK,QAAQ5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAOyM,EAAO5L,SAAUuX,IAE5JuK,GACG,uBAAGzhB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,YAElE,uBAAGjiB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,cAIlF,yBAAKjiB,UAAU,mBACX,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,+BAAf,6BACA,yBAAKA,UAAS,0BAAqBoe,IAAnC,uGAEJ,yBAAKpe,UAAS,+BAA0B+hB,GAA1B,sCACV,2BAAO/hB,UAAU,wBAAwBgQ,SAAU8R,GAAiBjE,IAAKmE,GAAYhd,KAAK,QAAQ5E,GAAG,iBAAiBsX,QAAQ,WAAW5Y,MAAO6G,EAAOhG,SAAUuX,IAE5J2K,GACG,uBAAG7hB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,YAElE,uBAAGjiB,UAAU,wBAAwBG,QAAS,kBAAM8hB,GAAc,eAMtF,0BAAMjiB,UAAU,mBAAmBG,QA9N/C,WACSme,EAAQtZ,KAGTmZ,EAAwB,cAFxBA,EAAwB,IAIvBG,EAAQ/S,MAGT8Q,EAAyB,cAFzBA,EAAyB,IAIxBiC,EAAQ3Y,MAGT0Y,EAAyB,cAFzBA,EAAyB,MAkNrB,IAAgE,4BAAQre,UAAU,WAAWG,QA5S5E,2CA4S8F6P,UAAWsO,EAAQ/S,QAAU+S,EAAQ3Y,QAAU2Y,EAAQtZ,MAAtG,6BAEhE,6BACI,kBAACkY,GAAA,EAAD,CAAQlD,KAAMA,EAAMW,QAAS,kBAAMkC,EAAY,UAAUpC,kBAAgB,qBACrE,kBAAC0C,GAAA,EAAD,CAAa/c,GAAG,qBAAhB,IAAsCuc,GACtC,kBAACS,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,gEAGA,kBAACC,GAAA,EAAD,CACIC,WAAS,EACTzF,OAAO,QACP1X,GAAG,OACHF,MAAM,iCACNwJ,KAAK,QACL8T,WAAS,EACT1e,MAAOod,EACPvc,SAAUuX,EACVlS,KAAK,cAGb,kBAACyY,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQvd,QAAS,kBAAM0c,EAAY,UAAUtd,MAAM,WAAnD,sBAGA,kBAACme,GAAA,EAAD,CAAQvd,QAAS0c,EAAatd,MAAM,WAApC,8B,OCtS5B,IAGa2iB,GAAYphB,aARzB,SAAuBC,GACnB,MAAO,KAIgB,GAGFD,EAjElB,SAAoBnC,GAAQ,IAAD,EAEkBE,mBAAS,IAF3B,mBAEvBsjB,EAFuB,KAELC,EAFK,OAIMvjB,mBAAS,IAJf,mBAIvBuhB,EAJuB,KAIXiC,EAJW,KAwB9B,SAASnD,IACLlc,QAAQC,IAAImd,GACZF,GAAiBhB,aAAa,CAACkB,YAAYA,IAC3CiC,GAAejC,GAGnB,OAxBAlhB,qBAAU,WACN,sBAAC,4BAAA0D,EAAA,sEACkBsd,GAAiBnB,QADnC,OACOoB,EADP,OAEGkC,EAAclC,EAAG,GAAGC,YACpBgC,EAAoBjC,EAAG,GAAGlB,SAH7B,0CAAD,KAKD,IAmBC,0BAAMjf,UAAU,qBAER,yBAAKA,UAAU,YAAf,iKAGAogB,EACA,yBAAKpgB,UAAU,yBAAf,gKACA,yBAAKA,UAAU,yBAAf,oJAEA,yBAAKA,UAAU,sBACX,8BAAUA,UAAU,cAAcsiB,KAAK,KAAKC,KAAK,KAAKzjB,MAAOqjB,EAAkBxiB,SA1B/F,YAAmC,IAAXsO,EAAU,EAAVA,OACpBjL,QAAQC,IAAIgL,EAAOnP,OACnBsjB,EAAoBnU,EAAOnP,UAyBf,yBAAKkB,UAAU,gCAEPogB,EACA,4BAAQpgB,UAAU,qBAAqBG,QAAS+e,GAAhD,4DAEA,4BAAQlf,UAAU,oBAAoBG,QAAS+e,GAA/C,8DAIhB,4BAAQlf,UAAU,iBAAiBG,QA/B3C,WACI+f,GAAiBlB,SAAS,CAAEmD,uBA8BxB,yD,OC6BZ,IAAMvT,GAAqB,CACvBpC,aACAG,eACAG,yBAES0V,GAAgB1hB,aAV7B,SAAuBC,GACnB,MAAO,CACH0K,MAAO1K,EAAMgQ,YAAYtF,SAQmBmD,GAAvB9N,EArFtB,SAAwBnC,GAAQ,IAAD,EACEE,mBAAS,IADX,mBAC3B4jB,EAD2B,KACfC,EADe,OAEA7jB,mBAAS,IAFT,mBAE3Bsc,EAF2B,KAEhBwH,EAFgB,OAG4B9jB,oBAAS,GAHrC,mBAG3B+jB,EAH2B,KAGFC,EAHE,KAyBlC,OArBA3jB,qBAAU,WACNP,EAAM6N,cACP,CAAC7N,EAAM6N,YAoBN,0BAAMxM,UAAU,kBACJ4iB,GACA,oCACI,yBAAK5iB,UAAU,eAAeG,QAXlD,WACI0iB,GAA2B,MAYX,yBAAK7iB,UAAU,qBACV,4BAAQA,UAAU,gCACnB,kBAAC,GAAD,CAAmBmb,UAAWA,MAI9C,yBAAKnb,UAAU,0CACX,2BAAOA,UAAU,8BAA8B8iB,YAAY,uGAAuB9d,KAAK,OAAOlG,MAAO2jB,EAAY9iB,SA/B7H,YAAmC,IAAXsO,EAAU,EAAVA,OACduO,EAAQvO,EAAOjJ,KACflG,EAAQmP,EAAOnP,MACrB,OAAQ0d,GACJ,IAAK,OACDkG,EAAc5jB,GACd,MACJ,QACIkE,QAAQC,IAAI,qCAwBZ,uBAAGjD,UAAU,kBACb,yBAAKG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,MAAMK,GAAG,OAAOJ,UAAU,QAAjE,QAA6E,uBAAGA,UAAU,mBAE9F,yBAAKA,UAAU,8BAAf,mOAEI,+PAEJ,yBAAKA,UAAU,oCACX,yBAAKA,UAAU,4BAENrB,EAAM8M,OACP9M,EAAM8M,MAAMnK,KAAI,SAAC8J,EAAMtG,GACnB,OACKsG,EAAKpG,KAAKgC,SAASyb,IAAerX,EAAKG,MAAMvE,SAASyb,MACrDrX,EAAKW,SAEP,yBAAK/L,UAAS,kDAAsD0B,IAAKoD,GACrE,yBAAK9E,UAAU,uBAAuBoL,EAAKpG,MAC3C,yBAAKhF,UAAU,8BACX,yBAAKA,UAAU,qBAAqBG,QAAS,kBArCjF,SAA8Bgb,GAC1BwH,EAAaxH,GACb0H,GAA2B,GAmCwDE,CAAqB3X,EAAKG,SAAQ,uBAAGqT,MAAM,2BAC9F,uBAAG5e,UAAU,0BAA0BugB,KAAI,kDAA6CnV,EAAKG,MAAMlH,MAAM,EAAE+G,EAAKG,MAAMxG,UAClH,6BAAK,uBAAG6Z,MAAM,qBAElB,uBAAG5e,UAAU,uBAAwBugB,KAAI,cAASnV,EAAKG,QAClD,6BAAM,uBAAGqT,MAAM,kC,OC0B5D,IAAMhQ,GAAqB,CACvBpC,aACAG,eACAG,wBACAG,mCAGS+V,GAAWliB,aAdxB,SAAuBC,GACnB,MAAO,CACH0K,MAAO1K,EAAMgQ,YAAYtF,MACzByB,yBAA0BnM,EAAMgQ,YAAY7D,4BAWL0B,GAAvB9N,EAhGjB,SAAmBnC,GAAQ,IAAD,EACOC,IAAMC,SAAS,IADtB,mBACtB4jB,EADsB,KACVC,EADU,KA6C7B,OA1CAxjB,qBAAU,WACNP,EAAM6N,cACP,CAAC7N,EAAM6N,YAyCN,0BAAMxM,UAAU,2BACZ,yBAAKA,UAAU,4CACX,2BAAOA,UAAU,eAAe8iB,YAAY,iGAAsB9d,KAAK,OAAOlG,MAAO2jB,EAAY9iB,SAzC7G,YAAmC,IAAXsO,EAAU,EAAVA,OACduO,EAAQvO,EAAOjJ,KACflG,EAAQmP,EAAOnP,MACrB,OAAQ0d,GACJ,IAAK,OACDkG,EAAc5jB,GACd,MACJ,QACIkE,QAAQC,IAAI,qCAkCZ,uBAAGjD,UAAU,mBAEjB,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,gCAAgCG,QAZ/D,WACIxB,EAAMmB,QAAQC,KAAK,oCAYH,yBAAKC,UAAU,iDAAgD,uBAAG4e,MAAM,uBAAyB,8EAGhGjgB,EAAM8M,OACP9M,EAAM8M,MAAMnK,KAAI,SAAC8J,EAAMtG,GACnB,OACKsG,EAAKpG,KAAKgC,SAASyb,IAAerX,EAAKG,MAAMvE,SAASyb,MACrDrX,EAAKW,SAEP,yBAAK/L,UAAS,yBAAqBoL,EAAKQ,SAAY,eAAiB,GAAvD,qCAA8FzL,QAAS,kBA7CjJ,SAAyB8iB,GACrB,IAAIxX,EAAQ9M,EAAM8M,MAAMpH,QAEpBoH,EADAwX,EAAYrX,SACJH,EAAMnK,KAAI,SAAA8J,GAGd,OAFAA,EAAKQ,UAAW,EAChBjN,EAAMmO,qBAAqB,MACpB1B,KAGHK,EAAMnK,KAAI,SAAA8J,GACd,OAAIA,EAAK/F,MAAQ4d,EAAY5d,KACzB+F,EAAKQ,UAAW,EAChBjN,EAAMmO,qBAAqB1B,GACpBA,IAEPA,EAAKQ,UAAW,EACTR,MAInBzM,EAAMgO,YAAYlB,GAyBiIyX,CAAgB9X,IAAO1J,IAAKoD,GACnJ,yBAAK9E,UAAU,0CAENoL,EAAKQ,UAAa,uBAAGgT,MAAM,kBAGpC,yBAAK5e,UAAU,uBAAuBoL,EAAKpG,MAC3C,yBAAKhF,UAAU,wBAAwBoL,EAAKG,iB,OC7ChF,IAIa4X,GAAqBriB,aAVlC,SAAuBC,GACnB,MAAO,KAKgB,GAIOD,EA9B3B,SAA6BnC,GAEhC,OACI,oCACI,0BAAMqB,UAAU,+EAChB,4BAAQA,UAAU,wCACd,yBAAKA,UAAU,iDACX,yBAAKA,UAAU,sDAAsDG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,6BACnG,kHAEJ,yBAAKC,UAAU,mDAAmDG,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,+BAChG,qIAGZ,4BAAQC,UAAU,6C,OC0D9B,IAAM4O,GAAqB,CACvBsG,sBACAkO,kBpBkBG,SAA2BtO,GAC/B,OAAQ,SAAAlL,GAAcA,EAKlB,SAA4BkL,GAC/B,MAAO,CACLpL,KAAM,uBACNoL,eAR4BuO,CAAmBvO,OoBhBxCwO,GAAaxiB,aAZ1B,SAAuBC,GACnB,MAAO,CACHoU,kBAAmBpU,EAAM0V,gBAAgBtB,kBACzCrB,oBAAqB/S,EAAM0V,gBAAgB3C,uBASFlF,GAAvB9N,EA5EnB,SAAqBnC,GAExB,SAASukB,EAAgBK,GACrB,IAAIC,EAAa7kB,EAAMwW,kBAAkB9Q,QAErCmf,EADAD,EAAiB3X,SACJ4X,EAAWliB,KAAI,SAAAmiB,GAGxB,OAFAA,EAAU7X,UAAW,EACrBjN,EAAMykB,kBAAkB,MACjBK,KAGE9kB,EAAMwW,kBAAkB7T,KAAI,SAAAmiB,GACrC,OAAIA,EAAU/c,MAAQ6c,EAAiB7c,KACnC+c,EAAU7X,UAAW,EACrBjN,EAAMykB,kBAAkBK,GACjBA,IAEPA,EAAU7X,UAAW,EACd6X,MAInB9kB,EAAMuW,mBAAmBsO,GAG7B,OACI,0BAAMxjB,UAAU,wBACZ,4BAAQA,UAAU,gCAClB,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,mBAENrB,EAAMwW,mBACPxW,EAAMwW,kBAAkB7T,KAAI,SAACmiB,EAAW3e,GACpC,OACKnG,EAAMmV,qBAAgC,IAARhP,EAE3B,yBAAK9E,UAAS,yBAAqByjB,EAAU7X,SAAY,eAAiB,GAA5D,qCAAmGzL,QAAS,kBAAM+iB,EAAgBO,IAAY/hB,IAAKoD,GAC7J,yBAAK9E,UAAU,0CAENyjB,EAAU7X,UAAa,uBAAGgT,MAAM,kBAGzC,qIAGJ,yBAAK5e,UAAS,yBAAqByjB,EAAU7X,SAAY,eAAiB,GAA5D,qCAAmGzL,QAAS,kBAAM+iB,EAAgBO,IAAY/hB,IAAKoD,GAC7J,yBAAK9E,UAAU,0CAENyjB,EAAU7X,UAAa,uBAAGgT,MAAM,kBAGzC,yBAAK5e,UAAU,sBAAsByjB,EAAU/c,KAC/C,yBAAK1G,UAAU,cAAf,KACA,yBAAKA,UAAU,wBAAwByjB,EAAUhd,iB,OC9BzF,IAIaid,GAAoB5iB,aAVjC,SAAuBC,GACrB,MAAO,CACL+T,YAAa/T,EAAM0V,gBAAgB3B,eAIZ,GAIMhU,EA3B1B,SAA4BnC,GACjC,OACE,oCACE,4BAAQqB,UAAU,sCAAlB,uIAGA,0BAAMA,UAAU,gEACd,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,eAAf,iEACA,yBAAKA,UAAU,eAAf,0CAAuCwJ,EAAavE,6BAA6BtG,EAAMmW,YAAYpP,OACnG,yBAAK1F,UAAU,eAAf,uDAA0CrB,EAAMmW,YAAYpO,IAA5D,MAAoE/H,EAAMmW,YAAYrO,a,OCqDhG,IAIakd,GAAc7iB,aAZ3B,SAAuBC,GACnB,MAAO,CACHmO,sBAAuBnO,EAAM+N,iBAAiBI,sBAC9C/E,kBAAmBpJ,EAAM+N,iBAAiB3E,kBAC1ChG,SAAUpD,EAAM+N,iBAAiB3K,YAId,GAIArD,EAlE3B,SAAsBnC,GAClB,IAAMK,EAAWC,cA4BjB,OACI,4BAAQe,UAAU,2BAA2BG,QAAS,kBAAMxB,EAAMilB,iBAAiBjlB,EAAMwF,WACrF6L,SA7BR,WACI,IACIsO,GAAU,EACd,OAFatf,EAASG,UAGlB,IAAK,0BACDmf,EAAU3f,EAAM0Q,UAChB,MACJ,IAAK,4BACDiP,GAAY3f,EAAMuQ,yBAA6BvQ,EAAMwF,UAAYxF,EAAMwL,mBACvE,MACJ,IAAK,sBACDmU,GAAU,EACV,MACJ,IAAK,4BACDA,EAAU3f,EAAM0Q,UAChB,MACJ,IAAK,mCACDiP,GAAU,EACV,MACJ,IAAK,oCACDA,GAAU,EACV,MACJ,QACItb,QAAQC,IAAI,wCAEpB,OAAOqb,EAIOuF,IAEiB,4BAAtB7kB,EAASG,SACN,qIAEuB,8BAAtBH,EAASG,SAEN,6EAEuB,8BAAtBH,EAASG,SAEN,4GAEuB,sCAAtBH,EAASG,SAEN,GAEA,qCCb1Bwe,I,OAAa/e,IAAMgf,YAAW,SAAoBjf,EAAOkf,GAC3D,OAAO,kBAACC,GAAA,EAAD,eAAO3N,QAAS,IAAM/C,UAAU,OAAOyQ,IAAKA,GAASlf,QAI1DyR,GAAe,CACjBC,GAAI,CACAC,QAAS,EACTC,EAAG,EACH8E,UAAW,UAEf7E,IAAK,CACDF,QAAS,EACTC,EAAG,QAILE,GAAiB,CACnBtM,SAAU,GACVuF,KAAM,SACNgH,UAAW,IAKT4E,GAAgBhV,YAAe,CACjCiV,UAAW,CACPC,kBAAmB,CACfC,QAAS,CACLC,gBAAiB,YAMzBC,cAAe,CACX1N,IAAK,CACD1I,MAAO,SAEXqW,YAAa,CACTF,gBAAiB,WAErBG,YAAa,CACTtW,MAAO,WAEXuW,QAAS,CACLvW,MAAO,eAsavB,IAAMqP,GAAqB,CACvBkV,uBxCpXG,SAAgC3Z,GACrC,8CAAO,WAAMP,GAAN,SAAAhH,EAAA,+EAGHgH,EAASM,EAAwBC,IAH9B,sDAKHnH,QAAQC,IAAI,kCAAZ,MALG,wDAAP,uDwCoXE0G,eACAuL,sBACA6O,0BvBnZG,SAAmCjQ,GACvC,OAAQ,SAAAlK,GAAcA,EAKlB,SAAoCkK,GACvC,MAAO,CACLpK,KAAM,gCACNoK,uBAR4BkQ,CAA2BlQ,MuBmZzD7G,mCAGSgX,GAAgBnjB,aAnB7B,SAAuBC,GACnB,MAAO,CACH0K,MAAO1K,EAAMgQ,YAAYtF,MACzBsB,eAAgBhM,EAAMgQ,YAAYhE,eAClCzH,WAAYvE,EAAM+N,iBAAiBxJ,WACnC2D,UAAWlI,EAAM+N,iBAAiB7F,UAClCkM,kBAAmBpU,EAAM0V,gBAAgBtB,kBACzCL,YAAa/T,EAAM0V,gBAAgB3B,eAYSlG,GAAvB9N,EAvatB,SAAwBnC,GAE3B,IAAMK,EAAWC,cAEXilB,EAAa,CACfzd,MAAO,uBACPC,IAAK,wBANyB,EAQO7H,mBAAS,IAAIwH,MARpB,mBAQ3BqQ,EAR2B,KAQbC,EARa,OASI9X,mBAAS,IATb,mBAS3BsH,EAT2B,KASdge,EATc,OAUEtlB,mBAAS,IAVX,gCAWOA,mBAuI9B2K,EAAa9F,wBAAwB,CAACwgB,GAAa,MAlJ5B,mBAW3B1S,EAX2B,aAYA3S,oBAAS,IAZT,mBAY3BwQ,EAZ2B,KAYhB2B,EAZgB,OAaEnS,mBAAS,IAbX,mBAa3BulB,EAb2B,KAafC,EAbe,OAcRxlB,mBAAS2K,EAAatC,eAAc,IAAIb,MAAOie,WAAa,IAdpD,mBAc3Btc,EAd2B,KAcpBuc,EAdoB,OAeY1lB,mBAAQ,sBAAC,sBAAA+D,EAAA,sEACtC4hB,IADsC,oFAfrB,mBAe3BC,EAf2B,KAeVC,EAfU,OAkBU7lB,oBAAS,WACjD,OAAO8lB,EAAcjO,MAnBS,mBAkB3BkO,EAlB2B,KAkBXC,EAlBW,OAqBNhmB,oBAAS,GArBH,mBAqB3B+X,EArB2B,KAqBnBC,EArBmB,KAsB9BpD,EAAQ,GACRqR,EAAY,GAgGhB,SAASH,EAAcjf,GACnB,IAAMqf,EAAOvb,EAAavD,4BAA4BP,EAAKU,SAAW,EAAGV,GAEzE,OADAye,EAAeY,GACRA,EAAKzjB,KAAI,SAAA2G,GACZ,OAAOA,EAAIxB,MAAMpC,MAAM,EAAG,OA3HA,SAqJnBmgB,IArJmB,2EAqJlC,wCAAA5hB,EAAA,6DAA+B8C,EAA/B,+BAAsC,IAAIW,KAA1C,SACiB2e,QAAQC,IAAKzb,EAAavD,4BAA4BP,EAAKU,SAAW,EAAGV,GAAOpE,IAApE,uCAAwE,WAAMkF,GAAN,SAAA5D,EAAA,sEAChFwT,GAAgBtD,sBAAsBtM,GAD0C,mFAAxE,wDAD7B,oFArJkC,+BA2JnB0Q,GA3JmB,iFA2JlC,WAA4BxR,GAA5B,eAAA9C,EAAA,6DACIiiB,EAAkBF,EAAcjf,IAChC6e,EAAS/a,EAAatC,cAAcxB,EAAK4e,WAAa,IACtDQ,EAAY,GACZjO,GAAU,GAJd,SAK+B2N,EAAgB9e,GAL/C,QAKUsN,EALV,SAOQ6D,GAAU,GAEd6N,EAAmB1R,GACnB2D,EAAiBjR,GAVrB,6CA3JkC,sBAwBlCxG,qBAAU,WACN,sBAAC,4BAAA0D,EAAA,6DACO4O,GAAWxO,QAAQC,IAAIuO,GAD9B,SAE4BiT,EAF5B,WAEOzR,EAFP,SAGqB6D,GAAU,IACxB7D,IAAgBxB,EAJvB,uBAKOiC,EAAQ2C,GAAgBrD,iBAAiBvB,EAAWwB,GAL3D,kBAMcqR,EACH7S,EAAUlQ,KAAI,SAACmQ,EAAIyB,GACf,GAAIA,IAAU1B,EAAUzM,OAAS,EACjC,OAAO,wBAAIrD,IAAKwR,GACZ,wBAAIlT,UAAU,YAAYyR,GAEtBuB,EAAa1R,KAAI,SAAC6R,EAAaC,GAE3B,IAAI8R,EAAU,EACd,GAAI/R,EAAYpO,OAAQ,CACpB,IAAIogB,GAAiB,EACrB,OAAOhS,EAAY7R,KAAI,SAACgS,EAAIC,GACxB,IAAI6R,EAAahS,EAAW,IAAM,EAAK,aAAe,YAClD8R,EAAU,IAAGA,EAAU,GAC3B,IAAMG,EAAQ7b,EAAa7C,iBAAiB8K,EAAI6B,EAAG7M,MAAO6M,EAAG5M,IAAK,IAClE,OAAI2e,EAAMte,UACNoe,GAAiB,EACZL,EAAU9d,SAASsM,EAAGlT,IAgBb,IAfV0kB,EAAU/kB,KAAKuT,EAAGlT,IACX,wBAAIJ,UAAS,wBAAgC,kBAAZsT,EAAGtO,KAA4B,eAAiB,GAApE,YAA0EogB,EAA1E,YAAwFF,GAAYxjB,IAAK6R,EAAUpT,QAAS,kBAAMsc,GAAgBnJ,IAAKgS,QAASD,EAAMpe,SACtL,yBAAKjH,UAAU,yBACX,yBAAKA,UAAU,cAAesT,EAAG7M,MAAOpC,MAAM,GAAI,IAAlD,IAAyDiP,EAAG5M,IAAKrC,MAAM,GAAI,KAC7D,kBAAZiP,EAAGtO,KAED,yDAIA,yBAAKhF,UAAU,cAAcsT,EAAGtO,UAO1CmO,EAAYpO,SAAWwO,EAAW,GAAQ4R,OAGpDD,IAFW,wBAAIllB,UAAU,iBAAiB0B,IAAK6R,EAAUpT,QAAS,kBAAMolB,GAAsB,CAAErS,QAAOE,YAAY3B,KAAM,uBAAGzR,UAAU,oBAM1I,OAAO,wBAAI0B,IAAK0R,EAAUpT,UAAU,iBAAiBG,QAAS,kBAAMolB,GAAsB,CAAErS,QAAOE,YAAY3B,GAAI,KAAQ,uBAAGzR,UAAU,0BAhDvK,0CAAD,KAyDD,CAACykB,IAEJvlB,qBAAU,YAKV,WAC8B,4BAAtBF,EAASG,UACT6R,GAAerS,EAAM8M,MAAMmQ,MAAK,SAAAxQ,GAAI,OAAIA,EAAKQ,aAEvB,8BAAtB5M,EAASG,UACT6R,GAAerS,EAAMwW,kBAAkByG,MAAK,SAAAlU,GAAE,OAAIA,EAAGkE,aATzD4Z,KACD,CAAC7mB,EAAM8M,MAAO9M,EAAMwW,oBAtFW,OA4LNtW,oBAAS,GA5LH,qBA4L3B4mB,GA5L2B,MA4LnBC,GA5LmB,SA6LV9mB,IAAMC,UAAS,GA7LL,qBA6L3Bmb,GA7L2B,MA6LrBC,GA7LqB,SA8LQrb,IAAMC,SAAS,IA9LvB,qBA8L3B8mB,GA9L2B,MA8LXC,GA9LW,SA+LMhnB,IAAMC,SAAS,IA/LrB,qBA+L3BgnB,GA/L2B,MA+LbC,GA/La,MAiM5BrJ,GAAe,uCAAG,WAAOnJ,GAAP,eAAA1Q,EAAA,4DACJ,kBAAZ0Q,EAAGtO,KAA0B8gB,IAAgB,GAC5CA,IAAgB,GAFD,SAGKlR,GAAa3C,+BAA+BqB,EAAGlT,IAHpD,OAGd2lB,EAHc,OAIpB/iB,QAAQC,IAAI8iB,GACZH,GAAgB,CAAEI,MAAOD,EAAW1gB,IAAKgT,SAAU/E,EAAGlT,KACtD4C,QAAQC,IAAIqQ,EAAGlT,IACf6Z,IAAQ,GAPY,2CAAH,sDAUf4C,GAAc,SAACoJ,GACjBhM,IAAQ,GACJgM,IA7EJvB,EAAkB,sBAAC,sBAAA9hB,EAAA,sEACF4hB,EAAgB9N,GADd,oFAGnBN,GAAgBvD,wBAAwB8S,GAAetN,UAEvDzD,GAAaxC,kBAAkBuT,GAAeK,SArIhB,8CAiNlC,WAA8B7hB,GAA9B,uBAAAvB,EAAA,6DACUsX,EAAmB3L,EAAiBlF,uBAAuB1K,EAAM2G,YAD3E,EAEmC3G,EAAMoO,eAA7BxB,EAFZ,EAEYA,MAAO5F,EAFnB,EAEmBA,MAAOX,EAF1B,EAE0BA,KAF1B,SAGUoR,GAAgBvG,eAAeqK,EAAkB/V,EAAUoH,EAAO5F,EAAOX,EAAMrG,EAAMsK,WAH/F,mBAIIyb,EAJJ,SAI6BF,EAAgB9N,GAJ7C,8EAjNkC,oEAwNlC,sBAAA9T,EAAA,sEACUwT,GAAgBjC,eAAexV,EAAMmW,aAD/C,mBAEI4P,EAFJ,SAE6BF,EAAgB9N,GAF7C,8EAxNkC,sBA6NlC,IAAIwP,GApFJ,SAA6BxgB,GACrB,IAAMqf,EAAOvb,EAAavD,4BAA4BP,EAAKU,SAAW,EAAGV,GACnEuQ,EAAWzM,EAAavE,6BAA6B8f,EAAK,GAAGte,MAAMpC,MAAM,EAAG,KAElF,MAAO,CAAE8hB,QADO3c,EAAavE,6BAA6B8f,EAAKA,EAAKhgB,OAAS,GAAG0B,MAAMpC,MAAM,EAAG,KAC7E4R,YAgFRmQ,CAAoB1P,GA7NJ,GA8N4B9X,IAAMC,UAAS,GA9N3C,qBA8N3B+jB,GA9N2B,MA8NFC,GA9NE,MAgOlC,SAAS0C,GAAsB7R,EAASjC,GAAkC,IAA9BqC,EAA6B,wDACrEnV,EAAMolB,0BAA0BjQ,GAChC,IAAMuS,EAAkBlgB,EAAYuN,EAAQN,UAAU3M,MACtD9H,EAAMgL,aAAa,CACfzF,KAAMuN,EACN/L,KAAM2gB,EAAgBhiB,MAAM,EAAG,MAEnC,IAAM8F,EAAoBiM,GAAgB5C,oBAAoBC,EAAOC,GACrE/U,EAAMmlB,uBAAuB3Z,GAC7BxL,EAAMuW,mBAAmBkB,GAAgBvC,gBAAgBrC,EAAWC,EAAItH,EAAmBkc,EAAgBhiB,MAAM,EAAG,IAAKyP,IACzH+O,IAA2B,GAC3BlkB,EAAMmB,QAAQC,KAAK,qCAGvB,SAASumB,KACLzD,IAA2B,GAC3BlkB,EAAMsO,+BAA+B,IACrCqN,GAAanB,UACbxa,EAAMmB,QAAQC,KAAK,kBAEvB,IAAIwa,GAA6C,wBAAtBvb,EAASG,SAOpC,OACI,kBAAC,KAAO8R,IAAR,CACIC,QAAQ,MACRC,KAAK,KACLC,QAAQ,KACRC,SAAUjB,GACVkB,WAAYb,GACZrR,MAAO,CAAEC,MAAO,OAAQ6Q,OAAQ,SAEhC,0BAAMlQ,UAAU,4BACZ,yBAAKA,UAAU,8DACX,yBAAKA,UAAU,yDAAyDG,QAAS,kBAAMulB,IAAU,KAC7F,uBAAG1lB,UAAU,uCACb,yBAAKA,UAAU,qBAAqBkmB,GAAYjQ,SAAS,6BAAOiQ,GAAYC,QAA5E,MAEJ,yBAAK/lB,GAAG,QAAQD,QAAS,kBAAMxB,EAAMmB,QAAQC,KAAK,OAAlD,OAA6D,uBAAGC,UAAU,mBAE9E,kBAAC,KAAD,CAAWgY,SAAU,SAACC,GAAD,OArGP7K,EAqGuC6K,EAAU/U,SApGlE0T,IAEkB,SAAdxJ,GAA0BsJ,EAAapQ,WAAc,IAAID,MAAOC,UACjE4Q,GAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,KAEjD,UAAd8F,GACL8J,GAAa,IAAI7Q,KAAKqQ,EAAarP,QAAQqP,EAAapP,UAAY,OAPhF,IAA0B8F,IAsGV,4BAAQpN,UAAU,4CACd,yBAAKA,UAAU,wBACX,yBAAKA,UAAU,cAAcgI,IAEjC,yBAAKhI,UAAU,wBACX,yBAAKA,UAAU,cAAf,kCACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,KAEhD,yBAAK5kB,UAAU,wBACX,yBAAKA,UAAU,cAAf,sBACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,KAEhD,yBAAK5kB,UAAU,wBACX,yBAAKA,UAAU,cAAf,kCACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,KAEhD,yBAAK5kB,UAAU,wBACX,yBAAKA,UAAU,cAAf,kCACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,KAEhD,yBAAK5kB,UAAU,wBACX,yBAAKA,UAAU,cAAf,kCACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,KAEhD,yBAAK5kB,UAAU,wBACX,yBAAKA,UAAU,cAAf,4BACA,yBAAKA,UAAU,aAAf,IAA6B4kB,EAAe,MAGpD,6BAEShO,EAeG,yBAAK5W,UAAU,kEACX,kBAAC,GAAD,OAfJ,yBAAKA,UAAU,mBACX,+BACI,+BAESokB,EAAWrf,QACZqf,IAIZ,4BAAQpkB,UAAU,oDACd,yBAAKA,UAAU,gBAAf,aAUxB,kBAAC,KAAD,CAAyBmX,MAAOC,KAAcC,OAAQC,MAClD,kBAACzJ,EAAA,EAAD,CAAexN,MAAOiV,IAClB,kBAACiR,GAAA,EAAD,CACI/O,aAAa,EACbC,kBA/ExB,SAAoB/R,GAEhB,OAA2B,IAAlBA,EAAKU,UA8EMsR,QAAQ,SACRC,QAAQ,iCACRC,YAAY,iCACZoC,KAAMyL,GACNe,OAAQ,kBAAMd,IAAU,IACxB/K,QAAS,kBAAM+K,IAAU,IACzB7N,OAAO,aACPzX,GAAG,qBACHmX,gBAAc,EACdzY,MAAO4X,EACP/W,SAAUuX,GACVuP,WAAY,CACRC,kBAAkB,EAClBtnB,MAAO,CAAEC,MAAO,MAEpB0Y,oBAAqB,CACjB,aAAc,mBAK9B,6BACI,kBAACmF,GAAA,EAAD,CACIlD,KAAMA,GACN6E,oBAAqBlB,GACrBmB,aAAW,EACXnE,QAAS,kBAAMkC,IAAY,IAC3BpC,kBAAgB,2BAChBC,mBAAiB,kCAEjB,kBAACyC,GAAA,EAAD,CAAa/c,GAAG,4BAA4BylB,GAAe,gEAAgB,qDAC3E,kBAACzI,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAmBjd,GAAG,kCAEdylB,GACI,sMACE,uLAIlB,kBAACpI,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQvd,QAAS,kBAAM0c,IAAY,IAAQtd,MAAM,WAAjD,kCAGA,kBAACme,GAAA,EAAD,CAAQvd,QAAS,kBAAM0c,IAAY,IAAOtd,MAAM,WAAhD,qCAMXqjB,IACG,oCACI,yBAAK5iB,UAAU,eAAeG,QAASmmB,KAEvC,yBAAKtmB,UAAU,qBACVua,IACG,4BAAQva,UAAU,wBAAlB,2HAIJ,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAO2mB,KAAK,0BAA0BC,OAAK,EAACC,UAAW7D,KACvD,kBAAC,IAAD,CAAO2D,KAAK,iCAAiCE,UAAW9I,KACxD,kBAAC,IAAD,CAAO4I,KAAK,4BAA4BE,UAAW/V,KACnD,kBAAC,IAAD,CAAO6V,KAAK,sBAAsBE,UAAW9M,KAC7C,kBAAC,IAAD,CAAO4M,KAAK,oCAAoCE,UAAW1D,KAC3D,kBAAC,IAAD,CAAOwD,KAAK,4BAA4BE,UAAWvD,KACnD,kBAAC,IAAD,CAAOqD,KAAK,mCAAmCE,UAAWnD,MAErC,sCAAtB1kB,EAASG,UAA0E,mCAAtBH,EAASG,UAAmD,kBAAC,GAAD,CAAaykB,iBAzSjK,SAA0Bzf,GACI,4BAAtBnF,EAASG,WACTR,EAAMmB,QAAQC,KAAK,6BACnBiR,GAAa,IAES,8BAAtBhS,EAASG,UACTR,EAAMmB,QAAQC,KAAK,uBAEG,wBAAtBf,EAASG,YA1GiB,qCA2G1B0Q,CAAe1L,GACfmiB,MAEsB,8BAAtBtnB,EAASG,UACTR,EAAMmB,QAAQC,KAAK,oCAEG,qCAAtBf,EAASG,YAjHiB,oCAkH1BgV,GACAmS,OAwR6LjX,UAAWA,WC9brMyX,OAzBf,WAEE,OACE,kBAAC,KAAD,KACE,yBAAK9mB,UAAU,OACb,kBAAC,EAAD,MACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO2mB,KAAK,YAAYE,UAAWrQ,KACnC,kBAAC,IAAD,CAAOmQ,KAAK,qBAAqBE,UAAW5L,KAC5C,kBAAC,IAAD,CAAO0L,KAAK,QAAQE,UAAW9M,KAC/B,kBAAC,IAAD,CAAO4M,KAAK,cAAcE,UAAW/V,KACrC,kBAAC,IAAD,CAAO6V,KAAK,iBAAiBE,UAAW/K,KACxC,kBAAC,IAAD,CAAO6K,KAAK,SAASE,UAAW7K,KAChC,kBAAC,IAAD,CAAO2K,KAAK,UAAUE,UAAW9I,KACjC,kBAAC,IAAD,CAAO4I,KAAK,YAAYE,UAAWrG,KACnC,kBAAC,IAAD,CAAOmG,KAAK,iBAAiBE,UAAW5C,KACxC,kBAAC,IAAD,CAAO0C,KAAK,aAAaE,UAAW3E,KACpC,kBAAC,IAAD,CAAOyE,KAAK,iBAAiBE,UAAWrE,KACxC,kBAAC,IAAD,CAAOmE,KAAK,IAAIE,UAAWtH,SCxBjCwH,GAAcC,QACW,cAA7BpO,OAAO5Z,SAASioB,UAEe,UAA7BrO,OAAO5Z,SAASioB,UAEhBrO,OAAO5Z,SAASioB,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACT5L,MAAK,SAAAiM,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB5mB,QACfumB,UAAUC,cAAcO,YAI1B9kB,QAAQC,IACN,iHAKEokB,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlBzkB,QAAQC,IAAI,sCAGRokB,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5BQ,OAAM,SAAAC,GACLllB,QAAQklB,MAAM,4CAA6CA,MCxFjEC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUtP,MAAQA,IACd,kBAAC,GAAD,QAGNuP,SAASC,eAAe,SDQnB,SAAkBlB,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIkB,IAAIC,GAAwB7P,OAAO5Z,SAASuhB,MACpDmI,SAAW9P,OAAO5Z,SAAS0pB,OAIvC,OAGF9P,OAAO+P,iBAAiB,QAAQ,WAC9B,IAAMvB,EAAK,UAAMqB,GAAN,sBAEP1B,KAgEV,SAAiCK,EAAOC,GAEtCuB,MAAMxB,EAAO,CACXyB,QAAS,CAAE,iBAAkB,YAE5BrN,MAAK,SAAArY,GAEJ,IAAM2lB,EAAc3lB,EAAS0lB,QAAQE,IAAI,gBAEnB,MAApB5lB,EAASC,QACO,MAAf0lB,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5C1B,UAAUC,cAAc0B,MAAMzN,MAAK,SAAAiM,GACjCA,EAAayB,aAAa1N,MAAK,WAC7B5C,OAAO5Z,SAASmqB,eAKpBhC,GAAgBC,EAAOC,MAG1BY,OAAM,WACLjlB,QAAQC,IACN,oEAvFAmmB,CAAwBhC,EAAOC,GAI/BC,UAAUC,cAAc0B,MAAMzN,MAAK,WACjCxY,QAAQC,IACN,iHAMJkkB,GAAgBC,EAAOC,OCjC/BE,K","file":"static/js/main.b5fa7a69.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/oo.bb4ea92a.png\";","import React, {useEffect} from 'react';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport './TabsApp.scss';\n\nexport function _TabsApp(props) {\n  const [value, setValue] = React.useState(0);\n  const location = useLocation()\n  useEffect(() => {(location.pathname !== '/cancelAppointment')? setValue(0): setValue(1)},[value,location]);\n\n  // tabs style\n  const style = {\n    width:'25%',\n    boxShadow:'none',\n    color:'white'\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    if (newValue === 1) {\n      props.history.push('/cancelAppointment')\n    } else {\n      props.history.push('/treatments')\n    }\n  };\n\n  return (\n\n    <AppBar position=\"static\" style={{boxShadow:'none'}} >\n      <Tabs value={value} onChange={handleChange} className=\"tabs flex space-between\">\n        <Tab label=\"זימון\" style={style}/>\n        <Tab label=\"ניהול תורים\" style={style}/>\n        <h2 onClick={()=>props.history.push('/')} id=\"text\" className=\"logo\"> Tori<i  className=\"fas fa-tasks\"></i></h2>\n      </Tabs>\n    </AppBar>\n  );\n}\n\nexport const TabsApp = withRouter(_TabsApp)","import React from 'react';\nimport { connect } from 'react-redux';\nimport {MuiThemeProvider,createMuiTheme,makeStyles} from \"@material-ui/core/styles\";\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport './StepperApp.scss'\n\n// StepperApp style\nconst theme = createMuiTheme({\n// add margin left from the circules\n  palette: {\n    primary: {\n      main: '#273650'\n    }\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  }\n}));\n\n\nexport function _StepperApp(props) {\n\n  const classes = useStyles();\n\n\n\n  return (\n    <div className={classes.root}>\n\n  <MuiThemeProvider theme={theme}>\n      <Stepper activeStep={props.activeStep}>\n        {props.steps.map((label, index) => {\n          const stepProps = {};\n          const labelProps = {};\n          return (\n            <Step  key={label} {...stepProps}>\n              <StepLabel  {...labelProps}>{label}  </StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n    </MuiThemeProvider>\n    </div>\n  );\n}\n\n\nfunction mapStateProps(state) {\n  return {\n    steps: state.StepperReducer.steps,\n    activeStep:state.StepperReducer.step\n  }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const StepperApp = connect(mapStateProps, mapDispatchToProps)(_StepperApp)","import React, {useState, useEffect } from 'react';\nimport { useLocation, withRouter } from 'react-router-dom';\nimport { TabsApp } from '../TabsApp/TabsApp.jsx';\nimport { StepperApp } from '../StepperApp/StepperApp.jsx';\nimport './AppHeader.scss';\n\n\nfunction _AppHeader(props) {\n\n    const location = useLocation()\n\n    const [headerConstrains, setHeaderConstrains] = useState(false)\n\n    useEffect(() => {\n        let initWithFalse = {isHeader:false, noHeaderMargin:false,  isStepper:false, isTabs:false}\n        switch (location.pathname) {\n            case '/':\n                setHeaderConstrains(false)\n                break;\n            case '/calendarAdmin/':\n                setHeaderConstrains(false)\n                break;\n            case '/advertise':\n                setHeaderConstrains({...initWithFalse, isHeader:true, noHeaderMargin:true}) \n                break;\n            case '/signupOrLogin':\n                setHeaderConstrains({...initWithFalse, isHeader:true, noHeaderMargin:true})\n                break;\n            case '/signup':\n                setHeaderConstrains({...initWithFalse, isHeader:true})\n                break;\n            case '/login':\n                setHeaderConstrains({...initWithFalse, isHeader:true})\n            case '/treatments':\n                setHeaderConstrains({...initWithFalse, isStepper:true, isTabs:true})\n                break;\n            case '/calendar':\n                setHeaderConstrains({...initWithFalse, isHeader:true, isStepper:true})\n                break;\n            case '/form':\n                setHeaderConstrains({...initWithFalse, isHeader:true, isStepper:true})\n                break;\n            case '/cancelAppointment':\n                 setHeaderConstrains({...initWithFalse, isTabs:true})\n                break;\n            case '/editUser':\n                setHeaderConstrains({...initWithFalse, isHeader:true})\n                break;\n            default:\n                setHeaderConstrains(false)\n        }\n    }, [location.pathname]);\n\n    return (\n        <>\n            {\n                (headerConstrains) &&\n                    <div className={`${(headerConstrains.noHeaderMargin)? 'app-header-no-margin':'app-header'}`}>\n                            {\n                              (headerConstrains.isHeader)?\n                                <header className=\"flex upper-header align-center\">\n                                  <h2 onClick={() => props.history.push('/')} id=\"text\" className=\"logo\"> Tori<i className=\"fas fa-tasks\"></i></h2>\n                                </header>\n                                :\n                                ''\n                            }\n                            {\n                               (headerConstrains.isTabs)?\n                                <TabsApp />\n                                    :\n                                ''\n                            }\n                            {\n                               (headerConstrains.isStepper)?\n                                <StepperApp />\n                                    :\n                                ''\n                            }      \n                    </div>\n            }\n        </>\n    )\n}\n\nexport const AppHeader = withRouter(_AppHeader)\n\n\n\n","import { createBrowserHistory } from \"history\";\nconst history = createBrowserHistory();\n\nexport default history;","import history from '../history';\nimport Axios from 'axios';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n});\n\n\nexport default {\n    get(endpoint, data){\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data){\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data){\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data){\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\n\nasync function ajax(endpoint, method='get', data=null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            // headers:h,\n            data\n        })\n        return res.data;\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\n        console.dir(err);\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n        throw err;\n    }\n}","\n\nexport default {\n  englishToHebrew,\n  getIsosDate,\n  getTimeSlotsForPreview,\n  getDailySlotsForPreview,\n  changeTimeForDisplay,\n  idGen,\n  calculateEndTime,\n  arrayToString,\n  convertDateToIsraelisDisplay,\n  getDayByHebrewWord,\n  getEventReadyForDisplay,\n  convertNumberToWords,\n  validateEmail,\n  getWeekIsosDatesForCalendar,\n  checkIfTsInRange,\n  getMonthByIdx\n}\n\nvar gUtcDiff = 2\n\n// for half an hour slots = 2. 15 min slots will be 4 etc...\nvar gDividedHour = 2 \n\nfunction englishToHebrew(word) {\n  let convertedWord\n  switch (word) {\n    case ('minutes'):\n      convertedWord = 'דק׳';\n      break;\n    case ('build'):\n      convertedWord = 'בנייה';\n      break;\n    case ('filling'):\n      convertedWord = 'מילוי';\n      break;\n    case ('medical-manicure'):\n      convertedWord = 'מניקור רפואי';\n      break;\n    case ('gel'):\n      convertedWord = 'לק ג׳ל';\n      break;\n    case ('medical-pedicure'):\n      convertedWord = 'פדיקור';\n      break;\n    case ('medical-pedicure-gel'):\n      convertedWord = 'פדיקור רפואי עם לק ג׳ל';\n      break;\n    case ('half-pedicure'):\n      convertedWord = 'חצי פדיקור';\n      break;\n    case ('half-pedicure-gel'):\n      convertedWord = 'חצי פדיקור עם ג׳ל';\n      break;\n    case ('eyebrows-mustache'):\n      convertedWord = 'גבות ושפם';\n      break;\n    default:\n      convertedWord = \"ברירת מחדל\"\n  }\n\n  return ' ' + convertedWord\n}\n//get a date and how many days before/after and returns only the date part by isos convention\nfunction getIsosDate(daysAfterOrBefore, date = new Date()) {\n  let dateCopy = new Date(date.getTime())\n  dateCopy.setDate(dateCopy.getDate() + daysAfterOrBefore)\n  if (dateCopy.getDay() === 6) {\n    return ''\n  }\n  dateCopy = dateCopy.toISOString().slice(0, 10)\n  return dateCopy\n}\n\nfunction getWeekIsosDatesForCalendar(dayByNum, date) {\n  let weeklyDates =[]\n  if (date.getDay()===6){\n    date = new Date(date.getTime() + (1000 * 60 * 60 * 24));\n    dayByNum = 1\n    console.log(date)\n  }\n  switch (dayByNum) {\n    case 1:\n      for (var i = 0; i < 6; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 2:\n      for (var i = -1; i < 5; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 3:\n      for (var i = -2; i < 4; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 4:\n      for (var i = -3; i < 3; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 5:\n      for (var i = -4; i < 2; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    case 6:\n      for (var i = -5; i < 1; i++) {\n        weeklyDates.push(getIsosDate(i, date))\n      }\n      break;\n    default:\n      console.log('Err with getting week dates')\n  }\n  return weeklyDates.map(isosDate => {\n    return { start: `${isosDate}T06:00:00Z`, end: `${isosDate}T18:00:00Z` }\n  })\n}\n\nfunction getDailySlotsForPreview(slotsRanges, duration) {\n  const timeslotsByConstraints = slotsRanges.map(sr => getTimeSlotsForPreview(sr, duration))\n  const mergedTimeSlotsToRender = [].concat.apply([], timeslotsByConstraints);\n  return mergedTimeSlotsToRender\n}\n\nfunction getTimeSlotsForPreview(timeslot, duration) {\n  let slotsToRender = [];\n  let year = timeslot.start.slice(0, 4)\n  let month = timeslot.start.slice(5, 7)\n  let day = timeslot.start.slice(8, 10)\n  let hours = +timeslot.start.slice(11, 13)\n  let min = timeslot.start.slice(14, 16)\n  const startTime = new Date(year, month - 1, day, hours +  gUtcDiff, min, 0, 0);\n  year = timeslot.end.slice(0, 4)\n  month = timeslot.end.slice(5, 7)\n  day = timeslot.end.slice(8, 10)\n  hours = +timeslot.end.slice(11, 13)\n  min = timeslot.end.slice(14, 16)\n  const endTime = new Date(year, month - 1, day, hours + gUtcDiff, min, 0, 0);\n  let nextTimeSlot = startTime//maby need copy\n  hours = nextTimeSlot.getHours()\n  min = nextTimeSlot.getMinutes()\n  let slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n  if ((nextTimeSlot.getTime() + (duration * 60 * 1000)) <= endTime.getTime()) { slotsToRender.push(slotToRender) }\n  while ((nextTimeSlot.getTime() + (duration * 60 * 1000)) < endTime.getTime()) {\n    nextTimeSlot = new Date(nextTimeSlot.getTime() + ((60 * 60 * 1000) / gDividedHour));//adding half an hour\n    hours = nextTimeSlot.getHours()\n    min = nextTimeSlot.getMinutes()\n    slotToRender = checkDigitsAndAddZerosIfNeeded(hours) + ':' + checkDigitsAndAddZerosIfNeeded(min);\n    slotsToRender.push(slotToRender)\n  }\n  return slotsToRender\n}\n\n//get an hour and returns full isos date (including the time) reducing the diff from the hours\nfunction changeTimeForDisplay(time, diff) {\n  let hours = +time.slice(0, 2) - diff\n  let minutes = time.slice(3, 5)\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + (minutes)\n}\n\n\nfunction calculateEndTime(time, duration) {\n  let hours = +time.slice(0, 2)\n  let minutes = +time.slice(3, 5)\n\n  if (duration % 60 === 30) {\n    if (minutes === 30) {\n      hours += Math.floor(duration / 60) + 1\n      minutes = '00'\n    }\n    else {\n      hours += Math.floor(duration / 60)\n      minutes = '30'\n    }\n  }\n  else {\n    hours += (duration / 60)\n    minutes = '00'\n  }\n\n  hours = checkDigitsAndAddZerosIfNeeded(hours)\n  return hours + ':' + minutes\n}\n\nfunction checkDigitsAndAddZerosIfNeeded(digit) {\n  digit = (digit < 10) ? '0' + digit : digit\n  return digit\n}\n\n\nfunction idGen() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n};\n\n\nfunction arrayToString(pickedTreatments) {\n  let treatmentsType = ''\n  pickedTreatments.forEach((tr, idx) => {\n    if (pickedTreatments.length !== idx + 1) treatmentsType += tr.name + ', '\n    else treatmentsType += tr.name\n  })\n  return treatmentsType\n}\n\nfunction convertDateToIsraelisDisplay(date) {\n  const dateParts = (date).split('-')\n  return `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`\n}\nfunction getDayByHebrewWord(idx) {\n  const days = [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"]\n  return days[idx]\n}\n\n\nfunction getEventReadyForDisplay(filteredEvents) {\n  return filteredEvents.map(event => {\n    return {\n      id: event._id,\n      treatments: event.treatments,\n      startTime: changeTimeForDisplay(event.startTime, gUtcDiff*-1),\n      endTime: changeTimeForDisplay(event.endTime, gUtcDiff*-1),\n      date: convertDateToIsraelisDisplay(event.date),\n      email: event.email,\n      name: event.name,\n    }\n  })\n}\n//returns an object with boolean if time slot match the range and the amount of time slots\nfunction checkIfTsInRange(tsToCompare, startTime, endTime, duration) {\n\n  //adding 3 hours to match the time differnce\n  const tsToCompareWithAddedHours = changeTimeForDisplay(tsToCompare, gUtcDiff*-1)\n  const timeRangeBySlots = getDailySlotsForPreview([{ start: startTime, end: endTime }], duration)\n  if (timeRangeBySlots.length) {\n    return { occupied: timeRangeBySlots.includes(tsToCompareWithAddedHours), rowspan: timeRangeBySlots.length }\n  }\n  else {\n    if (startTime.slice(11, 16) === tsToCompare) {\n      return { occupied: true, rowspan: 1 }\n    } else {\n      return { occupied: false, rowspan: 1 }\n    }\n  }\n}\n\nfunction convertNumberToWords(idx) {\n  const words = ['אחד', 'שני', 'שלושה', 'ארבעה', 'חמשה', 'ששה', 'שבעה', 'שמונה', 'תשעה', 'עשרה', 'אחד עשר']\n  return words[idx - 1]\n}\n\nfunction getMonthByIdx(idx) {\n  const months = ['ינואר', 'פברואר', 'מרץ', 'אפריל', 'מאי', 'יוני', 'יולי', 'אוגוסט', 'ספטמבר', 'אוקטובר', 'נובמבר', 'דצמבר']\n  return months[idx - 1]\n}\n\nfunction validateEmail(email) {\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}","import HttpService from './HttpService'\nimport UtilsService from \"../services/UtilsService\";\n\nexport default {\n    getTreatments,\n    getById,\n    remove,\n    update,\n    updateTreatments,\n    getMarkedTreatmentsStr\n}\n\n// update only the store not mongo DB\nfunction updateTreatments(treatments, updatedTreatment){\n    const idx = treatments.findIndex(tr => tr._id === updatedTreatment._id)\n    treatments[idx] = updatedTreatment\nreturn treatments\n}\n\nfunction getMarkedTreatmentsStr(treatments) {\n    treatments = (treatments.filter(tr => tr.marked))\n    return UtilsService.arrayToString(treatments)\n}\n\n// comunicate with backend\nfunction getTreatments() {\n    return HttpService.get('treatment')\n}\n\nfunction getById(treatmentId) {\n    return HttpService.get(`treatment/${treatmentId}`)\n}\nfunction remove(treatmentId) {\n    return HttpService.delete(`treatment/${treatmentId}`)\n}\n\nfunction update(treatment) {\n    return HttpService.put(`treatment/${treatment._id}`, treatment)\n}","import TreatmentService from '../services/TreatmentService';\n\n\nexport function loadTreatments() {\n  \n  return async dispatch => {\n    try {\n      const treatments = await TreatmentService.getTreatments();\n      dispatch(setTreatments(treatments));\n   \n    } catch (err) {\n      console.log('TreatmentActions: err in loadTreatments', err);\n    };\n  }\n}\n\nexport function setTreatments(treatments) {\n  return {\n    type: 'SET_TREATMENTS',\n    treatments\n  };\n}\n\nexport function setTreatment(treatment) {\n  return async dispatch => {\n    try {\n      await \n      dispatch((_setTreatment(treatment)));\n    } catch (err) {\n      console.log('TreatmentActions: err in setTreatment', err);\n    }\n  };\n}\n\nexport function _setTreatment(treatment) {\n  return {\n    type: 'SET_TREATMENT',\n    treatment\n  };\n}\n\n\nexport function updateTreatmentsCount(count) {\n  return async dispatch => {\n    try {\n      await \n      dispatch((_updateTreatmentsCount(count)));\n    } catch (err) {\n      console.log('TreatmentActions: err in setTreatment', err);\n    }\n  };\n}\n\n\nexport function _updateTreatmentsCount(count) {\n  return {\n    type: 'UPDATE_PICKED_TREATMENTS_COUNT',\n    count\n  };\n}\n\n\n\nexport function removeTreatment(treatmentId) {\n  return async dispatch => {\n    try {\n      await TreatmentService.remove(treatmentId);\n      dispatch(_removeTreatment(treatmentId));\n    } catch (err) {\n      console.log('TreatmentActions: err in removeTreatment', err);\n    }\n  };\n}\n\nfunction _removeTreatment(treatmentId) {\n  return {\n    type: 'REMOVE_TREATMENT',\n    treatmentId\n  };\n}\n\nexport function updateTreatments(treatments) {\n  console.log(treatments)\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateTreatments(treatments));\n    } catch (err) {\n      console.log('TreatmentActions: err in updateTreatments', err);\n    }\n  };\n}\n\nexport function _updateTreatments(treatments) {\n  return {\n    type: 'UPDATE_TREATMENTS',\n    treatments\n  };\n}\n\n\n\nexport function updateDuration(duration) {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateDuration(duration));\n    } catch (err) {\n      console.log('TreatmentActions: err in addDuration', err);\n    }\n  };\n}\n\nexport function _updateDuration(duration) {\n    return {\n      type: 'UPDATE_DURATION',\n      duration\n    };\n}\n\nexport function initDuration() {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_initDuration());\n    } catch (err) {\n      console.log('ERR WITH initDuration', err);\n    }\n  };\n}\n\nfunction _initDuration() {\n  return {\n    type: 'INIT_DURATION'\n  };\n}\n\n\nexport function updateAvailbleDuration(availableDuration) {\n  return async dispatch => {\n    try {\n      await \n      dispatch(_updateAvailbleDuration(availableDuration));\n    } catch (err) {\n      console.log('ERR WITH updateAvailbleDuration', err);\n    }\n  };\n}\n\nfunction _updateAvailbleDuration(availableDuration) {\n  return {\n    type: 'UPDATE_AVAILBLE_DURATION',\n    availableDuration\n  };\n}\n","export default {\n    saveToStorage,\n    loadFromStorage,\n    removeFromStorage\n}\n\nfunction saveToStorage(key, value) {\n    var str = JSON.stringify(value);\n    localStorage.setItem(key, str);\n}\nfunction removeFromStorage(key) {\n    localStorage.removeItem(key);\n}\n\nfunction loadFromStorage(key) {\n    var str = localStorage.getItem(key)\n    return JSON.parse(str)\n}","import HttpService from './HttpService'\nimport StorageService from \"../services/StorageService\";\n\nexport default {\n    getUsers,\n    getUser,\n    addUser,\n    removeUser,\n    updateUser,\n    unshiftCellByPhoneNumber,\n    isAdmin\n}\n\nfunction _sortUsers(users) {\n    return users.sort((a, b) => a.name.localeCompare(b.name))\n}\n\nasync function getUsers() {\n    const users = await HttpService.get('user')\n    return _sortUsers(users)\n}\n\nfunction getUser(phone) {\n    return HttpService.get(`user/${phone}`)\n}\n\nfunction updateUser(user) {\n    user.oldPhone = StorageService.loadFromStorage('tori-user').phone\n    StorageService.saveToStorage('tori-user', user)\n    return HttpService.put(`user/`, user)\n}\n\nasync function addUser(user, isCreateadByAdmin) {\n    user.isMarked = false\n    if (!isCreateadByAdmin) StorageService.saveToStorage('tori-user', user)\n    //need to come from backend env\n    if (user.phone === '123456789') user.isAdmin = true\n    else user.isAdmin = false\n    return await HttpService.post('user', user)\n}\n\nasync function removeUser(_id) {\n    StorageService.saveToStorage('tori-user', '')\n    return HttpService.delete(`user/${_id}`)\n}\n\n\nfunction unshiftCellByPhoneNumber(users, phone) {\n    console.log('here');\n    const idx = users.findIndex(user => user.phone === phone)\n    let splicedCell = users.splice(idx, 1)[0]\n    console.log(splicedCell);\n    splicedCell.isMarked = true\n    let copySplicedCell = { ...splicedCell }\n    users.unshift(copySplicedCell)\n    return users\n}\n\nasync function isAdmin(userFromStorage,phoneToSearch=\"\") {\n    let userFromMongo\n    if(phoneToSearch)   userFromMongo = await getUser(phoneToSearch)\n    else  userFromMongo = await getUser(userFromStorage.phone)\n    console.log(userFromMongo);\n    return userFromMongo.isAdmin\n}","import UserService from '../services/UserService';\nimport StorageService from '../services/StorageService';\n\nexport function loadUsers() {\n  return async dispatch => {\n    try {\n      const users = await UserService.getUsers();\n      dispatch(setUsers(users));\n    } catch (err) {\n      console.log('userActions: err in loadUsers', err);\n    };\n  }\n}\n\nexport function setUsers(users) {\n  return {\n    type: 'SET_USERS',\n    users\n  };\n}\n\nexport function updateUsers(users) {\n  return async dispatch => {\n    try {\n      dispatch(_updateUsers(users));\n    } catch (err) {\n      console.log('userActions: err in loadUsers', err);\n    };\n  }\n}\n\nexport function _updateUsers(users) {\n  return {\n    type: 'UPDATE_USERS',\n    users\n  };\n}\n\n\nexport function setUserToSchedule() {\n  return dispatch => {\n    const userToSchedule = StorageService.loadFromStorage('tori-user');\n    dispatch(_setUserToSchedule(userToSchedule));\n  }\n}\n\nexport function _setUserToSchedule(userToSchedule) {\n  return {\n    type: 'SET_USER_TO_SCHEDULE',\n    userToSchedule\n  };\n}\n\n\n\nexport function updateUserToSchedule(userToSchedule) {\n  return dispatch => {\n    dispatch(_updateUserToSchedule(userToSchedule));\n  }\n}\n\nexport function _updateUserToSchedule(userToSchedule) {\n  return {\n    type: 'UPDATE_USER_TO_SCHEDULE',\n    userToSchedule\n  };\n}\n\n\nexport function updateIsAdShown(isAdShown) {\n  return dispatch => {\n    dispatch(_updateIsAdShown(isAdShown));\n  }\n}\n\nexport function _updateIsAdShown(isAdShown) {\n  return {\n    type: 'UPDATE_IS_AD_SHOWN',\n    isAdShown\n  };\n}\n\n\n\nexport function updateUserPhoneInContactSignup(userPhoneInContactSignup) {\n  return dispatch => {\n    dispatch(_updateUserPhoneInContactSignup(userPhoneInContactSignup));\n  }\n}\n\nexport function _updateUserPhoneInContactSignup(userPhoneInContactSignup) {\n  return {\n    type: 'UPDATE_NUMBER_IN_CONTACT_SIGNUP',\n    userPhoneInContactSignup\n  };\n}\n\n","import React, { useState } from 'react';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { StylesProvider, jssPreset,createMuiTheme,ThemeProvider } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\nimport './SwitchApp.scss'\n\nconst theme = createMuiTheme({\n  direction: 'rtl',\n});\n\n// Configure JSS\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\n\nexport function SwitchApp(props) {\n\n  const [checked, setChecked] = useState(props.marked);\n\n  const handleChange = (event) => {\n    if (!checked) {\n      props.updateDuration(true)\n      props.updatePickedTreatments(true)\n    }\n    else {\n      // props.setIsActive(false)\n      props.updateDuration(false)\n      props.updatePickedTreatments(false)\n    }\n    setChecked(event.target.checked)\n  };\n\n  return (\n    <StylesProvider jss={jss}>\n      <ThemeProvider theme={theme}>\n        <div dir=\"rtl\">\n          <Switch\n            checked={checked}\n            onChange={handleChange}\n            name=\"checked\"\n            inputProps={{ 'aria-label': 'secondary checkbox' }}\n          />\n        </div>\n      </ThemeProvider>\n    </StylesProvider>\n  );\n}","import React , { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { updateDuration,updateDurationForModal, updateTreatments,updateTreatmentsCount} from '../../actions/treatmentActions';\nimport { SwitchApp } from '../SwitchApp/SwitchApp';\nimport UtilService from '../../services/UtilsService'\nimport TreatmentService from '../../services/TreatmentService';\nimport './TreatmentPreview.scss';\n\n\nclass _TreatmentPreview extends Component {\n\n    state = {\n        updatedTreatment: this.props.treatment,\n        // treatmentsToUpdate: [...this.props.treatments]\n        treatmentsToUpdate: this.props.treatments\n    }\n\n    updateDuration = (isMarked) => {\n        if (isMarked) {\n            this.props.updateDuration(+this.props.treatment.duration)\n        } else {\n            this.props.updateDuration((+this.props.treatment.duration) * -1)\n        }\n    }\n\n    // mark the treatment\n   updatePickedTreatments = (isMarked) => {\n            this.setState({updatedTreatment:{...this.state.updatedTreatment,marked:isMarked}}, ()=>{\n                if(isMarked){\n                    this.props.updateTreatmentsCount(1)\n                }\n                else{\n                  this.props.updateTreatmentsCount(-1)\n                }\n            const treatments = TreatmentService.updateTreatments(this.state.treatmentsToUpdate,this.state.updatedTreatment)\n            this.setState({treatmentsToUpdate:treatments})\n            //     ()=>{\n            //     this.props.updateTreatments(this.state.treatmentsToUpdate)\n            // }) \n        })\n    }\n\n    render() {\n        const {updatedTreatment} = this.state\n        return (\n            <div className={`treatment-preview ${(updatedTreatment.marked)?'marked-by-switch':\"\"}`}>\n                {updatedTreatment &&\n                    <div className=\" preview-container flex align-center space-between\">\n                        <div className=\"align-col-name\">\n                            {updatedTreatment.name}\n                        </div>\n                        <div className=\"align-col\">{'₪' + updatedTreatment.price}</div>\n                        <div className=\"align-col\">{updatedTreatment.duration + UtilService.englishToHebrew('minutes')}</div>\n                        <SwitchApp className=\"align-col\" marked={updatedTreatment.marked} updateDuration={this.updateDuration} updatePickedTreatments={this.updatePickedTreatments} />\n                    </div>\n                }\n            </div>\n        )\n      }\n}\n    \nfunction mapStateProps(state) {\n    return {\n        // duration: state.TreatmentReducer.duration,\n        treatments: state.TreatmentReducer.treatments\n    }\n}\n\nconst mapDispatchToProps = {\n    updateDuration,\n    updateTreatments,\n    updateTreatmentsCount\n}\n\nexport const TreatmentPreview = connect(mapStateProps, mapDispatchToProps)(_TreatmentPreview)","import React from 'react';\nimport { TreatmentPreview } from '../TreatmentPreview/TreatmentPreview';\nimport UtilsService from '../../services/UtilsService';\nimport './TreatmentList.scss';\n\nexport function TreatmentList(props) {\n    return (\n        <div className=\"treatment-list main-container flex column\">\n            {\n                props.treatments.map(treatment => {\n                    let id=UtilsService.idGen()\n                    return (\n                        <div key={id}>\n                            <TreatmentPreview  treatment={treatment} getTreatmentsToUpdate={props.getTreatmentsToUpdate} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport UtilsService from '../../services/UtilsService';\nimport './TreatmentTitle.scss';\n\n\nfunction _TreatmentTitle(props) {\n    const location = useLocation()\n    let isCalendarAdmin=( location.pathname === '/calendarAdmin/treatments')\n    let isDurationValid=(props.duration>props.availableDuration)\n    return (\n        <div className={`treatment-title ${isCalendarAdmin?'treatment-title-in-modal':''} \n         ${isCalendarAdmin&&isDurationValid?'red-title':''}`}>\n            {\n               (isDurationValid&&isCalendarAdmin) ?\n                  'משך זמן הטיפולים ארוך מידי ! '\n                :\n                (props.pickedTreatmentsCount) ?\n\n                (props.pickedTreatmentsCount===1)?\n                `נבחר טיפול  ${UtilsService.convertNumberToWords(props.pickedTreatmentsCount)}     `\n                :\n                   `נבחרו ${UtilsService.convertNumberToWords(props.pickedTreatmentsCount)} טיפולים `\n\n                    :\n                    (props.isClicked)?\n                     <span className=\"red-title\">לא נבחרו טיפולים!</span>\n                    :\n                    isCalendarAdmin\n                    ?\n                    \"בחרו סוג טיפול אחד או יותר\"\n                    :\n                    \"  בחרו  סוג  טיפול  אחד  או  יותר  ולחצו  'הבא'\"\n            \n                }\n        </div>\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        pickedTreatmentsCount: state.TreatmentReducer.pickedTreatmentsCount,\n        availableDuration: state.TreatmentReducer.availableDuration,\n        duration: state.TreatmentReducer.duration\n    }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport const TreatmentTitle = connect(mapStateProps, mapDispatchToProps)(_TreatmentTitle)","\n\nexport function updateActiveStep(step) {\n    return async dispatch => {\n      try {\n        await \n        dispatch(_updateActiveStep(step));\n      } catch (err) {\n        console.log('StepperActions: err in updateActiveStep', err);\n      }\n    };\n  }\n  \n  export function _updateActiveStep(step) {\n      return {\n        type: 'UPDATE_ACTIVE_STEP',\n        step\n        }\n  };\n\n\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport './NavBtns.scss';\nfunction _NavBtns(props) {\n\n    const location = useLocation()\n    const [activeBtn, setActiveBtn] = useState('');\n\n    useEffect(() => { toggleBtnsStyle() });\n\n    function toggleBtnsStyle() {\n        if ((props.activeStep === 2 && !props.treatment) || (props.duration)) {\n            setActiveBtn('active-btn')\n        } else { setActiveBtn('') }\n    }\n\n    function isNextBtnDisable() {\n        if (!props.duration) return true\n        if (props.activeStep === 2 && !props.treatment) return true\n    }\n\n    function changeStep(diff) {\n\n        if (props.activeStep + diff === 3) {\n            props.setAppointment()\n            props.handleOpen()\n        }\n        props.updateActiveStep(props.activeStep + diff)\n        if (!props.activeStep && diff > 0) {\n            props.history.push('/calendar')\n        }\n        else if (props.activeStep === 1 && diff > 0) props.history.push('/form')\n        else if (props.activeStep === 2 && diff < 0) props.history.push('/calendar')\n        else if (props.activeStep === 1 && diff < 0) props.history.push('/treatments')\n    }\n\n    function noPickedItemTitle(){\n        if (!props.duration){\n            props.updateTitleProp()\n        }\n    }\n\n    return (\n\n        <div className={`nav-btns-container`}>\n            {\n                (location.pathname === '/treatments') ?\n                    <div className=\"nav-btn-wrapper-next\" onClick={noPickedItemTitle}>\n                            <button className=\"nav-btn-next\" onClick={() => changeStep(1)} disabled={isNextBtnDisable()}>\n                                הבא\n                             </button>\n                    </div>\n                    :\n                    (location.pathname !== '/form') ?\n                        <div className=\"nav-btn-wrapper\">\n                            <button className={`nav-btn active-btn`} disabled={props.activeStep === 0} onClick={() => changeStep(-1)} >\n                                חזור\n                </button>\n                        </div>\n                        :\n                        <div className=\"flex btns-wrraper\">\n                            <div className=\"nav-btn-wrapper\">\n                                <button className={`nav-btn active-btn`} disabled={props.activeStep === 0} onClick={() => changeStep(-1)} >\n                                    חזור\n                    </button>\n                            </div>\n                            <div className={`nav-btn-wrapper`}>\n                                <button className={`nav-btn ${activeBtn}`} onClick={() => changeStep(1)} disabled={isNextBtnDisable()}>\n                                    אשר\n                </button>\n                            </div>\n                        </div>\n            }\n        </div>\n\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        steps: state.StepperReducer.steps,\n        activeStep: state.StepperReducer.step,\n        duration: state.TreatmentReducer.duration,\n        treatment: state.TreatmentReducer.treatment,\n\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep\n}\n\nexport const NavBtns = withRouter(connect(mapStateProps, mapDispatchToProps)(_NavBtns))\n","import React from 'react';\nimport Loader from 'react-loader-spinner'\nexport class LoaderApp extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#273650\"\n        height={75}\n        width={75}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { loadTreatments } from '../../actions/treatmentActions.js';\nimport { setUserToSchedule, updateUserToSchedule } from '../../actions/userAction.js';\nimport { TreatmentList } from '../../cmps/TreatmentList/TreatmentList';\nimport { TreatmentTitle } from '../../cmps/TreatmentTitle/TreatmentTitle';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { motion } from 'framer-motion'\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport UserService from \"../../services/UserService\";\nimport { _setUserToSchedule } from '../../actions/userAction.js';\nimport StorageService from '../../services/StorageService';\nimport './TreatmentApp.scss';\nimport '../../styles/style.scss';\n\n\n// style motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: \"0\"\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\nexport function _TreatmentApp(props) {\n    const location = useLocation()\n    const { loadTreatments, treatments, setUserToSchedule, userToSchedule } = props\n    const user = StorageService.loadFromStorage('tori-user');\n    useEffect(() => {\n        if (!treatments) loadTreatments()\n    }, [loadTreatments, treatments]);\n\n    useEffect( () => {\n        (async () => {\n        if (!userToSchedule && (! await UserService.isAdmin(user))) setUserToSchedule()\n    })()\n    }, [setUserToSchedule, userToSchedule]);\n\n    const [isClicked, setIsClicked] = useState(false);\n\n    function updateTitleProp() {\n        setIsClicked(true)\n    }\n\n    if (!treatments) return <div className=\"loader\"><LoaderApp /></div>\n    return (\n        <div className=\"treatment-app\">\n            {\n                (location.pathname !== '/calendarAdmin/treatments')\n                    ?\n                    <motion.div\n                        initial=\"out\"\n                        exit=\"in\"\n                        animate=\"in\"\n                        variants={pageVariants}\n                        transition={pageTransition}\n                    >\n                        <TreatmentTitle isClicked={isClicked} />\n                        <TreatmentList treatments={treatments} />\n\n                    </motion.div>\n                    :\n                    <div>\n                        <TreatmentTitle isClicked={isClicked} />\n                        <TreatmentList treatments={treatments} />\n                    </div>\n            }\n            {\n                (location.pathname !== '/calendarAdmin/treatments') &&\n                <NavBtns updateTitleProp={updateTitleProp} />\n            }\n        </div>\n\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments,\n        userToSchedule: state.UserReducer.userToSchedule,\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTreatments,\n    setUserToSchedule,\n    updateUserToSchedule\n}\n\nexport const TreatmentApp = connect(mapStateProps, mapDispatchToProps)(_TreatmentApp)\n\n\n\n","import './DailySlots.scss';\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {setTreatment} from '../../actions/treatmentActions';\nimport {updateActiveStep} from '../../actions/stepperActions';\nimport UtilsService from '../../services/UtilsService';\n\n function _DailySlots(props) {\n\n    function onAppointmentChoice(ts, date, diff) {\n        props.updateActiveStep(props.activeStep + diff)\n        let treatment = {\n            time: ts,\n            date\n        }\n        props.setTreatment(treatment)\n        props.history.push('/form')\n    }\n\n    return (\n\n        <div className=\"daily-slots flex column align-center space-between\">\n            {props.timeSlots.map(ts => <button onClick={() => onAppointmentChoice(ts, props.date, 1)}\n            className=\"timeslot-btn\" key={UtilsService.idGen()}>{ts}</button>)}\n        </div>\n    )\n}\n\n\nfunction mapStateProps(state) {\n    return {\n        treatment: state.TreatmentReducer.treatment,\n        activeStep: state.StepperReducer.step\n    }\n}\n\nconst mapDispatchToProps = {\n    setTreatment,\n    updateActiveStep\n}\n\nexport const DailySlots = withRouter(connect(mapStateProps, mapDispatchToProps)(_DailySlots))\n","import React, {useEffect} from \"react\";\nimport { DailySlots } from '../DailySlots/DailySlots';\nimport UtilsService from '../../services/UtilsService';\nimport './TimeslotList.scss';\n\nexport function TimeslotList(props) {\n\n    useEffect(() => {\n        //  console.log(props.date.toISOString())\n        }, []);\n\n    return (\n        <div className=\"timeslot-list flex\">\n            {\n                Object.keys(props.timeSlots).map(day => {\n                    const isDateFullyBooked = (typeof props.timeSlots[day] == 'string') ? true : false\n                    const date = isDateFullyBooked ? props.timeSlots[day].slice(0, 10) : (props.timeSlots[day])[0].start.slice(0, 10)\n                    // running on each day\n                    const slotsForPreview = isDateFullyBooked ? [] : UtilsService.getDailySlotsForPreview(props.timeSlots[day], props.duration)\n                    return (\n                        <div key={UtilsService.idGen()}>\n                            <div className=\"date-container\">\n                                {\n                                isDateFullyBooked?     \n                                <div className=\"fully-booked\">\n                                    <div>{UtilsService.getDayByHebrewWord(new Date(date).getDay())}</div>\n                                    <div>{UtilsService.convertDateToIsraelisDisplay(date)}</div>\n                                    <br/>\n                                    <div className=\"fully-booked-title\">אין תור פנוי</div>\n                                </div>\n                                :\n                                <div>\n                                    <div>{UtilsService.getDayByHebrewWord(new Date((props.timeSlots[day])[0].start).getDay())}</div>\n                                    <div>{UtilsService.convertDateToIsraelisDisplay(date)}</div>\n                                </div>\n                                }\n                            </div>\n                            <DailySlots timeSlots={slotsForPreview} date={date} />\n                        </div>\n                    )\n                })\n            }\n        </div>\n    )\n}\n","import HttpService from './HttpService'\n\nexport default {\n    saveConfirmedEvent,\n    getMongoEventByEventCalendarId,\n    getEventByPhone,\n    removeEventFromDB\n}\n\n// MONGO DB - GOES THREW BACKEND\n\nfunction saveConfirmedEvent(event){\n    return HttpService.post('event',event)\n}\n\nfunction getEventByPhone (phone) {\n    return HttpService.get(`event/${phone}`)\n}\n\n\nfunction getMongoEventByEventCalendarId(evId) {\n    return HttpService.get(`event/${evId}`)\n}\n\nfunction removeEventFromDB (_id) {\n    console.log(_id)\n    return HttpService.delete(`event/${_id}`)\n}","import HttpService from './HttpService'\n\nexport default {\n    sendEmail\n}\n\nfunction sendEmail(name, date, email='', isConfirmation, phone='', duration='', time='', treatments='') {\n    const businessName='נייל סלון'\n    let bodyText = ''\n    if (isConfirmation) {\n        bodyText =`        שלום ${name} ,\n\n        שמחים שבחרת ${businessName} !\n        נקבע לך תור ל${treatments}  \n        בתאריך ${date}\n        בשעה ${time}\n        משך זמן הטיפול מוערך כ- ${duration} דקות\n        הטלפון שהתקבל ליצירת קשר הוא - ${phone}\n        \n        תודה`\n    } else {\n        bodyText = `\n        שלום,\n         ${name}\n        התור שנקבע לתאריך ${date} בוטל \n        תודה על העדכון `\n    }\n    let emailObj = {\n        email,\n        bodyText\n    }\n    return HttpService.post('email',emailObj)\n}","import HttpService from './HttpService'\nimport EventService from './EventService'\nimport UtilsService from \"../services/UtilsService\";\nimport EmailService from '../services/EmailService';\n\nexport default {\n    getCalendar,\n    getAvailbleDailySlots,\n    addEventToCalendar,\n    removeEventFromCalendar,\n    setAppointment,\n    getEventsFromCalendar,\n    buildWeeklyModel,\n    getAvailbleDuration,\n    getHoursToBlock,\n    blockSlotRange\n}\n\nvar gUtcDiff = 2\n\n// get the first calendar connected to this TOKEN (usually only 1 should be there)\nfunction getCalendar() {\n    return HttpService.get('calendar')\n}\n\n\nasync function getEventsFromCalendar(timeRange) {\n    return await HttpService.get(`calendar/${timeRange.start}/${timeRange.end}`)\n}\n\nfunction addEventToCalendar(startTime, endTime, eventName, creatorName = 'block', creatorEmail) {\n    const event = { eventName, creatorName, creatorEmail, startTime, endTime }\n    return HttpService.post('calendar', event)\n}\n\nasync function removeEventFromCalendar(eventId) {\n    return HttpService.delete('calendar', { eventId })\n}\n\nasync function getAvailbleDailySlots(startTime, endtTime, duration) {\n    const dailySlots = { startTime, endtTime, duration }\n    return await HttpService.post('calendar/slots', dailySlots)\n}\n\n// MAKING SOME CALCULATIONS AND THAN CALLING OTHER FUNCTIONS TO ADD THE EVENT TO CALENDAR + MONGO DB\nasync function setAppointment(treatments, duration, phone, email, name, treatment) {\n    let time = UtilsService.changeTimeForDisplay(treatment.time, gUtcDiff)\n    const startTime = `${treatment.date}T${time}:00Z`\n    time = UtilsService.calculateEndTime(time, duration)\n    const endTime = `${treatment.date}T${time}:00Z`\n    const confirmedEvent = await addEventToCalendar(startTime, endTime, treatments, name, 'ayal@gmail.com')\n    console.log(confirmedEvent)\n    const event = {\n        name,\n        email,\n        phone,\n        eventId: confirmedEvent.id,\n        treatments,\n        duration,\n        startTime: startTime.slice(11, 20),\n        endTime: endTime.slice(11, 20),\n        date: startTime.slice(0, 10)\n    }\n    EventService.saveConfirmedEvent(event)\n    console.log(event);\n    EmailService.sendEmail(name, treatment.date, email, true, phone, duration, treatment.time, treatments)\n}\n\nasync function blockSlotRange(slotToBlock, name = 'block') {\n    let time1 = UtilsService.changeTimeForDisplay(slotToBlock.start, gUtcDiff)\n    let time2 = UtilsService.changeTimeForDisplay(slotToBlock.end, gUtcDiff)\n    const startTime = `${slotToBlock.date}T${time1}:00Z`\n    const endTime = `${slotToBlock.date}T${time2}:00Z`\n    const confirmedEvent = await addEventToCalendar(startTime, endTime, name)\n    const event = {\n        name,\n        email: '',\n        phone: '',\n        eventId: confirmedEvent.id,\n        treatments: '',\n        duration: '',\n        startTime: startTime.slice(11, 20),\n        endTime: endTime.slice(11, 20),\n        date: startTime.slice(0, 10)\n    }\n    EventService.saveConfirmedEvent(event)\n}\n\n\n/////////////////////calendarAdmin:\n\nfunction buildWeeklyModel(timeSlots, weeklyEvents) {\n    let tableCellsModel = []\n    for (var i = 0; i < timeSlots.length; i++) {\n        tableCellsModel.push([])\n    }\n    timeSlots.map((ts, tsIdx) => {\n        weeklyEvents.map((dailyEvents, dailyIdx) => {\n            if (dailyEvents.length) {\n                let isCellInUsed = false\n                return dailyEvents.map((ev, eventIdx) => {\n                    const range = UtilsService.checkIfTsInRange(ts, ev.start, ev.end, 30)\n                    if (range.occupied) {\n                        isCellInUsed = true\n                        tableCellsModel[dailyIdx, tsIdx].push(false)\n                    }\n                    else if ((dailyEvents.length === eventIdx + 1) && (!isCellInUsed)) {\n                        tableCellsModel[dailyIdx, tsIdx].push(true)\n                    }\n                })\n            } else {\n                tableCellsModel[dailyIdx, tsIdx].push(true)\n            }\n        })\n    })\n    return tableCellsModel\n}\n\nfunction getAvailbleDuration(table, cellPos, slotSize = 30) {\n    let durationAvalability = 0\n    let i = cellPos.tsIdx\n    while (table[i][cellPos.dailyIdx] && i < table.length - 1) {\n        durationAvalability += slotSize\n        i++\n    }\n    if (!durationAvalability) return slotSize\n    return durationAvalability\n}\n\nfunction getHoursToBlock(timeSlots, ts, availableDuration, date, isDayFullyAvailable, slotSize = 30) {\n    let hoursToBlock = []\n    const tsIdx = timeSlots.findIndex(timeSlot => timeSlot === ts)\n    const availableSlots = availableDuration / slotSize\n    for (let i = tsIdx; i < (tsIdx + availableSlots); i++) {\n        hoursToBlock.push(\n            {\n                date,\n                start: ts,\n                end: timeSlots[i + 1],\n                isMarked: false\n            }\n        )\n    }\n    if (isDayFullyAvailable) {\n        hoursToBlock.unshift(\n            {\n                date,\n                start: timeSlots[0],\n                end: timeSlots[timeSlots.length-1],\n                isMarked: false\n            }\n        )\n      if(ts===timeSlots[0])  hoursToBlock.pop()\n    }\n    return hoursToBlock\n}\n\n","import CalendarService from '../services/CalendarService';\nimport UtilsService from '../services/UtilsService';\n\n// THUNK\nexport function loadCalendar() {\n  \n  return async dispatch => {\n    try {\n      const calendar = await CalendarService.getCalendar();\n      dispatch(setCalendar(calendar));\n    } catch (err) {\n      console.log('calendarActions: err in loadCalendars', err);\n  };\n}\n}\n\nexport function setCalendar(calendar) {\n    return {\n      type: 'SET_CALENDAR',\n      calendar\n     };\n}\n\n\nexport function loadTimeSlots(pickedDate = null){\n  let date\n      if (!pickedDate) {\n        date = new Date()\n        var firstDay = UtilsService.getIsosDate (0)\n        var secondDay = UtilsService.getIsosDate (1)\n        var thirdDay = UtilsService.getIsosDate (2)\n      } else {\n      // get day after and day before\n      // firstDay = UtilsService.getIsosDate (-1, pickedDate)\n      // secondDay = UtilsService.getIsosDate (0,  pickedDate)\n      // thirdDay = UtilsService.getIsosDate (1, pickedDate )\n      date = pickedDate\n        firstDay = UtilsService.getIsosDate (0, pickedDate)\n        secondDay = UtilsService.getIsosDate (1, pickedDate)\n        thirdDay = UtilsService.getIsosDate (2, pickedDate )\n      } \n      // check for saturday (unwroking day), if it was, sending the correction to skip that day\n        if (!firstDay) {\n          firstDay = UtilsService.getIsosDate (1, date)\n          secondDay = UtilsService.getIsosDate (2, date)\n          thirdDay = UtilsService.getIsosDate (3, date )\n        }\n        if (!secondDay) {\n          firstDay = UtilsService.getIsosDate (0, date)\n          secondDay = UtilsService.getIsosDate (2, date)\n          thirdDay = UtilsService.getIsosDate (3, date )\n        }\n        if (!thirdDay) {\n          firstDay = UtilsService.getIsosDate (0, date)\n          secondDay = UtilsService.getIsosDate (1, date)\n          thirdDay = UtilsService.getIsosDate (3, date )\n         }     \n  return async dispatch => {\n    try {\n      const timeSlots = {\n        // 30M means the min block time range later to scheduale a meeting\n      firstDaySlots: await CalendarService.getAvailbleDailySlots(`${firstDay}T06:00:00`, `${firstDay}T18:00:00`, '1H'),\n      secondDaySlots: await CalendarService.getAvailbleDailySlots(`${secondDay}T06:00:00`, `${secondDay}T18:00:00`, '1H'),\n      thirdDaySlots : await CalendarService.getAvailbleDailySlots(`${thirdDay}T06:00:00`, `${thirdDay}T18:00:00`, '1H')\n      }\n      console.log('tssss', timeSlots)\n      dispatch(setTimeSlots(timeSlots));\n    } catch (err) {\n      console.log('Err getting timeslots', err);\n    }\n  }\n}\n\nexport function setTimeSlots(timeSlots) {\n  return {\n    type: 'SET_TIMESLOTS',\n    timeSlots\n   };\n}\n\n\n\nexport function updateHoursToBlock(slotsRangeToBlock) {\n   return  dispatch => { dispatch(_updateHoursToBlock(slotsRangeToBlock))}\n}\n\n\n\nexport function _updateHoursToBlock(slotsRangeToBlock) {\n    return {\n      type: 'UPDATE_HOURS_TO_BLOCK',\n      slotsRangeToBlock\n     };\n}\n\n\nexport function updateSlotToBlock(slotToBlock) {\n   return  dispatch => { dispatch(_updateSlotToBlock(slotToBlock))}\n}\n\n\n\nexport function _updateSlotToBlock(slotToBlock) {\n    return {\n      type: 'UPDATE_SLOT_TO_BLOCK',\n      slotToBlock\n     };\n}\n\n\nexport function updateIsDayFullyAvailable(isDayFullyAvailable) {\n   return  dispatch => { dispatch(_updateIsDayFullyAvailable(isDayFullyAvailable))}\n}\n\n\n\nexport function _updateIsDayFullyAvailable(isDayFullyAvailable) {\n    return {\n      type: 'UPDATE_IS_DAY_FULLY_AVAILABLE',\n      isDayFullyAvailable\n     };\n}\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport DateFnsUtils from '@date-io/date-fns';\nimport heLocale from \"date-fns/locale/he\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { motion } from 'framer-motion'\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport { TimeslotList } from '../../cmps/TimeslotList/TimeslotList';\nimport { loadTimeSlots } from '../../actions/calendarActions.js';\nimport { Swipeable } from 'react-swipeable'\nimport './CalendarApp.scss';\n\n// motion div style\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0,\n        textAlign: 'center'\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n// material ui - date picker style\nconst materialTheme = createMuiTheme({\n    overrides: {\n        MuiPickersToolbar: {\n            toolbar: {\n                backgroundColor: '#e91e63',\n            },\n        },\n\n        MuiPickersDay: {\n            day: {\n                color: 'black',\n            },\n            daySelected: {\n                backgroundColor: '#e91e63',\n            },\n            dayDisabled: {\n                color: '#e91e63',\n            },\n            current: {\n                color: '#e91e63',\n            },\n        },\n    },\n});\n\nexport function _CalendarApp(props) {\n\n    const [selectedDate, handleDateChange] = useState(new Date());\n    const [loader, setLoader] = useState(false);\n    const [calendarTitle, seTcalendarTitle] = useState('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n    const [pickerRedTitle, setPickerRedTitle] = useState('date-picker-title');\n\n    const { loadTimeSlots } = props\n    useEffect(() => {\n        loadTimeSlots()\n        if (props.timeSlots) {\n            setLoader(false)\n        }\n    }, [loadTimeSlots]);\n\n\n    async function handleChange(date) {\n        setLoader(true)\n        handleDateChange(date)\n        await props.loadTimeSlots(date)\n        if (props.timeSlots) {\n            setLoader(false)\n        }\n    }\n\n    function disableDay(date) {\n        return  (date.getDay() === 6);\n    }\n\n\n    function onSwipeDirection(direction) {\n        if(props.timeSlots&&!loader){\n            const dateCopy = (new Date(selectedDate.setDate(selectedDate.getDate())))\n        //need to change to normal way\n        if ((direction === 'Left')&& (selectedDate.getTime()) > (new Date().getTime())) {\n              // checking if there was an unworking day who should be skipped in the range (like saturday), and handle it by jumping one more\n            if ((dateCopy.getDay() - 1 === -1) || (dateCopy.getDay() - 2 === -1) || (dateCopy.getDay() - 3 === -1)){\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() - 4)));\n            } else {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() - 3)));\n            }\n        }\n        else if (direction === 'Right') {\n            // checking if there was an unworking day who should be skipped in the range (like saturday), and handle it by jumping one more\n            if ((dateCopy.getDay() + 1 === 6) || (dateCopy.getDay() + 2 === 6) || (dateCopy.getDay() + 3 === 6)){\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() + 4)));\n            } else {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() + 3)));\n            }\n        }\n        else {\n            if ((direction !== 'Up') && (direction !== 'Down')) {\n                seTcalendarTitle('לא ניתן לבחור תאריך שעבר')\n                setPickerRedTitle('picker-red-title')\n                setTimeout(() => {\n                    seTcalendarTitle('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n                    setPickerRedTitle('date-picker-title')\n                }, 3000);\n            }\n        }\n    }\n    }\n    return (\n        <>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{ width: \"100%\" }}\n            >\n                <div className=\"calendar-picker-container\">\n                    <div className={`${pickerRedTitle}`}>\n                        {calendarTitle}\n                    </div>\n                    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={heLocale} >\n                        <ThemeProvider theme={materialTheme}>\n                            <KeyboardDatePicker\n                                disableToolbar\n                                disablePast={true}\n                                shouldDisableDate={disableDay}\n                                variant=\"dialog\"\n                                okLabel=\"אישור\"\n                                cancelLabel=\"ביטול\"\n                                format=\"MM/dd/yyyy\"\n                                margin=\"normal\"\n                                id=\"date-picker-inline\"\n                                value={selectedDate}\n                                onChange={handleChange}\n                                keyboardbuttonprops={{\n                                    'aria-label': 'change date',\n                                }}\n                            />\n                        </ThemeProvider>\n                    </MuiPickersUtilsProvider>\n                </div>\n                <Swipeable onSwiped={(eventData) => onSwipeDirection(eventData.dir)} >\n                    <div className=\"main-container time-slot-lists-container\">\n                        {(props.timeSlots && !loader) ? <TimeslotList date={selectedDate} timeSlots={props.timeSlots} duration={props.duration} />\n                            : <div className=\"loaderContainer flex  justify-center\"><LoaderApp /></div>}\n                    </div>\n                </Swipeable>\n            </motion.div>\n            <NavBtns />\n        </>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        timeSlots: state.CalendarReducer.timeSlots,\n        duration: state.TreatmentReducer.duration\n    }\n}\n\nconst mapDispatchToProps = {\n    loadTimeSlots\n}\n\nexport const CalendarApp = connect(mapStateProps, mapDispatchToProps)(_CalendarApp)\n","const INITIAL_STATE = {\n    treatment: null,\n    treatments: null,\n    duration:0,\n    availableDuration:0,\n    pickedTreatmentsCount:0\n}\n\nexport function TreatmentReducer(state = INITIAL_STATE, action) {\n\n    switch (action.type) {\n\n        case 'SET_TREATMENTS':\n            return {\n                ...state,\n                treatments: action.treatments\n            }            \n        case 'SET_TREATMENT':\n            return {\n                ...state,\n                treatment: action.treatment\n            }    \n        case 'REMOVE_TREATMENT':\n        return {\n          ...state,\n          treatments: state.treatments.filter(treatment => treatment._id !== action.treatmentId)\n        };     \n        case 'UPDATE_TREATMENTS':\n          console.log('re',action.treatments)\n        return {\n          ...state,\n          treatments:action.treatments \n        };   \n        \n        case 'UPDATE_PICKED_TREATMENTS_COUNT' :\n        return {\n          ...state,\n          pickedTreatmentsCount: state.pickedTreatmentsCount+(action.count)\n        };              \n        case 'UPDATE_DURATION':\n        return {\n          ...state,\n          duration: state.duration+(action.duration)\n        };                 \n        case 'UPDATE_AVAILBLE_DURATION':\n        return {\n          ...state,\n          availableDuration: state.availableDuration+(action.availableDuration)\n        };                 \n        case 'INIT_DURATION':\n        return {\n          ...state,\n          duration:0,\n          availableDuration:0\n        };           \n        case 'INIT_PICKED_TREATMENTS_COUNT':\n        return {\n          ...state,\n          pickedTreatmentsCount:0\n        };           \n      \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n  step:0,\n  steps:['בחירת טיפולים ', ' בחירת תור', 'אישור']\n}\n\nexport function StepperReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'UPDATE_ACTIVE_STEP':\n            return {\n                ...state,\n                step:action.step\n            }       \n       \n        default:\n            return state;\n    }\n}\n\n","const INITIAL_STATE = {\n    calendar: null,\n    timeSlots: null,\n    hoursToBlock:null,\n    slotToBlock:null,\n    confirmedEventId:null,\n    isDayFullyAvailable:false\n}\n\nexport function CalendarReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {      \n        \n        case 'SET_CALENDAR':\n            return {\n                ...state,\n                calendar: action.calendar\n            }          \n        case 'SET_TIMESLOTS':\n            return {\n                ...state,\n                timeSlots: action.timeSlots\n            }          \n        case 'UPDATE_HOURS_TO_BLOCK':\n            return {\n                ...state,\n                slotsRangeToBlock: action.slotsRangeToBlock\n            }          \n        case 'UPDATE_SLOT_TO_BLOCK':\n            return {\n                ...state,\n                slotToBlock: action.slotToBlock\n            }          \n        case 'UPDATE_IS_DAY_FULLY_AVAILABLE':\n            return {\n                ...state,\n                isDayFullyAvailable: action.isDayFullyAvailable\n            }          \n\n        default:\n            return state;\n    }\n}\n\n\n","import UserService from '../services/UserService';\n\nconst INITIAL_STATE = {\n    users: [],\n    userToSchedule: null,\n    isAdShown: false,\n    userPhoneInContactSignup: ''\n}\n\nexport function UserReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n\n        case 'SET_USERS':\n            return {\n                ...state,\n                   users: (state.userPhoneInContactSignup) ? UserService.unshiftCellByPhoneNumber(action.users, state.userPhoneInContactSignup) : action.users\n            }\n        case 'UPDATE_USERS':\n            return {\n                ...state,\n                users: action.users\n            }\n        case 'SET_USER_TO_SCHEDULE':\n            return {\n                ...state,\n                userToSchedule: action.userToSchedule\n            }\n        case 'UPDATE_USER_TO_SCHEDULE':\n            return {\n                ...state,\n                userToSchedule: action.userToSchedule\n            }\n        case 'UPDATE_IS_AD_SHOWN':\n            return {\n                ...state,\n                isAdShown: action.isAdShown\n            }\n        case 'UPDATE_NUMBER_IN_CONTACT_SIGNUP':\n            return {\n                ...state,\n                userPhoneInContactSignup: action.userPhoneInContactSignup\n            }\n\n        default:\n            return state;\n    }\n}\n","import { TreatmentReducer } from './reducers/TreatmentReducer';\nimport { StepperReducer } from './reducers/StepperReducer';\nimport { CalendarReducer } from './reducers/CalendarReducer';\nimport { UserReducer } from './reducers/UserReducer';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst rootReducer = combineReducers({\n    TreatmentReducer,\n    CalendarReducer,\n    StepperReducer,\n    UserReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","import {store} from \"../store.js\";\n\nexport default {\n    initApp\n}\n\nfunction initApp() {\n    store.dispatch({type: 'UPDATE_ACTIVE_STEP',step:0})\n    store.dispatch({type: 'SET_TREATMENT', treatment:null})\n    store.dispatch({type: 'SET_TREATMENTS', treatments:null})\n    store.dispatch({type: 'SET_TIMESLOTS',timeSlots:null})\n    store.dispatch({type: 'INIT_DURATION'})\n    store.dispatch({type: 'INIT_PICKED_TREATMENTS_COUNT'})\n}\n\n","import React, { useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { NavBtns } from '../../cmps/NavBtns/NavBtns';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport StoreService from '../../services/StoreService';\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { motion } from 'framer-motion'\nimport TreatmentService from \"../../services/TreatmentService\";\nimport StorageService from \"../../services/StorageService\";\nimport './SubmitForm.scss';\n\n// style for motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n// style for modal + input material ui\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        border: '2px solid #000',\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(2, 4, 3),\n        color: 'form-title'\n    },\n    input: {\n        '& > *': {\n            margin: theme.spacing(1),\n            width: '25ch',\n        }\n    }\n}));\n\nexport function _SubmitForm(props) {\n    const location = useLocation()\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [markedTreatmetns, setMarkedTreatmetns] = React.useState('');\n    const dateIsraeliDisplay = UtilsService.convertDateToIsraelisDisplay(props.treatment.date)\n    const endTime = UtilsService.calculateEndTime(props.treatment.time, props.duration)\n    const { name, phone, email } = props.userToSchedule\n    useEffect(() => {\n        setMarkedTreatmetns(TreatmentService.getMarkedTreatmentsStr(props.treatments))\n    }, [props.treatments])\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n    };\n\n    function init() {\n        StoreService.initApp()\n        props.history.push('/treatments')\n    }\n\n    async function setAppointment() {\n        await CalendarService.setAppointment(markedTreatmetns, props.duration, phone, email, name, props.treatment)\n    }\n\n    let isCalendarAdminForm = (location.pathname === '/calendarAdmin/form')\n\n    return (\n        <div className=\"submit-form flex column  align-center\">\n          {!isCalendarAdminForm&&  <button className=\"restart-btn\" onClick={init}>אתחול  <i className=\"fas fa-redo-alt\"></i></button>}\n            <div className={`user-details ${isCalendarAdminForm ?'user-details-in-modal':''}`}>\n                <div>שם : {name}</div>\n                <div>טלפון : {phone}</div>\n                <div>אימייל : {email}</div>\n            </div>\n            <motion.div\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n                style={{ textAlign: 'center', width: '100%' }}\n            >\n                <div className=\"appointment-details\">\n                    <div className=\"table-cell\">סוג הטיפול : {TreatmentService.getMarkedTreatmentsStr(props.treatments)}</div>\n                    <div className=\"table-cell\">תאריך : {UtilsService.convertDateToIsraelisDisplay(props.treatment.date)}</div>\n                    <div className=\"last-cell\">בין השעות : {props.treatment.time} - {UtilsService.calculateEndTime(props.treatment.time, props.duration)}</div>\n                </div>\n\n                <Modal\n                    aria-labelledby=\"transition-modal-title\"\n                    aria-describedby=\"transition-modal-description\"\n                    className={classes.modal}\n                    open={open}\n                    onClose={handleClose}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{\n                        timeout: 500,\n                    }}\n                >\n                    <Fade in={open}>\n                        <div className={classes.paper}>\n                            <h2 id=\"transition-modal-title\">התור נקבע בהצלחה</h2>\n                            <div> נקבע לך תור ל: {markedTreatmetns}  </div>\n                            <div> בתאריך {dateIsraeliDisplay}</div>\n                            <div> בין השעות: {endTime} - {props.treatment.time}</div>\n\n                        </div>\n                    </Fade>\n                </Modal>\n            </motion.div>\n            {!isCalendarAdminForm&& <NavBtns handleOpen={handleOpen} setAppointment={setAppointment} />}\n        </div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        treatments: state.TreatmentReducer.treatments,\n        treatment: state.TreatmentReducer.treatment,\n        duration: state.TreatmentReducer.duration,\n        userToSchedule: state.UserReducer.userToSchedule,\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const SubmitForm = withRouter(connect(mapStateProps, mapDispatchToProps)(_SubmitForm))\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { motion } from 'framer-motion'\nimport { setTimeSlots } from '../../actions/calendarActions.js';\nimport { updateActiveStep } from '../../actions/stepperActions';\nimport UtilsService from \"../../services/UtilsService\";\nimport CalendarService from '../../services/CalendarService';\nimport EventService from '../../services/EventService';\nimport EmailService from '../../services/EmailService';\nimport StoreService from '../../services/StoreService';\nimport StorageService from \"../../services/StorageService\";\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport './CancelAppointment.scss';\n\n// style motion div\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function _CancelAppointment(props) {\n    useEffect(() => {\n        getEventsByPhone()\n    }, []);\n\n    // style material ui modal\n    const useStyles = makeStyles((theme) => ({\n\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            color: 'form-title'\n        },\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n                width: '25ch',\n                color: '#172b4d'\n            }\n        },\n    }));\n\n\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const [loader, setLoader] = React.useState(<LoaderApp />);\n    setTimeout(() => {\n        setLoader('')\n    }, 2000);\n    const [phone, setPhone] = React.useState((props.userPhone)? props.userPhone:StorageService.loadFromStorage('tori-user').phone);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n        init()\n    };\n\n    const [eventsToCancel, setEventsToCancel] = useState(null)\n\n    const [pageCount, setPageCount] = useState(0)\n\n    function init() {\n        StoreService.initApp()\n    }\n\n    function getEventsByPhone() {\n        console.log(phone)\n        EventService.getEventByPhone(phone)\n            .then(events => {\n                if (!events[0]) return\n                console.log(events)\n                const filteredEvents = events.filter(event => {\n                    let year = event.date.slice(0, 4)\n                    let month = event.date.slice(5, 7)\n                    let day = event.date.slice(8, 10)\n                    let hours = +event.startTime.slice(0, 2) + 3\n                    console.log(hours)\n                    const date = new Date(year, month - 1, day, hours, 0).getTime()\n                    console.log(date, Date.now())\n                    return (date > Date.now())\n                })\n                console.log(filteredEvents)\n                if (filteredEvents.length) {\n                    setEventsToCancel(UtilsService.getEventReadyForDisplay(filteredEvents))\n                } else {\n                    setEventsToCancel(null)\n                }\n            })\n    }\n\n    async function cancelAppointment(eventId) {\n        const events = await EventService.getEventByPhone(phone)\n        let eventToRmove = events.find(event => event._id === eventId)\n        console.log(eventToRmove)\n        // delete from Calendar\n        CalendarService.removeEventFromCalendar(eventToRmove.eventId)\n        EmailService.sendEmail(eventToRmove.name, eventToRmove.date, eventToRmove.email, false)\n        // delete from mongo data base\n        await EventService.removeEventFromDB(eventToRmove._id)\n        getEventsByPhone() \n        // setEventsToCancel(null)\n        handleOpen()\n    }\n\n    return (\n        <div className=\"cancel-appointment flex column align-center space-between \">\n            <motion.div\n                className=\"motion-div\"\n                initial=\"out\"\n                exit=\"in\"\n                animate=\"in\"\n                variants={pageVariants}\n                transition={pageTransition}\n            >\n                {\n                    (loader) ?\n                        <div className=\"cancel-apointment-loader\">{loader}</div>\n                        :\n                        <main >\n                            <div className=\"table-wrapper\">\n                                {(eventsToCancel) ?\n                                    <div className={`cancel-table-container ${(props.userPhone)?'table-container-in-contacts-modal':''}`}>\n                                        <div className=\"apointment-details\">\n                                            <div className=\"table-cell\"> <span>סוג הטיפול</span> : {eventsToCancel[pageCount].treatments}</div>\n                                            <div className=\"table-cell\"> בתאריך : {eventsToCancel[pageCount].date}</div>\n                                            <div className=\"last-cell\"> בין השעות : {`${eventsToCancel[pageCount].endTime} - ${eventsToCancel[pageCount].startTime}`}</div>\n                                        </div>\n                                        {(eventsToCancel.length > 1) &&\n                                            <div className=\"arrows-container flex space-between\">\n                                                {(eventsToCancel[pageCount - 1]) ? <i onClick={() => setPageCount(pageCount - 1)} className=\"arrow fas fa-angle-right\"></i>\n                                                    : <i className=\"arrow-disabled fas fa-angle-right\"></i>\n                                                }\n                                                {eventsToCancel[pageCount + 1] ? <i onClick={() => setPageCount(pageCount + 1)} className=\"arrow fas fa-angle-left\"></i>\n                                                    : <i className=\"arrow-disabled fas fa-angle-left\"></i>\n                                                }\n                                            </div>\n                                        }\n                                        <button onClick={() => cancelAppointment(eventsToCancel[pageCount].id)} className={`${(props.userPhone)?'contacts-modal-btn':''} trash-btn`} > בטל תור <i className=\"fas fa-trash\" ></i></button>\n                                    </div>\n                                    :\n                                    <div className=\"no-apointments\">\n                                        לא נמצאו תורים\n                                    </div>\n                                }\n                            </div>\n\n                            <Modal\n                                aria-labelledby=\"transition-modal-title\"\n                                aria-describedby=\"transition-modal-description\"\n                                className={classes.modal}\n                                open={open}\n                                onClose={handleClose}\n                                closeAfterTransition\n                                BackdropComponent={Backdrop}\n                                BackdropProps={{\n                                    timeout: 500,\n                                }}\n                            >\n                                <Fade in={open}>\n                                    <div className={classes.paper}>\n                                        <h2 id=\"transition-modal-title\">התור בוטל</h2>\n                                        <p id=\"transition-modal-description\"></p>\n                                    </div>\n                                </Fade>\n                            </Modal>\n                        </main>\n                }\n            </motion.div>\n        </div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n    }\n}\n\nconst mapDispatchToProps = {\n    updateActiveStep,\n    setTimeSlots\n}\n\nexport const CancelAppointment = withRouter(connect(mapStateProps, mapDispatchToProps)(_CancelAppointment))\n\n\n","import React, { useState, useEffect } from \"react\";\nimport { motion } from 'framer-motion'\nimport './SignupOrLogin.scss';\nimport { Link } from 'react-router-dom'\n\n\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function SignupOrLogin(props) {\n\n\n\n\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"signup-or-login-container flex align-center justify-center column\">\n                <div className=\"square top-square\">\n                    <Link className=\"signUp-link flex align-center justify-center \" to=\"/signup\">\n                       <div>הרשמ/י</div> \n            </Link>\n                </div>\n                <div className=\"square bottom-square\">\n                    <Link className=\"login-link flex align-center justify-center\" to=\"/login\">\n                       <div>התחבר/י</div> \n            </Link>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom'\nimport StorageService from \"../../services/StorageService\";\nimport UserService from \"../../services/UserService\";\nimport { motion } from 'framer-motion'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport './Login.scss';\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\nconst ownerPassword = '1234'\n\nexport function Login(props) {\n    const [phone, setPhone] = React.useState('')\n    const [password, setPassword] = useState('');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [phoneIsValid, setPhoneIsValid] = useState(false);\n\n    useEffect(() => {\n        checkValidation()\n    }, [phone])\n\n    // hide text validation if text is valid\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'phone':\n                setPhone(value)\n                console.log(phoneIsValid)\n                break;\n            case 'password':\n                console.log(value)\n                setPassword(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        setPhoneIsValid((phone.length > 8) && (phone.length < 11))\n    }\n\n    function toggleValidations() {\n        if (!phoneIsValid) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n    }\n\n\n    async function setUser() {\n        const user = await UserService.getUser(phone)\n        //validation of owner phone number\n        if (user) {\n            console.log(await UserService.isAdmin(user));\n            if (!await UserService.isAdmin(user)) {\n                //need to bring from mongo\n                const { name, email, phone} = user\n                StorageService.saveToStorage('tori-user', { name, email, phone})\n                props.history.push('/treatments')\n            }\n            else {\n                handleClickOpen()\n            }\n        } else {\n            handleModalClickOpen()\n        }\n    }\n\n    const [open, setOpen] = React.useState(false);\n    const [dialogTitle, setDialogTitle] = React.useState(' הרשאת מנהל');\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = async (close) => {\n        const user = await UserService.getUser(phone)\n        if (close !== 'close') {\n            //owner password\n            if (password === ownerPassword) {\n                setOpen(false);\n                const { name, email, phone} = user\n                StorageService.saveToStorage('tori-user', { name, email, phone})\n                props.history.push('/calendarAdmin')\n            }\n            else {\n                setDialogTitle('ססמא שגויה!')\n            }\n        }\n        else {\n            setOpen(false);\n            setDialogTitle('הרשאת מנהל')\n        }\n    };\n\n\n\n    const [openModal, setOpenModal] = React.useState(false);\n\n    const handleModalClickOpen = () => {\n        setOpenModal(true);\n    };\n\n    const handleModalClose = () => {\n        setOpenModal(false);\n    };\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"main-login-container flex align-center justify-center column\">\n                <div className=\"login-title\">\n                    אנא הכניסו מספר טלפון לזיהוי\n                </div>\n                <form className=\"main-form flex align-center column\">\n\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className={`validation-text ${togglePhoneValidation}`}>\n                                {\n                                    (phone) ?\n                                        \"מספר הטלפון שהוקש שגוי\"\n                                        :\n                                        \"זהו שדה חובה, יש להכניס טלפון\"\n                                }\n                            </div>\n                        </div>\n                        <input className=\"phone\" name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n\n                    </div>\n\n                </form>\n\n                <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className=\"save-btn\" onClick={setUser} disabled={!phoneIsValid}>התחבר</button></span>\n\n                <div>\n                    <Dialog open={open} onClose={() => handleClose('close')} aria-labelledby=\"form-dialog-title\">\n                        <DialogTitle id=\"form-dialog-title\"> {dialogTitle}</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                הכנס סיסמה\n          </DialogContentText>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"name\"\n                                label=\"סיסמה\"\n                                type=\"email\"\n                                fullWidth\n                                value={password}\n                                onChange={handleChange}\n                                name=\"password\"\n                            />\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => handleClose('close')} color=\"primary\">\n                                בטל\n          </Button>\n                            <Button onClick={handleClose} color=\"primary\">\n                                אשר\n          </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n\n                {/* modal dialog */}\n                <div>\n                    <Dialog\n                        open={openModal}\n                        onClose={handleModalClose}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        {/* <DialogTitle id=\"alert-dialog-title\">{\"Use Google's location service?\"}</DialogTitle> */}\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description row\">\n                                <div>\n                                    <div>\n                                        המספר שהוקש אינו קיים במערכת.\n                                    </div>\n                                    <div className=\"flex\">\n                                        <div>להרשמה לחץ</div>\n                                        <Link className=\"login-link flex align-center justify-center\" to=\"/signup\">\n                                             כאן\n                                       </Link>\n                                    </div>\n                                </div>\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleModalClose} color=\"primary\" autoFocus>\n                                ביטול\n                         </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport {updateUserPhoneInContactSignup,updateUserToSchedule} from '../../actions/userAction.js';\nimport { useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { Link } from 'react-router-dom'\nimport UtilsService from \"../../services/UtilsService\";\nimport UserService from \"../../services/UserService\";\nimport { motion } from 'framer-motion'\nimport './Signup.scss';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\nexport function _Signup(props) {\n    const location = useLocation()\n    const [credentials, setCredentials] = React.useState({ name: '', phone: '', email: '' })\n    const { name, phone, email } = credentials\n    const [toggleNameValidation, setToggleNameValidation] = useState('visibility');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [toggleEmailValidation, setToggleEmailValidation] = useState('visibility');\n    const [isValid, setIsValid] = useState(\n        {\n            name: false,\n            phone: false,\n            email: true\n        }\n    );\n\n    useEffect(() => {\n        checkValidation()\n    }, [credentials])\n\n    // hide text validation if text is valid\n    useEffect(() => {\n        if (name) setToggleNameValidation('visibility')\n    }, [name])\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n    useEffect(() => {\n        if (UtilsService.validateEmail(email)) {\n            setToggleEmailValidation('visibility')\n        }\n    }, [email])\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'name':\n                setCredentials({ ...credentials, name: value })\n                break;\n            case 'phone':\n                setCredentials({ ...credentials, phone: value })\n                break;\n            case 'email':\n                setCredentials({ ...credentials, email: value })\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        let emailIsValid = true\n        if (email) {\n            emailIsValid = UtilsService.validateEmail(email)\n        }\n        setIsValid({\n            name: (name.length > 0),\n            phone: ((phone.length > 8) && (phone.length < 11)),\n            email: emailIsValid\n        })\n    }\n\n    function toggleValidations() {\n        if (!isValid.name) {\n            setToggleNameValidation('')\n        } else {\n            setToggleNameValidation('visibility')\n        }\n        if (!isValid.phone) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n        if (!isValid.email) {\n            setToggleEmailValidation('')\n        } else {\n            setToggleEmailValidation('visibility')\n        }\n    }\n\n    function transferToContact(){\n        props.history.push('/calendarAdmin/contacts')\n    }\n\n    const isContactsPath = (location.pathname === '/calendarAdmin/contacts/signup')\n    \n    async function setUser() {\n        const user = await UserService.getUser(phone)\n        if (user) {\n            handleClickOpen()\n        } else {\n            console.log(location.pathname)\n          await  UserService.addUser(credentials, isContactsPath)\n            if (!isContactsPath) {\n                if (phone !== '123456789') props.history.push('/treatments')\n                else props.history.push('/calendarAdmin')\n            } else {\n               await props.updateUserPhoneInContactSignup(credentials.phone)\n               props.updateUserToSchedule(credentials)\n                transferToContact()\n            }\n        }\n    }\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n\n    return (\n        <motion.div\n            className=\"motion-div\"\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n        >\n            <main className=\"main-login-container flex align-center justify-center column\">\n            {isContactsPath&& <header className=\"header-in-signup-modal\"> </header>}\n              {isContactsPath&&<div className=\"transfer-to-contact\" onClick={transferToContact}><i class=\"fas fa-arrow-right\"></i></div>}\n                <div className={`login-title ${isContactsPath? 'login-title-display-none' : ''}`}>\n                    אנא מלאו את השדות הבאים ולחצו 'שמור'.\n                    <div className=\"login-title-sub\">שדות המסומנים ב - *  הינם שדות חובה</div>\n                </div>\n                <form className={`main-form flex align-center justify-center column ${isContactsPath?'main-form-in-contact-path' :''}`}>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* שם מלא  </div>\n                            <div className={`validation-text ${toggleNameValidation}`}>זהו שדה חובה, יש להכניס שם</div>\n                        </div>\n                        <input autoFocus={true} className=\"name\" name=\"name\" id=\"outlined-basic\" variant=\"outlined\" value={name} onChange={handleChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* טלפון  </div>\n                            <div className={`validation-text ${togglePhoneValidation}`}>\n                                {\n                                    (phone) ?\n                                        \"מספר הטלפון שהוקש שגוי\"\n                                        :\n                                        \"זהו שדה חובה, יש להכניס טלפון\"\n                                }\n                            </div>\n                        </div>\n                        <input className=\"phone\" name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title form-title-email\">מייל </div>\n                            <div className={`validation-text ${toggleEmailValidation}`}>האימייל שהוקש שגוי</div>\n                        </div>\n                        <input className=\"email\" name=\"email\" id=\"outlined-basic\" variant=\"outlined\" value={email} onChange={handleChange} />\n                    </div>\n                </form>\n\n                <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className={`save-btn ${isContactsPath?'save-btn-in-contact-path' :''}`} onClick={setUser} disabled={!isValid.phone || !isValid.email || !isValid.name}>שמור</button></span>\n                <div>\n                    <Dialog\n                        open={open}\n                        TransitionComponent={Transition}\n                        keepMounted\n                        onClose={handleClose}\n                        aria-labelledby=\"alert-dialog-slide-title\"\n                        aria-describedby=\"alert-dialog-slide-description\"\n                    >\n                        {/* <DialogTitle id=\"alert-dialog-slide-title\">{\"Use Google's location service?\"}</DialogTitle> */}\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-slide-description\">\n                                <div>\n                                    <div>\n                                        המספר שהוקש כבר קיים במערכת.\n                                    </div>\n                                    {(!isContactsPath) &&\n                                        <div className=\"flex\">\n                                            <div>להתחברות לחץ</div>\n                                            <Link className=\"login-link flex align-center justify-center\" to=\"/login\">\n                                                כאן\n                                       </Link>\n                                        </div>\n                                    }\n                                </div>\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"primary\">\n                                ביטול\n                       </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n            </main>\n        </motion.div>\n    );\n}\n\n\n\n\nfunction mapStateProps(state) {\n    return {\n       \n    }\n}\n\nconst mapDispatchToProps = {\n    updateUserPhoneInContactSignup,\n    updateUserToSchedule\n}\n\nexport const Signup = connect(mapStateProps, mapDispatchToProps)(_Signup)","import HttpService from './HttpService'\n\nexport default {\n    getAd,\n    updateAd,\n    toggleAdMode,\n    createAd\n}\n\n// MONGO DB - GOES THREW BACKEND\n\n function getAd() {\n    return HttpService.get('advertise')\n}\n\nfunction updateAd(content) {\n    console.log(content);\n    return HttpService.put('advertise', content)\n}\n\nfunction toggleAdMode(isAdMoneOn){\n    console.log(isAdMoneOn)\n    return HttpService.put('advertise/mode',isAdMoneOn)\n}\n\n function createAd() {\n    return  HttpService.post('advertise')\n}\n\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { updateIsAdShown } from '../../actions/userAction';\nimport AdvertiseService from '../../services/AdvertiseService';\nimport UserService from '../../services/UserService';\nimport StorageService from \"../../services/StorageService\";\nimport './HomePage.scss';\n\nexport function _HomePage(props) {\n    const [isAdModalOpen, setIsAdModalOpen] = React.useState(false);\n\n    function closeAdModal() {\n        setModalInClass('')\n        setTimeout(() => {\n            setIsAdModalOpen(false)\n        }, 1100);\n    }\n\n    function changeRoute(route) {\n        (user) ? props.history.push(route) : props.history.push('/signupOrLogin')\n    }\n\n    const [user, setUser] = useState(StorageService.loadFromStorage('tori-user'));\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [advertise, setAdvertise] = useState();\n    const [modalInClass, setModalInClass] = useState('');\n    const wazeUrl = 'https://www.waze.com/ul?ll=32.07757250%2C34.82430500&navigate=yes'\n    const facebook = 'bokeresh'\n    const instagram = 'restylebar'\n\n    useEffect(() => {\n        (async () => {\n            if (user) {\n                let ad = await AdvertiseService.getAd()\n                ad = ad[0]\n                if (! await UserService.isAdmin(user)){\n                    if (ad && ad.content && ad.isAdModeOn) {\n                        if (!props.isAdShown) {\n                            setAdvertise(ad.content)\n                            setIsAdModalOpen(true)\n                            setTimeout(() => {\n                                setModalInClass('ad-modal-in')\n                            }, 1000);\n\n                            props.updateIsAdShown(true)\n                        }\n                    }\n                } else {\n                    setIsAdmin(true)\n                    if (ad) return\n                    else {\n                        console.log('else')\n                        AdvertiseService.createAd()\n                    }\n                }\n            }\n        })()\n    }, [user]);\n\n\n    return (\n        <div className=\"home-page-wrapper\">\n            <main className=\"home-page\">\n                <img className=\"cover-photo\" src={require('../../styles/img/oo.png')} />\n                {(user) ?\n                    <div className=\"login-container\" onClick={() => props.history.push('/editUser')}>\n                        <div className=\"admin-logo\"> <i className=\"fas fa-user-tie\"></i></div>\n                        <div>{user.name}</div>\n                    </div>\n                    :\n                    <div className=\"login-container\" onClick={() => props.history.push('/signupOrLogin')}>\n                        <div className=\"user-logo\">  <i className=\"fas fa-user-tie\"></i></div>\n                        <div>הרשם/</div>\n                        <div>התחבר</div>\n                    </div>\n                }\n                <div className=\"profile-container\">\n                    <div className=\"profile-img\"></div>\n                    <div className=\"profile-text-container\">\n                        <div id=\"profile-title\" className=\"profile-title\">Dee Nail Salon</div>\n                        <div className=\"profile-sub-title\">מכון לבניית ציפורניים</div>\n                    </div>\n                </div>\n                <div className=\"icons-container flex column align-center justify-center\">\n                    <div className=\"top-icons-container flex space-around\">\n                        <a className=\"facebook-container\" href={`https://www.facebook.com/${facebook}/`} >\n                            <div className=\"circle\"><i class=\"fab fa-facebook-f\"></i> </div>\n                       פייסבוק\n                        </a>\n                        <a className=\"instagram-container\" href={`https://www.instagram.com/${instagram}/`}>\n                            <div className=\"circle\"><i class=\"fab fa-instagram\"></i></div>\n                           אינסטגרם\n                        </a>\n                        <a className=\"waze-container\" href={wazeUrl}>\n                            <div className=\"circle\"> <i className=\"fab fa-waze\"></i></div>\n                        נווטו אלינו\n                        </a>\n                    </div>\n                    {(user && !isAdmin)\n                        ?\n                        < div className=\"bottom-icons-container flex space-around\">\n                            <div className=\"queue-container\" onClick={() => changeRoute('/treatments')}>\n                                <div className=\"circle\"><i class=\"fas fa-user-clock\"></i></div>\n                    קביעת תור\n                    </div>\n                            <div className=\"remove-queue-container\" onClick={() => changeRoute('/cancelAppointment')}>\n                                <div className=\"circle\"><i class=\"fas fa-user-times\"></i></div>\n                    ביטול תור\n                    </div>\n                            <a className=\"phone\" href=\"tel:0538281511\">\n                                <div className=\"circle\"><i className=\"fas fa-phone-alt\"></i></div>\n                         חייגו אלינו\n                    </a>\n                        </div>\n                        :\n                        user\n                            ?\n                            < div className=\"bottom-icons-container flex space-around\">\n                                <div className=\"queue-container\" onClick={() => changeRoute('/calendarAdmin')}>\n                                    <div className=\"circle\"><i class=\"far fa-calendar-alt\"></i></div>\n                     יומן\n                       </div>\n                                <div className=\"remove-queue-container\" onClick={() => changeRoute('/adminContacts')}>\n                                    <div className=\"circle\"><i class=\"fas fa-users\"></i> </div>\n                    לקוחות\n                      </div>\n                                <div className=\"remove-queue-container\" onClick={() => changeRoute('/advertise')}>\n                                    <div className=\"circle\"><i class=\"far fa-comment-alt\"></i></div>\n                    פרסומים\n                      </div>\n                            </div>\n                            :\n                            < div className=\"bottom-icons-container flex space-around\">\n                                <div className=\"queue-container\" onClick={() => changeRoute('/treatments')}>\n                                    <div className=\"circle\"><i class=\"fas fa-user-clock\"></i></div>\n                        קביעת תור\n                         </div>\n                                <div className=\"remove-queue-container\" onClick={() => changeRoute('/cancelAppointment')}>\n                                    <div className=\"circle\"><i class=\"fas fa-user-times\"></i></div>\n                       ביטול תור\n                         </div>\n                                <a className=\"phone\" href=\"tel:0538281511\">\n                                    <div className=\"circle\"><i className=\"fas fa-phone-alt\"></i></div>\n                        חייגו אלינו\n                          </a>\n                            </div>\n                    }\n                </div>\n                {isAdModalOpen &&\n                    <>\n                        <div className=\"ad-modal-screen\" onClick={closeAdModal}> </div>\n                        <div className={`ad-modal ${modalInClass}`}>\n                            <div> {advertise}</div>\n                            <button className=\"ad-modal-btn\" onClick={closeAdModal}> אישור</button>\n                        </div>\n\n                    </>\n                }\n            </main>\n        </div >\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        isAdShown: state.UserReducer.isAdShown\n    }\n}\n\nconst mapDispatchToProps = {\n    updateIsAdShown,\n}\n\nexport const HomePage = withRouter(connect(mapStateProps, mapDispatchToProps)(_HomePage))","import React, { useState, useEffect, useRef } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport StorageService from \"../../services/StorageService\";\nimport UtilsService from \"../../services/UtilsService\";\nimport UserService from '../../services/UserService';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { motion } from 'framer-motion'\nimport './EditUser.scss';\n\nconst ownerPassword = '1234'\n\n// motion div style\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0,\n        textAlign: 'center'\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\nexport function _EditUser(props) {\n    const [credentials, setCredentials] = React.useState(StorageService.loadFromStorage('tori-user'))\n    const { name, phone, email } = credentials\n    const [password, setPassword] = useState('');\n    const [oldPhone, setOldPhone] = useState('');\n    const [toggleNameValidation, setToggleNameValidation] = useState('visibility');\n    const [togglePhoneValidation, setTogglePhoneValidation] = useState('visibility');\n    const [toggleEmailValidation, setToggleEmailValidation] = useState('visibility');\n    const [isValid, setIsValid] = useState(\n        {\n            name: false,\n            phone: false,\n            email: true\n        }\n    );\n\n    useEffect(() => {\n        setOldPhone(credentials.phone)\n    }, [])\n\n    useEffect(() => {\n        checkValidation()\n    }, [credentials])\n\n    // hide text validation if text is valid\n    useEffect(() => {\n        if (name) setToggleNameValidation('visibility')\n    }, [name])\n\n    useEffect(() => {\n        if ((phone.length > 8) && (phone.length < 11)) {\n            setTogglePhoneValidation('visibility')\n        }\n    }, [phone])\n\n    useEffect(() => {\n        if (UtilsService.validateEmail(email)) {\n            setToggleEmailValidation('visibility')\n        }\n    }, [email])\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'name':\n\n                setCredentials({ ...credentials, name: value })\n                break;\n            case 'phone':\n                setCredentials({ ...credentials, phone: value })\n                // checkPhoneValidation()\n                break;\n            case 'email':\n                setCredentials({ ...credentials, email: value })\n                // checkEmailValidation()\n                break;\n            case 'password':\n                setPassword(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n\n\n    function checkValidation() {\n        let emailIsValid = true\n        if (email) {\n            emailIsValid = UtilsService.validateEmail(email)\n        }\n        setIsValid({\n            name: (name.length > 0),\n            phone: ((phone.length > 8) && (phone.length < 11)),\n            email: emailIsValid\n        })\n    }\n\n    function toggleValidations() {\n        if (!isValid.name) {\n            setToggleNameValidation('')\n        } else {\n            setToggleNameValidation('visibility')\n        }\n        if (!isValid.phone) {\n            setTogglePhoneValidation('')\n        } else {\n            setTogglePhoneValidation('visibility')\n        }\n        if (!isValid.email) {\n            setToggleEmailValidation('')\n        } else {\n            setToggleEmailValidation('visibility')\n        }\n    }\n\n\n    async function setUser() {\n        //validation of owner phone number\n        if (! await UserService.isAdmin(credentials,oldPhone)) {\n            UserService.updateUser(credentials)\n            props.history.push('/')\n        }\n        else {\n            handleClickOpen()\n        }\n    }\n\n    const [open, setOpen] = React.useState(false);\n    const [dialogTitle, setDialogTitle] = React.useState(' הרשאת מנהל');\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (close) => {\n        if (close !== 'close') {\n            //owner password\n            if (password === ownerPassword) {\n                setOpen(false);\n                UserService.updateUser(credentials)\n                props.history.push('/')\n            }\n            else {\n                setDialogTitle('ססמא שגויה!')\n            }\n        }\n        else {\n            setOpen(false);\n            setDialogTitle('הרשאת מנהל')\n        }\n    };\n\n\n\n\n    const [isNameEditing, setIsNameEditing] = useState(false);\n    const [isNameDisabled, setIsNameDisabled] = useState(true);\n    const [nameBorderBottom, setNameBorderBottom] = useState('thin-border-bottom');\n    const nameFocus = useRef(null);\n    useEffect(() => {\n        if (isNameEditing) {\n            //unable phone\n            setIsPhoneEditing(false)\n            setIsPhoneDisabled(true)\n            setPhoneBorderBottom('thin-border-bottom')\n            //unable email\n            setIsEmailEditing(false)\n            setIsEmailDisabled(true)\n            setEmailBorderBottom('thin-border-bottom')\n            nameFocus.current.focus();\n        }\n    }, [isNameEditing]);\n\n    const [isPhoneEditing, setIsPhoneEditing] = useState(false);\n    const [isPhoneDisabled, setIsPhoneDisabled] = useState(true);\n    const [phoneBorderBottom, setPhoneBorderBottom] = useState('thin-border-bottom');\n    const phoneFocus = useRef(null);\n    useEffect(() => {\n        if (isPhoneEditing) {\n            //unable name\n            setIsNameEditing(false)\n            setIsNameDisabled(true)\n            setNameBorderBottom('thin-border-bottom')\n            //unable email\n            setIsEmailEditing(false)\n            setIsEmailDisabled(true)\n            setEmailBorderBottom('thin-border-bottom')\n            phoneFocus.current.focus();\n        }\n    }, [isPhoneEditing]);\n\n    const [isEmailEditing, setIsEmailEditing] = useState(false);\n    const [isEmailDisabled, setIsEmailDisabled] = useState(true);\n    const [emailBorderBottom, setEmailBorderBottom] = useState('thin-border-bottom');\n    const emailFocus = useRef(null);\n    useEffect(() => {\n        if (isEmailEditing) {\n            //unable phone\n            setIsPhoneEditing(false)\n            setIsPhoneDisabled(true)\n            setPhoneBorderBottom('thin-border-bottom')\n            //unable name\n            setIsNameEditing(false)\n            setIsNameDisabled(true)\n            setNameBorderBottom('thin-border-bottom')\n            emailFocus.current.focus();\n        }\n    }, [isEmailEditing]);\n\n\n    const toggleEditing = (value) => {\n        if (value === 'name') {\n            setIsNameEditing(!isNameEditing);\n            setIsNameDisabled(!isNameDisabled)\n            if (nameBorderBottom === 'thick-border-bottom') {\n                setNameBorderBottom('thin-border-bottom')\n            } else {\n                setNameBorderBottom('thick-border-bottom')\n            }\n        }\n        if (value === 'phone') {\n            setIsPhoneEditing(!isPhoneEditing);\n            setIsPhoneDisabled(!isPhoneDisabled)\n            if (phoneBorderBottom === 'thick-border-bottom') {\n                setPhoneBorderBottom('thin-border-bottom')\n            } else {\n                setPhoneBorderBottom('thick-border-bottom')\n            }\n        }\n        if (value === 'email') {\n            setIsEmailEditing(!isEmailEditing);\n            setIsEmailDisabled(!isEmailDisabled)\n            if (emailBorderBottom === 'thick-border-bottom') {\n                setEmailBorderBottom('thin-border-bottom')\n            } else {\n                setEmailBorderBottom('thick-border-bottom')\n            }\n        }\n    };\n\n\n    function signOut() {\n        StorageService.removeFromStorage('tori-user')\n        props.history.push('/')\n    }\n\n    return (\n        <motion.div\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n            style={{ width: \"100%\", height: \"100%\" }}\n        >\n            <main className=\"main-edit-container flex align-center justify-center column\">\n                <div className=\"sign-out flex align-center justify-center space-between\" onClick={signOut}>\n                    <i class=\"fas fa-sign-out-alt\"></i>\n                    <div>התנתק</div>\n                </div>\n                <div className=\"login-title\">\n                    לשינוי לחצו על סמל העריכה ולחצו 'שמור'.\n                    <div className=\"login-title-sub\">שדות המסומנים ב - *  הינם שדות חובה</div>\n                </div>\n                <form className=\"main-form flex align-center justify-center column\">\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* שם מלא  </div>\n                            <div className={`validation-text ${toggleNameValidation}`}>זהו שדה חובה, יש להכניס שם</div>\n                        </div>\n                        <div className={`input-edit-container ${nameBorderBottom} flex justify-center align-center`}>\n                            <input className=\"input-edit-page name\" disabled={isNameDisabled} ref={nameFocus} name=\"name\" id=\"outlined-basic\" variant=\"outlined\" value={name} onChange={handleChange} />\n                            {\n                                (isNameEditing) ?\n                                    <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('name')}></i>\n                                    :\n                                    <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('name')}></i>\n                            }\n                        </div>\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title\">* טלפון  </div>\n                            <div className={`validation-text ${togglePhoneValidation}`}>\n                                {\n                                    (phone) ?\n                                        \"מספר הטלפון שהוקש שגוי\"\n                                        :\n                                        \"זהו שדה חובה, יש להכניס טלפון\"\n                                }\n                            </div>\n                        </div>\n                        <div className={`input-edit-container ${phoneBorderBottom} flex justify-center align-center`}>\n                            <input className=\"input-edit-page phone\" disabled={isPhoneDisabled} ref={phoneFocus} name=\"phone\" id=\"outlined-basic\" variant=\"outlined\" value={phone} onChange={handleChange} />\n                            {\n                                (isPhoneEditing) ?\n                                    <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('phone')}></i>\n                                    :\n                                    <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('phone')}></i>\n                            }\n                        </div>\n                    </div>\n                    <div className=\"input-container\">\n                        <div className=\"form-title-container flex\">\n                            <div className=\"form-title form-title-email\">מייל </div>\n                            <div className={`validation-text ${toggleEmailValidation}`}>האימייל שהוקש שגוי</div>\n                        </div>\n                        <div className={`input-edit-container ${emailBorderBottom} flex justify-center align-center`}>\n                            <input className=\"input-edit-page email\" disabled={isEmailDisabled} ref={emailFocus} name=\"email\" id=\"outlined-basic\" variant=\"outlined\" value={email} onChange={handleChange} />\n                            {\n                                (isEmailEditing) ?\n                                    <i className=\"edit-logo fas fa-edit\" onClick={() => toggleEditing('email')}></i>\n                                    :\n                                    <i className=\"edit-logo far fa-edit\" onClick={() => toggleEditing('email')}></i>\n                            }\n                        </div>\n                    </div>\n                </form>\n\n                <span className=\"save-btn-wrapper\" onClick={toggleValidations}> <button className=\"save-btn\" onClick={setUser} disabled={!isValid.phone || !isValid.email || !isValid.name}>שמור</button></span>\n\n                <div>\n                    <Dialog open={open} onClose={() => handleClose('close')} aria-labelledby=\"form-dialog-title\">\n                        <DialogTitle id=\"form-dialog-title\"> {dialogTitle}</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                הכנס סיסמה\n          </DialogContentText>\n                            <TextField\n                                autoFocus\n                                margin=\"dense\"\n                                id=\"name\"\n                                label=\"סיסמה\"\n                                type=\"email\"\n                                fullWidth\n                                value={password}\n                                onChange={handleChange}\n                                name=\"password\"\n                            />\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => handleClose('close')} color=\"primary\">\n                                בטל\n          </Button>\n                            <Button onClick={handleClose} color=\"primary\">\n                                אשר\n          </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n\n            </main>\n        </motion.div>\n    );\n}\n\n\nexport const EditUser = withRouter(_EditUser)\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport AdvertiseService from '../../services/AdvertiseService';\nimport './Advertise.scss';\n\nexport function _Advertise(props) {\n\n    const [advertiseContent, setAdvertiseContent] = useState('')\n    // boolean shows if the returned ad should be shown and make the opposite to backend if btn clicked\n    const [isAdModeOn, setIsAdModeOn] = useState('')\n\n    useEffect(() => {\n        (async () => {\n            let ad = await AdvertiseService.getAd()\n            setIsAdModeOn(ad[0].isAdModeOn)\n            setAdvertiseContent(ad[0].content)\n        })()\n    }, []);\n\n\n    function handleChange({ target }) {\n        console.log(target.value)\n        setAdvertiseContent(target.value)\n    }\n\n    function updateAdContent() {\n        AdvertiseService.updateAd({ advertiseContent })\n    }\n    \n    function toggleAdMode() {\n        console.log(isAdModeOn)\n        AdvertiseService.toggleAdMode({isAdModeOn:!isAdModeOn})\n        setIsAdModeOn(!isAdModeOn)\n    }\n\n    return (\n        <main className=\"main-ad-container\">\n            {\n                <div className=\"ad-title\">ערכו את המודעה ולחצו 'שמור טקסט'</div>\n            }\n            {\n                isAdModeOn?\n                <div className=\"ad-title ad-sub-title\">לעצירת הפרסום לחצו 'הפסק פרסום'</div>:\n                <div className=\"ad-title ad-sub-title\">לחצו 'המשך פרסום' כדי להפעילה</div>\n            }\n                <div className=\"textarea-container\">\n                    <textarea className=\"ad-textarea\" cols=\"30\" rows=\"10\" value={advertiseContent} onChange={handleChange} ></textarea>\n                    <div className=\"ad-btn-container flex column\">\n                        {\n                            isAdModeOn?\n                            <button className=\"ad-btn stop-ad-btn\" onClick={toggleAdMode}> הפסק פרסום</button>\n                            :\n                            <button className=\"ad-btn run-ad-btn\" onClick={toggleAdMode}> המשך פרסום</button>\n                        }\n                    </div>\n                </div>\n            <button className=\"ad-content-btn\" onClick={updateAdContent}>שמור טקסט</button>\n        </main>\n\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n    }\n}\n\nconst mapDispatchToProps = {\n}\n\nexport const Advertise = connect(mapStateProps, mapDispatchToProps)(_Advertise)\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { loadUsers, updateUsers, updateUserToSchedule } from '../../actions/userAction.js';\nimport { CancelAppointment } from '../CancelAppointment/CancelAppointment';\nimport './AdminContacts.scss';\nexport function _AdminContacts(props) {\n    const [searchTerm, setSearchTerm] = useState('')\n    const [userPhone, setUserPhone] = useState('')\n    const [appointmentsModalIsOpen, setAppointmentsModalIsOpen] = useState(false);\n    useEffect(() => {\n        props.loadUsers()\n    }, [props.loadUsers]);\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'term':\n                setSearchTerm(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n    function closeAppointmentsModal() {\n        setAppointmentsModalIsOpen(false)\n    }\n    function saveClickedUserPhone(userPhone) {\n        setUserPhone(userPhone)\n        setAppointmentsModalIsOpen(true)\n    }\n    return (\n        <main className=\"admin-contacts\">\n                   {appointmentsModalIsOpen &&\n                    <>\n                        <div className=\"modal-screen\" onClick={closeAppointmentsModal}>\n                        </div>\n                        <div className=\"apointments-modal\">\n                             <header className=\"header-admin-contacts-modal\"></header>\n                            <CancelAppointment userPhone={userPhone}/>\n                        </div>\n                    </>\n                }\n            <div className=\"search-input-wrapper flex align-center\">\n                <input className=\"search-input-admin-contacts\" placeholder=\"חפשו לפי שם או טלפון\" name=\"term\" value={searchTerm} onChange={handleChange} />\n                <i className=\"fas fa-search\"></i>\n                <div onClick={() => props.history.push('/')} id=\"text\" className=\"logo\"> Tori<i className=\"fas fa-tasks\"></i></div>\n            </div>\n            <div className=\"admin-contacts-modal-title\">\n                ניתן להתקשר, לשלוח ווצאפ, לראות תורים שנקבעו\n                <div>  ואף למחוק אותם, ע״י לחיצה על האייקון המתאים.</div>\n            </div>\n            <div className=\"contacts-users-container-warpper\">\n                <div className=\"contacts-users-container\">\n                    {\n                        (props.users) &&\n                        props.users.map((user, idx) => {\n                            return (\n                                (user.name.includes(searchTerm) || user.phone.includes(searchTerm)) &&\n                                (!user.isAdmin)\n                                &&\n                                <div className={`user-container flex align-center justify-center`}  key={idx}>\n                                    <div className=\"user-name user-attr\">{user.name}</div>\n                                    <div className=\"user-icons-container flex \">\n                                        <div className=\"user-que user-attr\" onClick={() => saveClickedUserPhone(user.phone)}><i class=\"far fa-calendar-check\"></i></div>\n                                        <a className=\"user-whatsapp user-attr\" href={`https://api.whatsapp.com/send?phone=+972${user.phone.slice(1,user.phone.length)}`}>\n                                            <div><i class=\"fa fa-whatsapp\"></i></div>\n                                        </a>\n                                        <a className=\"user-phone user-attr\"  href={`tel:${user.phone}`}>\n                                             <div ><i class=\"fas fa-phone-alt\"></i></div>\n                                        </a>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        </main>\n    );\n}\nfunction mapStateProps(state) {\n    return {\n        users: state.UserReducer.users\n    }\n}\nconst mapDispatchToProps = {\n    loadUsers,\n    updateUsers,\n    updateUserToSchedule\n}\nexport const AdminContacts = connect(mapStateProps, mapDispatchToProps)(_AdminContacts)","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { loadUsers, updateUsers, updateUserToSchedule,updateUserPhoneInContactSignup } from '../../actions/userAction.js';\nimport './Contacts.scss';\n\nexport function _Contacts(props) {\n    const [searchTerm, setSearchTerm] = React.useState('')\n   \n    useEffect(() => {\n        props.loadUsers()\n    }, [props.loadUsers]);\n\n    function handleChange({ target }) {\n        const field = target.name;\n        const value = target.value;\n        switch (field) {\n            case 'term':\n                setSearchTerm(value)\n                break;\n            default:\n                console.log('Err updating name/phone/email')\n        }\n    }\n    function markClickedUser(clickedUser) {\n        let users = props.users.slice()\n        if (clickedUser.isMarked) {\n            users = users.map(user => {\n                user.isMarked = false\n                props.updateUserToSchedule(null)\n                return user\n            })\n        } else {\n            users = users.map(user => {\n                if (user._id === clickedUser._id) {\n                    user.isMarked = true\n                    props.updateUserToSchedule(user)\n                    return user\n                } else {\n                    user.isMarked = false\n                    return user\n                }\n            })\n        }\n        props.updateUsers(users)\n    }\n\n    function transferTosignup() {\n        props.history.push('/calendarAdmin/contacts/signup')\n    }\n\n    return (\n        <main className=\"contacts-main-container\">\n            <div className=\"search-input-container flex align-center\">\n                <input className=\"search-input\" placeholder=\"חפש לפי שם או טלפון\" name=\"term\" value={searchTerm} onChange={handleChange} />\n                <i className=\"fas fa-search\"></i>\n            </div>\n            <div className=\"users-container-warpper\">\n                <div className=\"users-container\">\n                    <div className=\"create-user flex align-center\" onClick={transferTosignup} >\n                        <div className=\"add-new-user flex justify-center align-center\"><i class=\"fas fa-plus-circle\"></i><div>לקוח חדש</div></div>\n                    </div>\n                    {\n                        (props.users) &&\n                        props.users.map((user, idx) => {\n                            return (\n                                (user.name.includes(searchTerm) || user.phone.includes(searchTerm)) &&\n                                (!user.isAdmin)\n                                &&\n                                <div className={`user-container ${(user.isMarked) ? 'user-clicked' : ''} flex align-center justify-center`} onClick={() => markClickedUser(user)} key={idx}>\n                                    <div className=\"check-mark-container flex align-center\">\n                                        {\n                                            (user.isMarked) && <i class=\"fas fa-check\"></i>\n                                        }\n                                    </div>\n                                    <div className=\"user-name user-attr\">{user.name}</div>\n                                    <div className=\"user-phone user-attr\">{user.phone}</div>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        </main>\n    );\n}\n\n\nfunction mapStateProps(state) {\n    return {\n        users: state.UserReducer.users,\n        userPhoneInContactSignup: state.UserReducer.userPhoneInContactSignup\n    }\n}\n\nconst mapDispatchToProps = {\n    loadUsers,\n    updateUsers,\n    updateUserToSchedule,\n    updateUserPhoneInContactSignup\n}\n\nexport const Contacts = connect(mapStateProps, mapDispatchToProps)(_Contacts)","import React from \"react\";\nimport { connect } from 'react-redux';\nimport './AppointmentOrBlock.scss';\n\nexport function _AppointmentOrBlock(props) {\n\n    return (\n        <>\n            <main className=\"main-appointment-or-block-container flex justify-center align-center column\">\n            <header className=\"header-in-apointment-or-block-modal\"></header>\n                <div className=\"routes-btn-container flex column space-around\">\n                    <div className=\"contacts-route-btn flex justify-center align-center\" onClick={() => props.history.push('/calendarAdmin/contacts')}>\n                        <div>קביעת תור ללקוח</div>\n                    </div >\n                    <div className=\"block-route-btn flex justify-center align-center\" onClick={() => props.history.push('/calendarAdmin/blockHours')}>\n                        <div>סגירת חלונות זמנים</div>\n                    </div>\n                </div>\n            <footer className=\"footer-in-apointment-or-block-modal\"></footer>\n            </main>\n        </>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const AppointmentOrBlock = connect(mapStateProps, mapDispatchToProps)(_AppointmentOrBlock)\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { updateHoursToBlock, updateSlotToBlock } from '../../actions/calendarActions';\nimport './BlockHours.scss';\n\nexport function _BlockHours(props) {\n\n    function markClickedUser(clickedSlotRange) {\n        let slotsRange = props.slotsRangeToBlock.slice()\n        if (clickedSlotRange.isMarked) {\n            slotsRange = slotsRange.map(slotRange => {\n                slotRange.isMarked = false\n                props.updateSlotToBlock(null)\n                return slotRange\n            })\n        } else {\n            slotsRange = props.slotsRangeToBlock.map(slotRange => {\n                if (slotRange.end === clickedSlotRange.end) {\n                    slotRange.isMarked = true\n                    props.updateSlotToBlock(slotRange)\n                    return slotRange\n                } else {\n                    slotRange.isMarked = false\n                    return slotRange\n                }\n            })\n        }\n        props.updateHoursToBlock(slotsRange)\n    }\n\n    return (\n        <main className=\"hours-main-container\">\n            <header className=\"header-in-block-hours-modal\"></header>\n            <div className=\"hours-container-warpper\">\n                <div className=\"hours-container\">\n                    {\n                        (props.slotsRangeToBlock) &&\n                        props.slotsRangeToBlock.map((slotRange, idx) => {\n                            return (\n                                (props.isDayFullyAvailable && (idx === 0))\n                                    ?\n                                    <div className={`hour-container ${(slotRange.isMarked) ? 'hour-clicked' : ''} flex align-center justify-center`} onClick={() => markClickedUser(slotRange)} key={idx}>\n                                        <div className=\"check-mark-container flex align-center\">\n                                            {\n                                                (slotRange.isMarked) && <i class=\"fas fa-check\"></i>\n                                            }\n                                        </div>\n                                        <div>לחצו לסגירת יום שלם</div>\n                                    </div>\n                                    :\n                                    <div className={`hour-container ${(slotRange.isMarked) ? 'hour-clicked' : ''} flex align-center justify-center`} onClick={() => markClickedUser(slotRange)} key={idx}>\n                                        <div className=\"check-mark-container flex align-center\">\n                                            {\n                                                (slotRange.isMarked) && <i class=\"fas fa-check\"></i>\n                                            }\n                                        </div>\n                                        <div className=\"hour-end user-attr\">{slotRange.end}</div>\n                                        <div className=\"hours-dash\">-</div>\n                                        <div className=\"hour-start user-attr\">{slotRange.start}</div>\n                                    </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        </main>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        slotsRangeToBlock: state.CalendarReducer.slotsRangeToBlock,\n        isDayFullyAvailable: state.CalendarReducer.isDayFullyAvailable\n    }\n}\n\nconst mapDispatchToProps = {\n    updateHoursToBlock,\n    updateSlotToBlock\n}\n\nexport const BlockHours = connect(mapStateProps, mapDispatchToProps)(_BlockHours)\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport UtilsService from \"../../services/UtilsService\";\nimport './BlockConfermation.scss';\n\nexport function _BlockConfermation(props) {\n  return (\n    <>\n      <header className=\"header-in-block-confermation-modal\">\n        לקביעת הסגירה לחצו 'אישור'\n    </header>\n      <main className=\"main-confermation-container flex align-center justify-center\">\n        <div className=\"block-confermation-details\">\n          <div className=\"table-cell1\">נבחרה סגירה</div>\n          <div className=\"table-cell2\">בתאריך : {UtilsService.convertDateToIsraelisDisplay(props.slotToBlock.date)}</div>\n          <div className=\"table-cell3\">בין השעות : {props.slotToBlock.end} - {props.slotToBlock.start}</div>\n        </div>\n      </main>\n    </>\n  );\n}\n\nfunction mapStateProps(state) {\n  return {\n    slotToBlock: state.CalendarReducer.slotToBlock\n  }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const BlockConfermation = connect(mapStateProps, mapDispatchToProps)(_BlockConfermation)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport './ModalButton.scss';\n\n\nfunction _ModalButton(props) {\n    const location = useLocation()\n    function checkBtnValidation() {\n        const path = location.pathname\n        let isValid = true\n        switch (path) {\n            case '/calendarAdmin/contacts':\n                isValid = props.isClicked\n                break;\n            case '/calendarAdmin/treatments':\n                isValid = (!props.pickedTreatmentsCount) || (!(props.duration <= props.availableDuration))\n                break;\n            case '/calendarAdmin/form':\n                isValid = false\n                break;\n            case '/calendarAdmin/blockHours':\n                isValid = props.isClicked\n                break;\n            case '/calendarAdmin/blockConfermation':\n                isValid = false\n                break;\n            case '/calendarAdmin/appointmentOrBlock':\n                isValid = true\n                break;\n            default:\n                console.log('Err updating button modal validation')\n        }\n        return isValid\n    }\n    return (\n        <button className=\"calendar-admin-modal-btn\" onClick={() => props.handleModalRoute(props.duration)}\n            disabled={checkBtnValidation()}>\n            {\n                (location.pathname === '/calendarAdmin/contacts') ?\n                    'בחרו לקוח ולחצו כאן להמשך'\n                    :\n                    (location.pathname === '/calendarAdmin/treatments')\n                        ?\n                        'לחצו כאן להמשך'\n                        :\n                        (location.pathname === '/calendarAdmin/blockHours')\n                            ?\n                            'בחרו שעה ולחצו להמשך'\n                            :\n                            (location.pathname === '/calendarAdmin/appointmentOrBlock')\n                                ?\n                                ''\n                                :\n                                'אישור'\n            }\n        </button>\n    )\n}\n\nfunction mapStateProps(state) {\n    return {\n        pickedTreatmentsCount: state.TreatmentReducer.pickedTreatmentsCount,\n        availableDuration: state.TreatmentReducer.availableDuration,\n        duration: state.TreatmentReducer.duration\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport const ModalButton = connect(mapStateProps, mapDispatchToProps)(_ModalButton)","import React, { useEffect, useState } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { motion } from 'framer-motion'\nimport { Swipeable } from 'react-swipeable'\nimport { LoaderApp } from '../../cmps/LoaderApp/LoaderApp'\nimport DateFnsUtils from '@date-io/date-fns';\nimport heLocale from \"date-fns/locale/he\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { createMuiTheme, Hidden } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { updateAvailbleDuration, setTreatment } from '../../actions/treatmentActions.js';\nimport { updateHoursToBlock, updateIsDayFullyAvailable } from '../../actions/calendarActions';\nimport {updateUserPhoneInContactSignup} from '../../actions/userAction.js';\nimport TreatmentService from \"../../services/TreatmentService\";\nimport UtilsService from '../../services/UtilsService';\nimport CalendarService from '../../services/CalendarService';\nimport EventService from '../../services/EventService';\nimport StoreService from '../../services/StoreService';\nimport { TreatmentApp } from '../TreatmentApp/TreatmentApp'\nimport { Contacts } from '../../pages/Contacts/Contacts.jsx'\nimport { AppointmentOrBlock } from '../../pages/AppointmentOrBlock/AppointmentOrBlock.jsx'\nimport { BlockHours } from '../../pages/BlockHours/BlockHours.jsx'\nimport { BlockConfermation } from '../../pages/BlockConfermation/BlockConfermation.jsx'\nimport { SubmitForm } from '../../pages/SubmitForm/SubmitForm.jsx'\nimport { ModalButton } from '../../cmps/ModalButton/ModalButton.jsx'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { DatePicker } from \"@material-ui/pickers\";\nimport './CalendarAdmin.scss';\nimport { Signup } from \"../Signup/Signup\";\n\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide timeout={5000} direction=\"down\" ref={ref} {...props} />;\n});\n\n// motion div style\nconst pageVariants = {\n    in: {\n        opacity: 1,\n        x: 0,\n        textAlign: 'center'\n    },\n    out: {\n        opacity: 0,\n        x: \"50%\"\n    }\n}\n\nconst pageTransition = {\n    duration: 0.5,\n    type: \"spring\",\n    stiffness: 50\n}\n\n\n// material ui - date picker style\nconst materialTheme = createMuiTheme({\n    overrides: {\n        MuiPickersToolbar: {\n            toolbar: {\n                backgroundColor: '#e91e63',\n            },\n        },\n\n\n\n        MuiPickersDay: {\n            day: {\n                color: 'black',\n            },\n            daySelected: {\n                backgroundColor: '#e91e63',\n            },\n            dayDisabled: {\n                color: '#e91e63',\n            },\n            current: {\n                color: '#e91e63',\n            },\n        },\n    },\n});\n\n\nexport function _CalendarAdmin(props) {\n    //the date is irrelevant, its only for the formated function the hours wiil be given by the owner.\n    const location = useLocation()\n\n    const constrains = {\n        start: \"2020-10-12T06:00:00Z\",\n        end: \"2020-10-12T18:00:00Z\"\n    }\n    const [selectedDate, handleDateChange] = useState(new Date());\n    const [weeklyDates, setWeeklyDates] = useState([]);\n    const [tableModel, setTableModel] = useState([]);\n    const [timeSlots, setWorkingTimeSlots] = useState(getWorkingTimeSlots());\n    const [isClicked, setIsClicked] = useState(true);\n    const [tableCells, setTableCells] = useState([]);\n    const [month, setMonth] = useState(UtilsService.getMonthByIdx(new Date().getMonth() + 1));\n    const [eventsToDisplay, setEventsToDisplay] = useState(async () => {\n        return await getWeeklyEvents()\n    });\n    const [daysForDisplay, setDaysForDisplay] = useState(() => {\n        return getDailyDates(selectedDate)\n    });\n    const [loader, setLoader] = useState(true);\n    let table = []\n    let eventsIds = []\n    useEffect(() => {\n        (async () => {\n            if (timeSlots) console.log(timeSlots);\n            let weeklyEvents = await eventsToDisplay\n            if (weeklyEvents) setLoader(false)\n            if (weeklyEvents && timeSlots) {\n                table = CalendarService.buildWeeklyModel(timeSlots, weeklyEvents)\n                return setTableCells(\n                    timeSlots.map((ts, tsIdx) => {\n                        if (tsIdx === timeSlots.length - 1) return\n                        return <tr key={tsIdx}>\n                            <td className=\"td-hours\">{ts}</td>\n                            {\n                                weeklyEvents.map((dailyEvents, dailyIdx) => {\n\n                                    let counter = 0\n                                    if (dailyEvents.length) {\n                                        let cellIsRendered = false\n                                        return dailyEvents.map((ev, eventIdx) => {\n                                            let evenOrOdd = (dailyIdx % 2 === 0) ? 'even-event' : 'odd-event'\n                                            if (counter > 2) counter = 0\n                                            const range = UtilsService.checkIfTsInRange(ts, ev.start, ev.end, 30)\n                                            if (range.occupied) {\n                                                cellIsRendered = true\n                                                if (!eventsIds.includes(ev.id)) {\n                                                    eventsIds.push(ev.id)\n                                                    return <td className={`occupied-cell ${(ev.name === 'block - block') ? 'blocked-cell' : ''} ${evenOrOdd}-${(counter)}`} key={eventIdx} onClick={() => handleClickOpen(ev)} rowSpan={range.rowspan}>\n                                                        <div className=\"occupied-cell-content\">\n                                                            <div className=\"event-time\">{(ev.start).slice(11, 16)}-{(ev.end).slice(11, 16)}</div>\n                                                            {(ev.name === 'block - block')\n                                                                ?\n                                                                <div>\n                                                                    סגור\n                                                                </div>\n                                                                :\n                                                                <div className=\"event-desc\">{ev.name}</div>\n                                                            }\n                                                        </div>\n                                                    </td>\n\n                                                } else return ''\n                                            }\n                                            else if ((dailyEvents.length === eventIdx + 1) && (!cellIsRendered)) {\n                                                return <td className=\"available-cell\" key={eventIdx} onClick={() => openAppointmentsModal({ tsIdx, dailyIdx }, ts)}>{<i className=\"fas fa-plus\"></i>}</td>\n                                            }\n                                            counter++\n                                        })\n                                    } else {\n                                        //all day available no event at this day\n                                        return <td key={dailyIdx} className=\"available-cell\" onClick={() => openAppointmentsModal({ tsIdx, dailyIdx }, ts, true)}>{<i className=\"fas fa-plus\"></i>}</td>\n                                    }\n                                })\n                            }\n                        </tr>\n                    })\n                )\n            }\n        })()\n    }, [eventsToDisplay]);\n\n    useEffect(() => {\n        checkIfClicked()\n    }, [props.users, props.slotsRangeToBlock]);\n\n\n    function checkIfClicked() {\n        if (location.pathname === '/calendarAdmin/contacts') {\n            setIsClicked(!(props.users.find(user => user.isMarked)))\n        }\n        if (location.pathname === '/calendarAdmin/blockHours') {\n            setIsClicked(!(props.slotsRangeToBlock.find(sr => sr.isMarked)))\n        }\n    }\n\n    function handleModalRoute(duration) {\n        if (location.pathname === '/calendarAdmin/contacts') {\n            props.history.push('/calendarAdmin/treatments')\n            setIsClicked(true)\n        }\n        if (location.pathname === '/calendarAdmin/treatments') {\n            props.history.push('/calendarAdmin/form')\n        }\n        if (location.pathname === '/calendarAdmin/form') {\n            setAppointment(duration)\n            closeAppointmentsModal()\n        }\n        if (location.pathname === '/calendarAdmin/blockHours') {\n            props.history.push('/calendarAdmin/blockConfermation')\n        }\n        if (location.pathname === '/calendarAdmin/blockConfermation') {\n            blockSlotRange()\n            closeAppointmentsModal()\n        }\n    }\n\n    function getDailyDates(date) {\n        const days = UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)\n        setWeeklyDates(days)\n        return days.map(day => {\n            return day.start.slice(8, 10)\n        })\n    }\n\n    function cancelAppiontment() {\n        setEventsToDisplay(async () => {\n            return await getWeeklyEvents(selectedDate)\n        })\n        CalendarService.removeEventFromCalendar(eventToRmoveId.calendar)\n        // delete from mongo data base\n        EventService.removeEventFromDB(eventToRmoveId.mongo)\n        // EmailService.sendEmail(eventToRmove.name, eventToRmove.date, eventToRmove.email, false)\n    }\n\n    function getDatesWeeklyRange(date) {\n            const days = UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)\n            const firstDay = UtilsService.convertDateToIsraelisDisplay(days[0].start.slice(0, 10))\n            const lastDay = UtilsService.convertDateToIsraelisDisplay(days[days.length - 1].start.slice(0, 10))\n            return { lastDay, firstDay }\n\n    }\n\n    function getWorkingTimeSlots() {\n        return UtilsService.getDailySlotsForPreview([constrains], 15)\n    }\n\n    async function getWeeklyEvents(date = new Date()) {\n        return await Promise.all((UtilsService.getWeekIsosDatesForCalendar(date.getDay() + 1, date)).map(async isosDate => {\n            return await CalendarService.getEventsFromCalendar(isosDate)\n        }))\n    }\n\n    async function handleChange(date) {\n        setDaysForDisplay(getDailyDates(date))\n        setMonth(UtilsService.getMonthByIdx(date.getMonth() + 1))\n        eventsIds = []\n        setLoader(true)\n        const weeklyEvents = await getWeeklyEvents(date)\n        if (weeklyEvents) {\n            setLoader(false)\n        }\n        setEventsToDisplay(weeklyEvents)\n        handleDateChange(date)\n    }\n    function onSwipeDirection(direction) {\n        if (!loader) {\n            //need to change to normal way\n            if ((direction === 'Left') && (selectedDate.getTime()) > (new Date().getTime())) {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() - 7)));\n            }\n            else if (direction === 'Right') {\n                handleChange(new Date(selectedDate.setDate(selectedDate.getDate() + 7)));\n            }\n            // else {\n            //     if ((direction !== 'Up') && (direction !== 'Down')) {\n            //         seTcalendarTitle('לא ניתן לבחור תאריך שעבר')\n            //         setPickerRedTitle('picker-red-title')\n            //         setTimeout(() => {\n            //             seTcalendarTitle('בחרו תאריך ושעה, ניתן להחליק ימינה/שמאלה ');\n            //             setPickerRedTitle('date-picker-title')\n            //         }, 3000);\n            //     }\n            // }\n        }\n    }\n    const [isOpen, setIsOpen] = useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [eventToRmoveId, setEventToRmove] = React.useState({});\n    const [modalSubJect, setModalSubJect] = React.useState({});\n\n    const handleClickOpen = async (ev) => {\n        if (ev.name === 'block - block') setModalSubJect(true)\n        else setModalSubJect(false)\n        const mongoEvent = await EventService.getMongoEventByEventCalendarId(ev.id)\n        console.log(mongoEvent);\n        setEventToRmove({ mongo: mongoEvent._id, calendar: ev.id })\n        console.log(ev.id);\n        setOpen(true);\n    };\n\n    const handleClose = (isApproved) => {\n        setOpen(false);\n        if (isApproved) cancelAppiontment()\n    };\n\n\n    async function setAppointment(duration) {\n        const markedTreatmetns = TreatmentService.getMarkedTreatmentsStr(props.treatments)\n        const { phone, email, name } = props.userToSchedule\n        await CalendarService.setAppointment(markedTreatmetns, duration, phone, email, name, props.treatment)\n        setEventsToDisplay(await getWeeklyEvents(selectedDate))\n    }\n\n    async function blockSlotRange() {\n        await CalendarService.blockSlotRange(props.slotToBlock)\n        setEventsToDisplay(await getWeeklyEvents(selectedDate))\n    }\n\n    let weeklyRange = getDatesWeeklyRange(selectedDate)\n    const [appointmentsModalIsOpen, setAppointmentsModalIsOpen] = React.useState(false);\n\n    function openAppointmentsModal(cellPos, ts, isDayFullyAvailable = false) {\n        props.updateIsDayFullyAvailable(isDayFullyAvailable)\n        const dateToScheduale = weeklyDates[cellPos.dailyIdx].start\n        props.setTreatment({\n            time: ts,\n            date: dateToScheduale.slice(0, 10)\n        })\n        const availableDuration = CalendarService.getAvailbleDuration(table, cellPos)\n        props.updateAvailbleDuration(availableDuration)\n        props.updateHoursToBlock(CalendarService.getHoursToBlock(timeSlots, ts, availableDuration, dateToScheduale.slice(0, 10), isDayFullyAvailable))\n        setAppointmentsModalIsOpen(true)\n        props.history.push('/calendarAdmin/appointmentOrBlock')\n    }\n\n    function closeAppointmentsModal() {\n        setAppointmentsModalIsOpen(false)\n        props.updateUserPhoneInContactSignup('')\n        StoreService.initApp()\n        props.history.push('/calendarAdmin')\n    }\n    let isCalendarAdminForm = (location.pathname === '/calendarAdmin/form')\n\n    function disableDay(date) {\n\n        return  (date.getDay() === 6);\n      }\n\n    return (\n        <motion.div\n            initial=\"out\"\n            exit=\"in\"\n            animate=\"in\"\n            variants={pageVariants}\n            transition={pageTransition}\n            style={{ width: \"100%\", height: \"100%\" }}\n        >\n            <main className=\"calendar-admin-container\">\n                <div className=\"header-app flex justifiy-center align-center space-between\" >\n                    <div className=\"weekly-dates-container flex space-between align-center\" onClick={() => setIsOpen(true)}>\n                        <i className=\"calendar-icon fas fa-calendar-week\"></i>\n                        <div className=\"weekly-dates-text\">{weeklyRange.firstDay}<br />{weeklyRange.lastDay} </div>\n                    </div>\n                    <div id=\"text2\" onClick={() => props.history.push('/')} >Tori<i className=\"fas fa-tasks\"></i></div>\n                </div>\n                <Swipeable onSwiped={(eventData) => onSwipeDirection(eventData.dir)} >\n                    <header className=\"days-header-container flex space-between\">\n                        <div className=\"dayes-name-container\" >\n                            <div className=\"month-name\">{month}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">ראשון</div>\n                            <div className=\"daily-num\"> {daysForDisplay[0]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שני</div>\n                            <div className=\"daily-num\"> {daysForDisplay[1]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שלישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[2]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">רביעי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[3]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">חמישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[4]}</div>\n                        </div>\n                        <div className=\"dayes-name-container\">\n                            <div className=\"daily-name\">שישי</div>\n                            <div className=\"daily-num\"> {daysForDisplay[5]}</div>\n                        </div>\n                    </header>\n                    <div>\n                        {\n                            !loader ?\n                                <div className=\"table-container\">\n                                    <table>\n                                        <tbody>\n                                            {\n                                                (tableCells.length) &&\n                                                tableCells\n                                            }\n                                        </tbody>\n                                    </table>\n                                    <footer className=\"calendar-footer flex align-center justify-center\">\n                                        <div className=\"footer-hours\">20:00</div>\n                                    </footer>\n                                </div>\n                                :\n                                <div className=\"loader-container flex justify-center align-center space-around\">\n                                    <LoaderApp />\n                                </div>\n                        }\n                    </div>\n                </Swipeable>\n                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={heLocale} >\n                    <ThemeProvider theme={materialTheme}>\n                        <DatePicker\n                            disablePast={true}\n                            shouldDisableDate={disableDay}\n                            variant=\"dialog\"\n                            okLabel=\"אישור\"\n                            cancelLabel=\"ביטול\"\n                            open={isOpen}\n                            onOpen={() => setIsOpen(true)}\n                            onClose={() => setIsOpen(false)}\n                            format=\"MM/dd/yyyy\"\n                            id=\"date-picker-inline\"\n                            disableToolbar\n                            value={selectedDate}\n                            onChange={handleChange}\n                            InputProps={{\n                                disableUnderline: true,\n                                style: { width: '0' }\n                            }}\n                            keyboardbuttonprops={{\n                                'aria-label': 'change date',\n                            }}\n                        />\n                    </ThemeProvider>\n                </MuiPickersUtilsProvider>\n                <div>\n                    <Dialog\n                        open={open}\n                        TransitionComponent={Transition}\n                        keepMounted\n                        onClose={() => handleClose(false)}\n                        aria-labelledby=\"alert-dialog-slide-title\"\n                        aria-describedby=\"alert-dialog-slide-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-slide-title\">{modalSubJect ? 'מחיקת סגירה' : 'מחיקת תור'}</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-slide-description\">\n                                {\n                                    modalSubJect ?\n                                        'האם את/ה בטוח/ה שברצונך למחוק סגירה זאת?'\n                                        : ' האם את/ה בטוח/ה שברצונך למחוק תור זה?'\n                                }\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => handleClose(false)} color=\"primary\">\n                                ביטול\n               </Button>\n                            <Button onClick={() => handleClose(true)} color=\"primary\">\n                                אישור\n               </Button>\n                        </DialogActions>\n                    </Dialog>\n                </div>\n                {appointmentsModalIsOpen &&\n                    <>\n                        <div className=\"modal-screen\" onClick={closeAppointmentsModal}>\n                        </div>\n                        <div className=\"apointments-modal\">\n                            {isCalendarAdminForm &&\n                                <header className=\"header-in-form-modal\">\n                                    לקביעת התור לחצו 'אישור'\n                                </header>\n                            }\n                            <Router>\n                                <Route path=\"/calendarAdmin/contacts\" exact component={Contacts} />\n                                <Route path=\"/calendarAdmin/contacts/signup\" component={Signup} />\n                                <Route path=\"/calendarAdmin/treatments\" component={TreatmentApp} />\n                                <Route path=\"/calendarAdmin/form\" component={SubmitForm} />\n                                <Route path=\"/calendarAdmin/appointmentOrBlock\" component={AppointmentOrBlock} />\n                                <Route path=\"/calendarAdmin/blockHours\" component={BlockHours} />\n                                <Route path=\"/calendarAdmin/blockConfermation\" component={BlockConfermation} />\n                            </Router>\n                            {((location.pathname !== '/calendarAdmin/appointmentOrBlock')&&(location.pathname !== '/calendarAdmin/contacts/signup')) && <ModalButton handleModalRoute={handleModalRoute} isClicked={isClicked} />}\n                        </div>\n                    </>\n                }\n            </main>\n        </motion.div>\n    );\n}\n\nfunction mapStateProps(state) {\n    return {\n        users: state.UserReducer.users,\n        userToSchedule: state.UserReducer.userToSchedule,\n        treatments: state.TreatmentReducer.treatments,\n        treatment: state.TreatmentReducer.treatment,\n        slotsRangeToBlock: state.CalendarReducer.slotsRangeToBlock,\n        slotToBlock: state.CalendarReducer.slotToBlock\n    }\n}\n\nconst mapDispatchToProps = {\n    updateAvailbleDuration,\n    setTreatment,\n    updateHoursToBlock,\n    updateIsDayFullyAvailable,\n    updateUserPhoneInContactSignup\n}\n\nexport const CalendarAdmin = connect(mapStateProps, mapDispatchToProps)(_CalendarAdmin)\n","import React from 'react';\nimport './App.scss';\nimport { Switch, Route } from 'react-router-dom';\nimport { AppHeader } from './cmps/AppHeader/AppHeader';\nimport { TreatmentApp } from './pages/TreatmentApp/TreatmentApp.jsx'\nimport { CalendarApp } from './pages/CalendarApp/CalendarApp.jsx'\nimport { SubmitForm } from './pages/SubmitForm/SubmitForm.jsx'\nimport { CancelAppointment } from './pages/CancelAppointment/CancelAppointment.jsx'\nimport { SignupOrLogin } from './pages/SignupOrLogin/SignupOrLogin.jsx'\nimport { Login } from './pages/Login/Login.jsx'\nimport { Signup } from './pages/Signup/Signup.jsx'\nimport { HomePage } from './pages/HomePage/HomePage.jsx'\nimport { EditUser } from './pages/EditUser/EditUser.jsx'\nimport { Advertise } from './pages/Advertise/Advertise.jsx'\nimport { AdminContacts } from './pages/AdminContacts/AdminContacts.jsx'\nimport { CalendarAdmin } from './pages/CalendarAdmin/CalendarAdmin.jsx'\nimport { HashRouter as Router} from 'react-router-dom';\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <AppHeader/>\n          <Switch >\n            <Route path=\"/calendar\" component={CalendarApp} />\n            <Route path=\"/cancelAppointment\" component={CancelAppointment} />\n            <Route path=\"/form\" component={SubmitForm} />\n            <Route path=\"/treatments\" component={TreatmentApp} />\n            <Route path=\"/signupOrLogin\" component={SignupOrLogin} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/editUser\" component={EditUser} />\n            <Route path=\"/calendarAdmin\" component={CalendarAdmin} />\n            <Route path=\"/advertise\" component={Advertise} />\n            <Route path=\"/adminContacts\" component={AdminContacts} />\n            <Route path=\"/\" component={HomePage} />\n          </Switch>\n      </div>\n      </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { store } from './store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/style.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}